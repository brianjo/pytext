
<script type="text/javascript" id="documentation_options" data-url_root="./"
  src="/js/documentation_options.js"></script>
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/js/underscore.js"></script>
<script type="text/javascript" src="/js/doctools.js"></script>
<script type="text/javascript" src="/js/language_data.js"></script>
<script type="text/javascript" src="/js/searchtools.js"></script>
<div class="sphinx"><div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="section" id="pytext-data-package">
<h1>pytext.data package<a class="headerlink" href="#pytext-data-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pytext.data.data_structures.html">pytext.data.data_structures package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.data_structures.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.data_structures.html#module-pytext.data.data_structures.annotation">pytext.data.data_structures.annotation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.data_structures.html#module-pytext.data.data_structures.node">pytext.data.data_structures.node module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.data_structures.html#module-pytext.data.data_structures">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pytext.data.featurizer.html">pytext.data.featurizer package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.featurizer.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.featurizer.html#module-pytext.data.featurizer.featurizer">pytext.data.featurizer.featurizer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.featurizer.html#module-pytext.data.featurizer.simple_featurizer">pytext.data.featurizer.simple_featurizer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.featurizer.html#module-pytext.data.featurizer">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pytext.data.sources.html">pytext.data.sources package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.sources.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.sources.html#module-pytext.data.sources.conllu">pytext.data.sources.conllu module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.sources.html#module-pytext.data.sources.data_source">pytext.data.sources.data_source module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.sources.html#module-pytext.data.sources.pandas">pytext.data.sources.pandas module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.sources.html#module-pytext.data.sources.session">pytext.data.sources.session module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.sources.html#module-pytext.data.sources.squad">pytext.data.sources.squad module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.sources.html#module-pytext.data.sources.tsv">pytext.data.sources.tsv module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.sources.html#module-pytext.data.sources">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pytext.data.test.html">pytext.data.test package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.batch_sampler_test">pytext.data.test.batch_sampler_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.data_test">pytext.data.test.data_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.dynamic_pooling_batcher_test">pytext.data.test.dynamic_pooling_batcher_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.pandas_data_source_test">pytext.data.test.pandas_data_source_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.round_robin_batchiterator_test">pytext.data.test.round_robin_batchiterator_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.simple_featurizer_test">pytext.data.test.simple_featurizer_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.tensorizers_test">pytext.data.test.tensorizers_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.tokenizers_test">pytext.data.test.tokenizers_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.tsv_data_source_test">pytext.data.test.tsv_data_source_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test.utils_test">pytext.data.test.utils_test module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.test.html#module-pytext.data.test">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pytext.data.tokenizers.html">pytext.data.tokenizers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.tokenizers.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.tokenizers.html#module-pytext.data.tokenizers.tokenizer">pytext.data.tokenizers.tokenizer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.data.tokenizers.html#module-pytext.data.tokenizers">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pytext.data.batch_sampler">
<span id="pytext-data-batch-sampler-module"></span><h2>pytext.data.batch_sampler module<a class="headerlink" href="#module-pytext.data.batch_sampler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.batch_sampler.AlternatingRandomizedBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.batch_sampler.</code><code class="sig-name descname">AlternatingRandomizedBatchSampler</code><span class="sig-paren">(</span><em class="sig-param">unnormalized_iterator_probs: Dict[str, float], second_unnormalized_iterator_probs: Dict[str, float]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#AlternatingRandomizedBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.AlternatingRandomizedBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.batch_sampler.RandomizedBatchSampler" title="pytext.data.batch_sampler.RandomizedBatchSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.batch_sampler.RandomizedBatchSampler</span></code></a></p>
<p>This sampler takes in a dictionary of iterators and returns batches alternating
between keys and probabilities specified by <cite>unnormalized_iterator_probs</cite> and
‘second_unnormalized_iterator_probs’, This is used for example in XLM
pre-training where we alternate between MLM and TLM batches.</p>
<dl class="method">
<dt id="pytext.data.batch_sampler.AlternatingRandomizedBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#AlternatingRandomizedBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.AlternatingRandomizedBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.batch_sampler.AlternatingRandomizedBatchSampler.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.batch_sampler.AlternatingRandomizedBatchSampler.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#AlternatingRandomizedBatchSampler.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.AlternatingRandomizedBatchSampler.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.batch_sampler.BaseBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.batch_sampler.</code><code class="sig-name descname">BaseBatchSampler</code><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#BaseBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.BaseBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<dl class="method">
<dt id="pytext.data.batch_sampler.BaseBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#BaseBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.BaseBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.batch_sampler.BaseBatchSampler.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.config.component.Component.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#BaseBatchSampler.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.BaseBatchSampler.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.batch_sampler.EvalBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.batch_sampler.</code><code class="sig-name descname">EvalBatchSampler</code><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#EvalBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.EvalBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.batch_sampler.BaseBatchSampler" title="pytext.data.batch_sampler.BaseBatchSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.batch_sampler.BaseBatchSampler</span></code></a></p>
<p>This sampler takes in a dictionary of Iterators and returns batches
associated with each key in the dictionary. It guarentees that we  will see
each batch associated with each key exactly once in the epoch.</p>
<p class="rubric">Example</p>
<p>Iterator 1: [A, B, C, D], Iterator 2: [a, b]</p>
<p>Output: [A, B, C, D, a, b]</p>
<dl class="method">
<dt id="pytext.data.batch_sampler.EvalBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#EvalBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.EvalBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>Loop through each key in the input dict and generate batches from
the iterator associated with that key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iterators</strong> – Dictionary of iterators</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.batch_sampler.RandomizedBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.batch_sampler.</code><code class="sig-name descname">RandomizedBatchSampler</code><span class="sig-paren">(</span><em class="sig-param">unnormalized_iterator_probs: Dict[str, float]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RandomizedBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.RandomizedBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.batch_sampler.BaseBatchSampler" title="pytext.data.batch_sampler.BaseBatchSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.batch_sampler.BaseBatchSampler</span></code></a></p>
<p>This sampler takes in a dictionary of iterators and returns batches according
to the specified probabilities by <cite>unnormalized_iterator_probs</cite>. We cycle through
the iterators (restarting any that “run out”) indefinitely. Set batches_per_epoch
in Trainer.Config.</p>
<p class="rubric">Example</p>
<p>Iterator A: [A, B, C, D],  Iterator B: [a, b]</p>
<p>batches_per_epoch = 3, unnormalized_iterator_probs = {“A”: 0, “B”: 1}
Epoch 1 = [a, b, a]
Epoch 2 = [b, a, b]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unnormalized_iterator_probs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em>) – Iterator sampling probabilities.
The keys should be the same as the keys of the underlying iterators, and the
values will be normalized to sum to 1.</p>
</dd>
</dl>
<dl class="method">
<dt id="pytext.data.batch_sampler.RandomizedBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RandomizedBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.RandomizedBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.batch_sampler.RandomizedBatchSampler.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.batch_sampler.RandomizedBatchSampler.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RandomizedBatchSampler.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.RandomizedBatchSampler.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.batch_sampler.RoundRobinBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.batch_sampler.</code><code class="sig-name descname">RoundRobinBatchSampler</code><span class="sig-paren">(</span><em class="sig-param">iter_to_set_epoch: Optional[str] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RoundRobinBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.RoundRobinBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.batch_sampler.BaseBatchSampler" title="pytext.data.batch_sampler.BaseBatchSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.batch_sampler.BaseBatchSampler</span></code></a></p>
<p>This sampler takes a dictionary of Iterators and returns batches in a round
robin fashion till a the end of one of the iterators is reached. The end
is specified by <cite>iter_to_set_epoch</cite>.</p>
<p>If <cite>iter_to_set_epoch</cite> is set, cycle batches from each iterator until one
epoch of the target iterator is fulfilled. Iterators with fewer batches
than the target iterator are repeated, so they never run out.</p>
<p>If <cite>iter_to_set_epoch</cite> is None, cycle over batches from each iterator until the
shortest iterator completes one epoch.</p>
<p class="rubric">Example</p>
<p>Iterator 1: [A, B, C, D],  Iterator 2: [a, b]</p>
<p>iter_to_set_epoch = “Iterator 1”
Output: [A, a, B, b, C, a, D, b]</p>
<p>iter_to_set_epoch = None
Output: [A, a, B, b]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_to_set_epoch</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Name of iterator to define epoch size.
If this is not set, epoch size defaults to the length of
the shortest iterator.</p>
</dd>
</dl>
<dl class="method">
<dt id="pytext.data.batch_sampler.RoundRobinBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RoundRobinBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.RoundRobinBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>Loop through each key in the input dict and generate batches from
the iterator associated with that key until the target iterator reaches
its end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iterators</strong> – Dictionary of iterators</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.batch_sampler.RoundRobinBatchSampler.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.batch_sampler.RoundRobinBatchSampler.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RoundRobinBatchSampler.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.RoundRobinBatchSampler.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.data.batch_sampler.extract_iterator_properties">
<code class="sig-prename descclassname">pytext.data.batch_sampler.</code><code class="sig-name descname">extract_iterator_properties</code><span class="sig-paren">(</span><em class="sig-param">input_iterator_probs: Dict[str, float]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#extract_iterator_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.extract_iterator_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for RandomizedBatchSampler and AlternatingRandomizedBatchSampler
to generate iterator properties: iterator_names and iterator_probs.</p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.batch_sampler.select_key_and_batch">
<code class="sig-prename descclassname">pytext.data.batch_sampler.</code><code class="sig-name descname">select_key_and_batch</code><span class="sig-paren">(</span><em class="sig-param">iterator_names: Dict[str, str], iterator_probs: Dict[str, float], iter_dict: Dict[str, collections.abc.Iterator], iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#select_key_and_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.batch_sampler.select_key_and_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for RandomizedBatchSampler and AlternatingRandomizedBatchSampler
to select a key from iterator_names using iterator_probs and return a batch
for the selected key using iter_dict and iterators.</p>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.bert_tensorizer">
<span id="pytext-data-bert-tensorizer-module"></span><h2>pytext.data.bert_tensorizer module<a class="headerlink" href="#module-pytext.data.bert_tensorizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.bert_tensorizer.BERTTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.bert_tensorizer.</code><code class="sig-name descname">BERTTensorizer</code><span class="sig-paren">(</span><em class="sig-param">columns: List[str] = ['text'], vocab: pytext.data.utils.Vocabulary = None, tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None, max_seq_len: int = 256, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.bert_tensorizer.BERTTensorizerBase" title="pytext.data.bert_tensorizer.BERTTensorizerBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.bert_tensorizer.BERTTensorizerBase</span></code></a></p>
<p>Tensorizer for BERT tasks.  Works for single sentence, sentence pair, triples etc.</p>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.bert_tensorizer.BERTTensorizer.Config</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>from_config parses the config associated with the tensorizer and
creates both the tokenizer and the Vocabulary object. The extra arguments
passed as kwargs allow us to reuse thie function with variable number
of arguments (eg: for classes which derive from this class).</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBase">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.bert_tensorizer.</code><code class="sig-name descname">BERTTensorizerBase</code><span class="sig-paren">(</span><em class="sig-param">columns: List[str] = ['text'], vocab: pytext.data.utils.Vocabulary = None, tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None, max_seq_len: int = 256, base_tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Base Tensorizer class for all BERT style models including XLM,
RoBERTa and XLM-R.</p>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBase.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBase.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBase.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">vocab_builder=None</em>, <em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBase.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBase.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>The initialize function is carefully designed to allow us to read through the
training dataset only once, and not store it in memory. As such, it can’t itself
manually iterate over the data source. Instead, the initialize function is a
coroutine, which is sent row data. This should look roughly like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set up variables here</span>
<span class="o">...</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># start reading through data source</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># row has type Dict[str, types.DataType]</span>
        <span class="n">row</span> <span class="o">=</span> <span class="k">yield</span>
        <span class="c1"># update any variables, vocabularies, etc.</span>
        <span class="o">...</span>
<span class="k">except</span> <span class="ne">GeneratorExit</span><span class="p">:</span>
    <span class="c1"># finalize your initialization, set instance variables, etc.</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>See <cite>WordTokenizer.initialize</cite> for a more concrete example.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBase.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row: Dict</em><span class="sig-paren">)</span> → Tuple[Any, ...]<a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBase.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBase.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>This function contains logic for converting tokens into ids based on
the specified vocab. It also outputs, for each instance, the vectors
needed to run the actual model.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBase.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBase.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBase.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBase.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span> → Tuple[torch.Tensor, ...]<a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBase.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBase.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert instance level vectors into batch level tensors.</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBase.tensorizer_script_impl">
<code class="sig-name descname">tensorizer_script_impl</code><em class="property"> = None</em><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBase.tensorizer_script_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.bert_tensorizer.</code><code class="sig-name descname">BERTTensorizerBaseScriptImpl</code><span class="sig-paren">(</span><em class="sig-param">tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer</em>, <em class="sig-param">vocab: pytext.data.utils.Vocabulary</em>, <em class="sig-param">max_seq_len: int</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBaseScriptImpl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.TensorizerScriptImpl" title="pytext.data.tensorizers.TensorizerScriptImpl"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.TensorizerScriptImpl</span></code></a></p>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">texts: Optional[List[List[str]]] = None</em>, <em class="sig-param">pre_tokenized: Optional[List[List[List[str]]]] = None</em><span class="sig-paren">)</span> → Tuple[torch.Tensor, torch.Tensor, torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBaseScriptImpl.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Wire up tokenize(), numberize() and tensorize() functions for data
processing.
When export to TorchScript, the wrapper module should choose to use
texts or pre_tokenized based on the TorchScript tokenizer
implementation (e.g use external tokenizer such as Yoda or not).</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">per_sentence_tokens: List[List[Tuple[str, int, int]]]</em><span class="sig-paren">)</span> → Tuple[List[int], List[int], int, List[int]]<a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBaseScriptImpl.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>This function contains logic for converting tokens into ids based on
the specified vocab. It also outputs, for each instance, the vectors
needed to run the actual model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>per_sentence_tokens</strong> – list of tokens per sentence level in one row,</p></li>
<li><p><strong>token represented by token string</strong><strong>, </strong><strong>start and end indices.</strong> (<em>each</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[int], a list of token ids, concatenate all
sentences token ids.
segment_labels: List[int], denotes each token belong to
which sentence.
seq_len: int, tokens length
positions: List[int], token positions</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tokens</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">tokens_2d: List[List[int]], segment_labels_2d: List[List[int]], seq_lens_1d: List[int], positions_2d: List[List[int]]</em><span class="sig-paren">)</span> → Tuple[torch.Tensor, torch.Tensor, torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBaseScriptImpl.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert instance level vectors into batch level tensors.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.tokenize">
<code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param">row_text: Optional[List[str]], row_pre_tokenized: Optional[List[List[str]]]</em><span class="sig-paren">)</span> → List[List[Tuple[str, int, int]]]<a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBaseScriptImpl.tokenize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>This function convert raw inputs into tokens, each token is represented
by token(str), start and end indices in the raw inputs. There are two
possible inputs to this function depends if the tokenized in implemented
in TorchScript or not.</p>
<p>Case 1: Tokenizer has a full TorchScript implementation, the input will
be a list of sentences (in most case it is single sentence or a pair).</p>
<p>Case 2: Tokenizer have partial or no TorchScript implementation, in most
case, the tokenizer will be host in Yoda, the input will be a list of
pre-processed tokens.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>tokens per setence level, each token is
represented by token(str), start and end indices.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>per_sentence_tokens</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.torchscriptify">
<code class="sig-name descname">torchscriptify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerBaseScriptImpl.torchscriptify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl.torchscriptify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.bert_tensorizer.BERTTensorizerScriptImpl">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.bert_tensorizer.</code><code class="sig-name descname">BERTTensorizerScriptImpl</code><span class="sig-paren">(</span><em class="sig-param">tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer</em>, <em class="sig-param">vocab: pytext.data.utils.Vocabulary</em>, <em class="sig-param">max_seq_len: int</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#BERTTensorizerScriptImpl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.BERTTensorizerScriptImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl" title="pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl</span></code></a></p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.bert_tensorizer.build_fairseq_vocab">
<code class="sig-prename descclassname">pytext.data.bert_tensorizer.</code><code class="sig-name descname">build_fairseq_vocab</code><span class="sig-paren">(</span><em class="sig-param">vocab_file: str</em>, <em class="sig-param">dictionary_class: fairseq.data.dictionary.Dictionary = &lt;class 'fairseq.data.dictionary.Dictionary'&gt;</em>, <em class="sig-param">special_token_replacements: Dict[str</em>, <em class="sig-param">pytext.data.utils.SpecialToken] = None</em>, <em class="sig-param">max_vocab: int = -1</em>, <em class="sig-param">min_count: int = -1</em><span class="sig-paren">)</span> → pytext.data.utils.Vocabulary<a class="reference internal" href="../_modules/pytext/data/bert_tensorizer.html#build_fairseq_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.bert_tensorizer.build_fairseq_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Function builds a PyText vocabulary for models pre-trained using Fairseq
modules. The dictionary class can take any Fairseq Dictionary class
and is used to load the vocab file.</p>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.data">
<span id="pytext-data-data-module"></span><h2>pytext.data.data module<a class="headerlink" href="#module-pytext.data.data" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.data.BatchData">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.data.</code><code class="sig-name descname">BatchData</code><span class="sig-paren">(</span><em class="sig-param">raw_data</em>, <em class="sig-param">numberized</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#BatchData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.BatchData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="method">
<dt id="pytext.data.data.BatchData.numberized">
<em class="property">property </em><code class="sig-name descname">numberized</code><a class="headerlink" href="#pytext.data.data.BatchData.numberized" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data.BatchData.raw_data">
<em class="property">property </em><code class="sig-name descname">raw_data</code><a class="headerlink" href="#pytext.data.data.BatchData.raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.data.Batcher">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.data.</code><code class="sig-name descname">Batcher</code><span class="sig-paren">(</span><em class="sig-param">train_batch_size=16</em>, <em class="sig-param">eval_batch_size=16</em>, <em class="sig-param">test_batch_size=16</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Batcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Batcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>Batcher designed to batch rows of data, before padding.</p>
<dl class="method">
<dt id="pytext.data.data.Batcher.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterable: Iterable[pytext.data.sources.data_source.RawExample], sort_key=None, stage=&lt;Stage.TRAIN: 'Training'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Batcher.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Batcher.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>Group rows by batch_size.  Assume iterable of dicts, yield dict of lists.
The last batch will be of length len(iterable) % batch_size.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data.Batcher.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.data.Batcher.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Batcher.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Batcher.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.data.Data">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.data.</code><code class="sig-name descname">Data</code><span class="sig-paren">(</span><em class="sig-param">data_source: pytext.data.sources.data_source.DataSource, tensorizers: Dict[str, pytext.data.tensorizers.Tensorizer], batcher: pytext.data.data.Batcher = None, sort_key: Optional[str] = None, in_memory: Optional[bool] = False, init_tensorizers: Optional[bool] = True, init_tensorizers_from_scratch: Optional[bool] = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>Data is an abstraction that handles all of the following:</p>
<ul class="simple">
<li><p>Initialize model metadata parameters</p></li>
<li><p>Create batches of tensors for model training or prediction</p></li>
</ul>
<p>It can accomplish these in any way it needs to. The base implementation
utilizes <cite>pytext.data.sources.DataSource</cite>, and sends batches to
<cite>pytext.data.tensorizers.Tensorizer</cite> to create tensors.</p>
<p>The <cite>tensorizers</cite> dict passed to the initializer should be considered something like
a signature for the model. Each batch should be a dictionary with the same keys
as the <cite>tensorizers</cite> dict, and values should be tensors arranged in the way
specified by that tensorizer. The tensorizers dict doubles as a simple baseline
implementation of that same signature, but subclasses of Data can override the
implementation using other methods. This value is how the model specifies what
inputs it’s looking for.</p>
<dl class="method">
<dt id="pytext.data.data.Data.add_row_indices">
<code class="sig-name descname">add_row_indices</code><span class="sig-paren">(</span><em class="sig-param">rows</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.add_row_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Data.add_row_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data.Data.batches">
<code class="sig-name descname">batches</code><span class="sig-paren">(</span><em class="sig-param">stage: pytext.common.constants.Stage</em>, <em class="sig-param">data_source=None</em>, <em class="sig-param">load_early=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.batches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Data.batches" title="Permalink to this definition">¶</a></dt>
<dd><p>Create batches of tensors to pass to model train_batch.
This function yields dictionaries that mirror the <cite>tensorizers</cite> dict passed to
<cite>__init__</cite>, ie. the keys will be the same, and the tensors will be the shape
expected from the respective tensorizers.</p>
<p><cite>stage</cite> is used to determine which data source is used to create batches.
if data_source is provided, it is used instead of the configured data_sorce
this is to allow setting a different data_source for testing a model.</p>
<p>Passing in <cite>load_early</cite> = True disables loading all data in memory and using
PoolingBatcher, so that we get the first batch as quickly as possible.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data.Data.cache">
<code class="sig-name descname">cache</code><span class="sig-paren">(</span><em class="sig-param">numberized_rows</em>, <em class="sig-param">stage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Data.cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data.Data.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.data.Data.Config, schema: Dict[str, Type], tensorizers: Dict[str, pytext.data.tensorizers.Tensorizer], rank=0, world_size=1, init_tensorizers=True, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Data.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data.Data.numberize_rows">
<code class="sig-name descname">numberize_rows</code><span class="sig-paren">(</span><em class="sig-param">rows</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.numberize_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.Data.numberize_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.data.PoolingBatcher">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.data.</code><code class="sig-name descname">PoolingBatcher</code><span class="sig-paren">(</span><em class="sig-param">train_batch_size=16</em>, <em class="sig-param">eval_batch_size=16</em>, <em class="sig-param">test_batch_size=16</em>, <em class="sig-param">pool_num_batches=10000</em>, <em class="sig-param">num_shuffled_pools=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#PoolingBatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.PoolingBatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data.Batcher" title="pytext.data.data.Batcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data.Batcher</span></code></a></p>
<p>Batcher that loads a pool of data, sorts it, and batches it.</p>
<p>Shuffling is performed before pooling, by loading <cite>num_shuffled_pools</cite> worth
of data, shuffling, and then splitting that up into pools.</p>
<dl class="method">
<dt id="pytext.data.data.PoolingBatcher.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterable: Iterable[pytext.data.sources.data_source.RawExample], sort_key=None, stage=&lt;Stage.TRAIN: 'Training'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#PoolingBatcher.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.PoolingBatcher.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>From an iterable of dicts, yield dicts of lists:</p>
<ol class="arabic simple">
<li><p>Load <cite>num_shuffled_pools</cite> pools of data, and shuffle them.</p></li>
<li><p>Load a pool (<cite>batch_size * pool_num_batches</cite> examples).</p></li>
<li><p>Sort rows, if necessary.</p></li>
<li><p>Shuffle the order in which the batches are returned, if necessary.</p></li>
</ol>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data.PoolingBatcher.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.data.PoolingBatcher.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#PoolingBatcher.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.PoolingBatcher.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data.PoolingBatcher.get_batch_size">
<code class="sig-name descname">get_batch_size</code><span class="sig-paren">(</span><em class="sig-param">stage: pytext.common.constants.Stage</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/data.html#PoolingBatcher.get_batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.PoolingBatcher.get_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.data.RowData">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.data.</code><code class="sig-name descname">RowData</code><span class="sig-paren">(</span><em class="sig-param">raw_data</em>, <em class="sig-param">numberized</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#RowData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.RowData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="method">
<dt id="pytext.data.data.RowData.numberized">
<em class="property">property </em><code class="sig-name descname">numberized</code><a class="headerlink" href="#pytext.data.data.RowData.numberized" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data.RowData.raw_data">
<em class="property">property </em><code class="sig-name descname">raw_data</code><a class="headerlink" href="#pytext.data.data.RowData.raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.data.data.generator_iterator">
<code class="sig-prename descclassname">pytext.data.data.</code><code class="sig-name descname">generator_iterator</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#generator_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.generator_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a generator into a GeneratorIterator-wrapped function.
Effectively this allows iterating over a generator multiple times by recording
the call arguments, and calling the generator with them anew each item __iter__
is called on the returned object.</p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.data.pad_and_tensorize_batches">
<code class="sig-prename descclassname">pytext.data.data.</code><code class="sig-name descname">pad_and_tensorize_batches</code><span class="sig-paren">(</span><em class="sig-param">tensorizers</em>, <em class="sig-param">batches</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#pad_and_tensorize_batches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.pad_and_tensorize_batches" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.data.zip_dicts">
<code class="sig-prename descclassname">pytext.data.data.</code><code class="sig-name descname">zip_dicts</code><span class="sig-paren">(</span><em class="sig-param">dicts</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#zip_dicts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data.zip_dicts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>
<div class="section" id="module-pytext.data.data_handler">
<span id="pytext-data-data-handler-module"></span><h2>pytext.data.data_handler module<a class="headerlink" href="#module-pytext.data.data_handler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.data_handler.BatchIterator">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.data_handler.</code><code class="sig-name descname">BatchIterator</code><span class="sig-paren">(</span><em class="sig-param">batches</em>, <em class="sig-param">processor</em>, <em class="sig-param">include_input=True</em>, <em class="sig-param">include_target=True</em>, <em class="sig-param">include_context=True</em>, <em class="sig-param">is_train=True</em>, <em class="sig-param">num_batches=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#BatchIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.BatchIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>BatchIterator is a wrapper of TorchText. Iterator that provide flexibility to
map batched data to a tuple of (input, target, context) and other additional
steps such as dealing with distributed training.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batches</strong> (<em>Iterator</em><em>[</em><em>TorchText.Batch</em><em>]</em>) – iterator of TorchText.Batch, which
shuffles/batches the data in __iter__ and return a batch of data in
__next__</p></li>
<li><p><strong>processor</strong> – function to run after getting batched data from TorchText.Iterator,
the function should define a way to map to data into
(input, target, context)</p></li>
<li><p><strong>include_input</strong> (<em>bool</em>) – if input data should be returned, default is true</p></li>
<li><p><strong>include_target</strong> (<em>bool</em>) – if target data should be returned, default is true</p></li>
<li><p><strong>include_context</strong> (<em>bool</em>) – if context data should be returned, default is true</p></li>
<li><p><strong>is_train</strong> (<em>bool</em>) – if the batch data is for training</p></li>
<li><p><strong>num_batches</strong> (<em>int</em>) – total batches to generate, this param if for distributed
training due to a limitation in PyTorch’s distributed training backend
that enforces all the parallel workers to have the same number of batches
we workaround it by adding dummy batches at the end</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.data_handler.CommonMetadata">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.data_handler.</code><code class="sig-name descname">CommonMetadata</code><a class="reference internal" href="../_modules/pytext/data/data_handler.html#CommonMetadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.CommonMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.data_handler.DataHandler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.data_handler.</code><code class="sig-name descname">DataHandler</code><span class="sig-paren">(</span><em class="sig-param">raw_columns: List[str], labels: Dict[str, pytext.fields.field.Field], features: Dict[str, pytext.fields.field.Field], featurizer: pytext.data.featurizer.featurizer.Featurizer, extra_fields: Dict[str, pytext.fields.field.Field] = None, text_feature_name: str = 'word_feat', shuffle: bool = True, sort_within_batch: bool = True, train_path: str = 'train.tsv', eval_path: str = 'eval.tsv', test_path: str = 'test.tsv', train_batch_size: int = 128, eval_batch_size: int = 128, test_batch_size: int = 128, max_seq_len: int = -1, pass_index: bool = True, column_mapping: Dict[str, str] = None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>DataHandler is the central place to prepare data for model training/testing.
The class is responsible of:</p>
<ul class="simple">
<li><p>Define pipeline to process data and generate batch of tensors to be
consumed by model. Each batch is a (input, target, extra_data) tuple, in
which input can be feed directly into model.</p></li>
<li><p>Initialize global context, such as build vocab, load pretrained embeddings.
Store the context as metadata, and provide function to serialize/deserialize
the metadata</p></li>
</ul>
<p>The data processing pipeline contains the following steps:</p>
<ul class="simple">
<li><p>Read data from file into a list of raw data examples</p></li>
<li><p>Convert each row of row data to a TorchText Example. This logic happens
in process_row function and will:</p>
<ul>
<li><p>Invoke featurizer, which contains data processing steps to apply
for both training and inference time, e.g: tokenization</p></li>
<li><p>Use the raw data and results from featurizer to do any preprocessing</p></li>
</ul>
</li>
<li><p>Generate a TorchText.Dataset that contains the list of Example, the Dataset
also has a list of TorchText.Field, which defines how to do padding and
numericalization while batching data.</p></li>
<li><p>Return a BatchIterator which will give a tuple of (input, target, context)
tensors for each iteration. By default the tensors have a 1:1 mapping to
the TorchText.Field fields, but this behavior can be overwritten by
_input_from_batch, _target_from_batch, _context_from_batch functions.</p></li>
</ul>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.raw_columns">
<code class="sig-name descname">raw_columns</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.raw_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>columns to read from data source. The order should
match the data stored in that file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.featurizer">
<code class="sig-name descname">featurizer</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.featurizer" title="Permalink to this definition">¶</a></dt>
<dd><p>perform data preprocessing that should be shared
between training and inference</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Featurizer</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.features">
<code class="sig-name descname">features</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.features" title="Permalink to this definition">¶</a></dt>
<dd><p>a dict of name -&gt; field that used to process data
as model input</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, Field]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.labels">
<code class="sig-name descname">labels</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>a dict of name -&gt; field that used to process data
as training target</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, Field]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.extra_fields">
<code class="sig-name descname">extra_fields</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.extra_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>fields that process any extra data used
neither as model input nor target. This is None by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, Field]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.text_feature_name">
<code class="sig-name descname">text_feature_name</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.text_feature_name" title="Permalink to this definition">¶</a></dt>
<dd><p>name of the text field, used to define the default
sort key of data</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.shuffle">
<code class="sig-name descname">shuffle</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.shuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>if the dataset should be shuffled, true by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.sort_within_batch">
<code class="sig-name descname">sort_within_batch</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.sort_within_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>if data within same batch should be sorted, true
by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.train_path">
<code class="sig-name descname">train_path</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.train_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path of training data file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.eval_path">
<code class="sig-name descname">eval_path</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.eval_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path of evaluation data file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.test_path">
<code class="sig-name descname">test_path</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.test_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path of test data file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.train_batch_size">
<code class="sig-name descname">train_batch_size</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.train_batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>training batch size, 128 by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.eval_batch_size">
<code class="sig-name descname">eval_batch_size</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.eval_batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>evaluation batch size, 128 by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.test_batch_size">
<code class="sig-name descname">test_batch_size</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.test_batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>test batch size, 128 by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.max_seq_len">
<code class="sig-name descname">max_seq_len</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.max_seq_len" title="Permalink to this definition">¶</a></dt>
<dd><p>maximum length of tokens to keep in sequence</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.data_handler.DataHandler.pass_index">
<code class="sig-name descname">pass_index</code><a class="headerlink" href="#pytext.data.data_handler.DataHandler.pass_index" title="Permalink to this definition">¶</a></dt>
<dd><p>if the original index of data in the batch should be
passed along to downstream steps, default is true</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.gen_dataset">
<code class="sig-name descname">gen_dataset</code><span class="sig-paren">(</span><em class="sig-param">data: Iterable[Dict[str, Any]], include_label_fields: bool = True, shard_range: Tuple[int, int] = None</em><span class="sig-paren">)</span> → torchtext.data.dataset.Dataset<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.gen_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.gen_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate torchtext Dataset from raw in memory data.
:returns: dataset (TorchText.Dataset)</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.gen_dataset_from_path">
<code class="sig-name descname">gen_dataset_from_path</code><span class="sig-paren">(</span><em class="sig-param">path: str</em>, <em class="sig-param">rank: int = 0</em>, <em class="sig-param">world_size: int = 1</em>, <em class="sig-param">include_label_fields: bool = True</em>, <em class="sig-param">use_cache: bool = True</em><span class="sig-paren">)</span> → torchtext.data.dataset.Dataset<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.gen_dataset_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.gen_dataset_from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a dataset from file
:returns: dataset (TorchText.Dataset)</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.get_eval_iter">
<code class="sig-name descname">get_eval_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_eval_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.get_eval_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.get_predict_iter">
<code class="sig-name descname">get_predict_iter</code><span class="sig-paren">(</span><em class="sig-param">data: Iterable[Dict[str, Any]], batch_size: Optional[int] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_predict_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.get_predict_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.get_test_iter">
<code class="sig-name descname">get_test_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_test_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.get_test_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.get_test_iter_from_path">
<code class="sig-name descname">get_test_iter_from_path</code><span class="sig-paren">(</span><em class="sig-param">test_path: str</em>, <em class="sig-param">batch_size: int</em><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_test_iter_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.get_test_iter_from_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.get_test_iter_from_raw_data">
<code class="sig-name descname">get_test_iter_from_raw_data</code><span class="sig-paren">(</span><em class="sig-param">test_data: List[Dict[str, Any]], batch_size: int</em><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_test_iter_from_raw_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.get_test_iter_from_raw_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.get_train_iter">
<code class="sig-name descname">get_train_iter</code><span class="sig-paren">(</span><em class="sig-param">rank: int = 0</em>, <em class="sig-param">world_size: int = 1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_train_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.get_train_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.get_train_iter_from_path">
<code class="sig-name descname">get_train_iter_from_path</code><span class="sig-paren">(</span><em class="sig-param">train_path: str</em>, <em class="sig-param">batch_size: int</em>, <em class="sig-param">rank: int = 0</em>, <em class="sig-param">world_size: int = 1</em><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_train_iter_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.get_train_iter_from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate data batch iterator for training data. See <cite>_get_train_iter()</cite> for
details</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_path</strong> (<em>str</em>) – file path of training data</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – batch size</p></li>
<li><p><strong>rank</strong> (<em>int</em>) – used for distributed training, the rank of current Gpu,
don’t set it to anything but 0 for non-distributed training</p></li>
<li><p><strong>world_size</strong> (<em>int</em>) – used for distributed training, total number of Gpu</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.get_train_iter_from_raw_data">
<code class="sig-name descname">get_train_iter_from_raw_data</code><span class="sig-paren">(</span><em class="sig-param">train_data: List[Dict[str, Any]], batch_size: int, rank: int = 0, world_size: int = 1</em><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_train_iter_from_raw_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.get_train_iter_from_raw_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.init_feature_metadata">
<code class="sig-name descname">init_feature_metadata</code><span class="sig-paren">(</span><em class="sig-param">train_data: torchtext.data.dataset.Dataset</em>, <em class="sig-param">eval_data: torchtext.data.dataset.Dataset</em>, <em class="sig-param">test_data: torchtext.data.dataset.Dataset</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_feature_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.init_feature_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.init_metadata">
<code class="sig-name descname">init_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.init_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize metadata using data from configured path</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.init_metadata_from_path">
<code class="sig-name descname">init_metadata_from_path</code><span class="sig-paren">(</span><em class="sig-param">train_path</em>, <em class="sig-param">eval_path</em>, <em class="sig-param">test_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_metadata_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.init_metadata_from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize metadata using data from file</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.init_metadata_from_raw_data">
<code class="sig-name descname">init_metadata_from_raw_data</code><span class="sig-paren">(</span><em class="sig-param">*data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_metadata_from_raw_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.init_metadata_from_raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize metadata using in memory data</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.init_target_metadata">
<code class="sig-name descname">init_target_metadata</code><span class="sig-paren">(</span><em class="sig-param">train_data: torchtext.data.dataset.Dataset</em>, <em class="sig-param">eval_data: torchtext.data.dataset.Dataset</em>, <em class="sig-param">test_data: torchtext.data.dataset.Dataset</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_target_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.init_target_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.load_metadata">
<code class="sig-name descname">load_metadata</code><span class="sig-paren">(</span><em class="sig-param">metadata: pytext.data.data_handler.CommonMetadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.load_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.load_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Load previously saved metadata</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.load_vocab">
<code class="sig-name descname">load_vocab</code><span class="sig-paren">(</span><em class="sig-param">vocab_file</em>, <em class="sig-param">vocab_size</em>, <em class="sig-param">lowercase_tokens: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.load_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.load_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads items into a set from a file containing one item per line.
Items are added to the set from top of the file to bottom.
So, the items in the file should be ordered by a preference (if any), e.g.,
it makes sense to order tokens in descending order of frequency in corpus.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vocab_file</strong> (<em>str</em>) – vocab file to load</p></li>
<li><p><strong>vocab_size</strong> (<em>int</em>) – maximum tokens to load, will only load the first n if
the actual vocab size is larger than this parameter</p></li>
<li><p><strong>lowercase_tokens</strong> (<em>bool</em>) – if the tokens should be lowercased</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.metadata_to_save">
<code class="sig-name descname">metadata_to_save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.metadata_to_save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.metadata_to_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save metadata, pretrained_embeds_weight should be excluded</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.preprocess">
<code class="sig-name descname">preprocess</code><span class="sig-paren">(</span><em class="sig-param">data: Iterable[Dict[str, Any]]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.preprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>preprocess the raw data to create TorchText.Example, this is the second
step in whole processing pipeline
:returns: data (Generator[Dict[str, Any]])</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.preprocess_row">
<code class="sig-name descname">preprocess_row</code><span class="sig-paren">(</span><em class="sig-param">row_data: Dict[str, Any]</em><span class="sig-paren">)</span> → Dict[str, Any]<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.preprocess_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.preprocess_row" title="Permalink to this definition">¶</a></dt>
<dd><p>preprocess steps for a single input row, sub class should override it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.read_from_file">
<code class="sig-name descname">read_from_file</code><span class="sig-paren">(</span><em class="sig-param">file_name: str, columns_to_use: Union[Dict[str, int], List[str]]</em><span class="sig-paren">)</span> → Generator[Dict, None, None]<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.read_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.read_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from csv file. Input file format is required to be
tab-separated columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – csv file name</p></li>
<li><p><strong>columns_to_use</strong> (<em>Union</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – either a list of
column names or a dict of column name -&gt; column index in the file</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.data_handler.DataHandler.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">example: torchtext.data.example.Example</em><span class="sig-paren">)</span> → Any<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.data_handler.DataHandler.sort_key" title="Permalink to this definition">¶</a></dt>
<dd><p>How to sort data in every batch, default behavior is by the length of input
text
:param example: one torchtext example
:type example: Example</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.disjoint_multitask_data">
<span id="pytext-data-disjoint-multitask-data-module"></span><h2>pytext.data.disjoint_multitask_data module<a class="headerlink" href="#module-pytext.data.disjoint_multitask_data" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.disjoint_multitask_data.DisjointMultitaskData">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.disjoint_multitask_data.</code><code class="sig-name descname">DisjointMultitaskData</code><span class="sig-paren">(</span><em class="sig-param">data_dict: Dict[str, pytext.data.data.Data], samplers: Dict[pytext.common.constants.Stage, pytext.data.batch_sampler.BaseBatchSampler], test_key: str = None, task_key: str = 'task_name'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data.html#DisjointMultitaskData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data.DisjointMultitaskData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data.Data" title="pytext.data.data.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data.Data</span></code></a></p>
<p>Wrapper for doing multitask training using multiple data objects.
Takes a dictionary of data objects, does round robin over their
iterators using BatchSampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>Config</em>) – Configuration object of type DisjointMultitaskData.Config.</p></li>
<li><p><strong>data_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Data</em><em>]</em>) – Data objects to do roundrobin over.</p></li>
<li><p><strong>*args</strong> (<em>type</em>) – Extra arguments to be passed down to sub data handlers.</p></li>
<li><p><strong>**kwargs</strong> (<em>type</em>) – Extra arguments to be passed down to sub data handlers.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="pytext.data.disjoint_multitask_data.DisjointMultitaskData.data_dict">
<code class="sig-name descname">data_dict</code><a class="headerlink" href="#pytext.data.disjoint_multitask_data.DisjointMultitaskData.data_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Data handlers to do roundrobin over.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>type</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data.DisjointMultitaskData.batches">
<code class="sig-name descname">batches</code><span class="sig-paren">(</span><em class="sig-param">stage: pytext.common.constants.Stage</em>, <em class="sig-param">data_source=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data.html#DisjointMultitaskData.batches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data.DisjointMultitaskData.batches" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield batches from each task, sampled according to a given sampler.
This batcher additionally exposes a task name in the batch to allow the model
to filter examples to the appropriate tasks.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data.DisjointMultitaskData.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.disjoint_multitask_data.DisjointMultitaskData.Config, data_dict: Dict[str, pytext.data.data.Data], task_key: str = 'task_name', rank=0, world_size=1, init_tensorizers=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data.html#DisjointMultitaskData.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data.DisjointMultitaskData.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.disjoint_multitask_data_handler">
<span id="pytext-data-disjoint-multitask-data-handler-module"></span><h2>pytext.data.disjoint_multitask_data_handler module<a class="headerlink" href="#module-pytext.data.disjoint_multitask_data_handler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.disjoint_multitask_data_handler.</code><code class="sig-name descname">DisjointMultitaskDataHandler</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.Config, data_handlers: Dict[str, pytext.data.data_handler.DataHandler], target_task_name: Optional[str] = None, *args, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data_handler.DataHandler" title="pytext.data.data_handler.DataHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data_handler.DataHandler</span></code></a></p>
<p>Wrapper for doing multitask training using multiple data handlers.
Takes a dictionary of data handlers, does round robin over their
iterators using RoundRobinBatchIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>Config</em>) – Configuration object of type DisjointMultitaskDataHandler.Config.</p></li>
<li><p><strong>data_handlers</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>DataHandler</em><em>]</em>) – Data handlers to do roundrobin over.</p></li>
<li><p><strong>target_task_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Used to select best epoch, and set batch_per_epoch.</p></li>
<li><p><strong>*args</strong> (<em>type</em>) – Extra arguments to be passed down to sub data handlers.</p></li>
<li><p><strong>**kwargs</strong> (<em>type</em>) – Extra arguments to be passed down to sub data handlers.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.data_handlers">
<code class="sig-name descname">data_handlers</code><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.data_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Data handlers to do roundrobin over.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>type</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.target_task_name">
<code class="sig-name descname">target_task_name</code><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.target_task_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to select best epoch, and set batch_per_epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>type</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.upsample">
<code class="sig-name descname">upsample</code><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.upsample" title="Permalink to this definition">¶</a></dt>
<dd><p>If upsample, keep cycling over each iterator in round-robin.
Iterators with less batches will get more passes.  If False, we do single
pass over each iterator, the ones which run out will sit idle.  This is
used for evaluation.  Default True.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.get_eval_iter">
<code class="sig-name descname">get_eval_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.get_eval_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.get_eval_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.get_test_iter">
<code class="sig-name descname">get_test_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.get_test_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.get_test_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.get_train_iter">
<code class="sig-name descname">get_train_iter</code><span class="sig-paren">(</span><em class="sig-param">rank: int = 0</em>, <em class="sig-param">world_size: int = 1</em><span class="sig-paren">)</span> → Tuple[pytext.data.data_handler.BatchIterator, ...]<a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.get_train_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.get_train_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.init_metadata">
<code class="sig-name descname">init_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.init_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.init_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize metadata using data from configured path</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.load_metadata">
<code class="sig-name descname">load_metadata</code><span class="sig-paren">(</span><em class="sig-param">metadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.load_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.load_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Load previously saved metadata</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.metadata_to_save">
<code class="sig-name descname">metadata_to_save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.metadata_to_save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.metadata_to_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save metadata, pretrained_embeds_weight should be excluded</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.disjoint_multitask_data_handler.</code><code class="sig-name descname">RoundRobinBatchIterator</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, pytext.data.data_handler.BatchIterator], upsample: bool = True, iter_to_set_epoch: Optional[str] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#RoundRobinBatchIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data_handler.BatchIterator" title="pytext.data.data_handler.BatchIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data_handler.BatchIterator</span></code></a></p>
<p>We take a dictionary of BatchIterators and do round robin over them in a cycle.
The below describes the behavior for one epoch, with the example</p>
<p>Iterator 1: [A, B, C, D],  Iterator 2: [a, b]</p>
<dl>
<dt>If <cite>upsample</cite> is True:</dt><dd><p>If <cite>iter_to_set_epoch</cite> is set, cycle batches from each iterator until one epoch
of the target iterator is fulfilled. Iterators with fewer batches than the
target iterator are repeated, so they never run out.</p>
<p>iter_to_set_epoch = “Iterator 1”
Output: [A, a, B, b, C, a, D, b]</p>
<p>If <cite>iter_to_set_epoch</cite> is None, cycle over batches from each iterator until the
shortest iterator completes one epoch.</p>
<p>Output: [A, a, B, b]</p>
</dd>
<dt>If <cite>upsample</cite> is False:</dt><dd><p>Iterate over batches from one epoch of each iterator, with the order among
iterators uniformly shuffled.</p>
<p>Possible output: [a, A, B, C, b, D]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iterators</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>BatchIterator</em><em>]</em>) – Iterators to do roundrobin over.</p></li>
<li><p><strong>upsample</strong> (<em>bool</em>) – If upsample, keep cycling over each iterator in round-robin.
Iterators with less batches will get more passes.  If False, we do single
pass over each iterator, in random order. Evaluation will use upsample=False.
Default True.</p></li>
<li><p><strong>iter_to_set_epoch</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Name of iterator to define epoch size.
If upsample is True and this is not set, epoch size defaults to the length of
the shortest iterator. If upsample is False, this argument is not used.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator.iterators">
<code class="sig-name descname">iterators</code><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator.iterators" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterators to do roundrobin over.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, BatchIterator]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator.upsample">
<code class="sig-name descname">upsample</code><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator.upsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to upsample iterators with fewer batches.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator.iter_to_set_epoch">
<code class="sig-name descname">iter_to_set_epoch</code><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator.iter_to_set_epoch" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of iterator to define epoch size.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator.cycle">
<em class="property">classmethod </em><code class="sig-name descname">cycle</code><span class="sig-paren">(</span><em class="sig-param">iterator</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#RoundRobinBatchIterator.cycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.disjoint_multitask_data_handler.RoundRobinBatchIterator.cycle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.dynamic_pooling_batcher">
<span id="pytext-data-dynamic-pooling-batcher-module"></span><h2>pytext.data.dynamic_pooling_batcher module<a class="headerlink" href="#module-pytext.data.dynamic_pooling_batcher" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.dynamic_pooling_batcher.</code><code class="sig-name descname">BatcherSchedulerConfig</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#BatcherSchedulerConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.module_config.Module.Config</span></code></p>
<dl class="attribute">
<dt id="pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig.end_batch_size">
<code class="sig-name descname">end_batch_size</code><em class="property"> = 256</em><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig.end_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig.epoch_period">
<code class="sig-name descname">epoch_period</code><em class="property"> = 10</em><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig.epoch_period" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig.start_batch_size">
<code class="sig-name descname">start_batch_size</code><em class="property"> = 32</em><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig.start_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig.step_size">
<code class="sig-name descname">step_size</code><em class="property"> = 1</em><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig.step_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.dynamic_pooling_batcher.</code><code class="sig-name descname">DynamicPoolingBatcher</code><span class="sig-paren">(</span><em class="sig-param">train_batch_size=16</em>, <em class="sig-param">eval_batch_size=16</em>, <em class="sig-param">test_batch_size=16</em>, <em class="sig-param">pool_num_batches=10000</em>, <em class="sig-param">num_shuffled_pools=1</em>, <em class="sig-param">scheduler_config=&lt;pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data.PoolingBatcher" title="pytext.data.data.PoolingBatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data.PoolingBatcher</span></code></a></p>
<p>Allows dynamic batch training, extends pooling batcher with a scheduler
config, which specifies how batch size should increase</p>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterable: Iterable[pytext.data.sources.data_source.RawExample], sort_key=None, stage=&lt;Stage.TRAIN: 'Training'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>From an iterable of dicts, yield dicts of lists:</p>
<ol class="arabic simple">
<li><p>Load <cite>num_shuffled_pools</cite> pools of data, and shuffle them.</p></li>
<li><p>Load a pool (<cite>batch_size * pool_num_batches</cite> examples).</p></li>
<li><p>Sort rows, if necessary.</p></li>
<li><p>Shuffle the order in which the batches are returned, if necessary.</p></li>
</ol>
</dd></dl>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.compute_dynamic_batch_size">
<code class="sig-name descname">compute_dynamic_batch_size</code><span class="sig-paren">(</span><em class="sig-param">curr_epoch: int</em>, <em class="sig-param">scheduler_config: pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig</em>, <em class="sig-param">curr_steps: int</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.compute_dynamic_batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.compute_dynamic_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.finished_dynamic">
<code class="sig-name descname">finished_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → bool<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.finished_dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.finished_dynamic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.get_batch_size">
<code class="sig-name descname">get_batch_size</code><span class="sig-paren">(</span><em class="sig-param">stage: pytext.common.constants.Stage</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.get_batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.get_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.step_epoch">
<code class="sig-name descname">step_epoch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.step_epoch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.step_epoch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.dynamic_pooling_batcher.ExponentialBatcherSchedulerConfig">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.dynamic_pooling_batcher.</code><code class="sig-name descname">ExponentialBatcherSchedulerConfig</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#ExponentialBatcherSchedulerConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.ExponentialBatcherSchedulerConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig" title="pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig</span></code></a></p>
<dl class="attribute">
<dt id="pytext.data.dynamic_pooling_batcher.ExponentialBatcherSchedulerConfig.gamma">
<code class="sig-name descname">gamma</code><em class="property"> = 5</em><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.ExponentialBatcherSchedulerConfig.gamma" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.dynamic_pooling_batcher.ExponentialDynamicPoolingBatcher">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.dynamic_pooling_batcher.</code><code class="sig-name descname">ExponentialDynamicPoolingBatcher</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#ExponentialDynamicPoolingBatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.ExponentialDynamicPoolingBatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher" title="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher</span></code></a></p>
<p>Exponential Dynamic Batch Scheduler: scales up batch size by a factor of
gamma</p>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.ExponentialDynamicPoolingBatcher.compute_dynamic_batch_size">
<code class="sig-name descname">compute_dynamic_batch_size</code><span class="sig-paren">(</span><em class="sig-param">curr_epoch: int</em>, <em class="sig-param">scheduler_config: pytext.data.dynamic_pooling_batcher.ExponentialBatcherSchedulerConfig</em>, <em class="sig-param">curr_steps: int</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#ExponentialDynamicPoolingBatcher.compute_dynamic_batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.ExponentialDynamicPoolingBatcher.compute_dynamic_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.ExponentialDynamicPoolingBatcher.finished_dynamic">
<code class="sig-name descname">finished_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → bool<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#ExponentialDynamicPoolingBatcher.finished_dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.ExponentialDynamicPoolingBatcher.finished_dynamic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.ExponentialDynamicPoolingBatcher.get_max_steps">
<code class="sig-name descname">get_max_steps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#ExponentialDynamicPoolingBatcher.get_max_steps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.ExponentialDynamicPoolingBatcher.get_max_steps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.dynamic_pooling_batcher.LinearDynamicPoolingBatcher">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.dynamic_pooling_batcher.</code><code class="sig-name descname">LinearDynamicPoolingBatcher</code><span class="sig-paren">(</span><em class="sig-param">train_batch_size=16</em>, <em class="sig-param">eval_batch_size=16</em>, <em class="sig-param">test_batch_size=16</em>, <em class="sig-param">pool_num_batches=10000</em>, <em class="sig-param">num_shuffled_pools=1</em>, <em class="sig-param">scheduler_config=&lt;pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#LinearDynamicPoolingBatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.LinearDynamicPoolingBatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher" title="pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher</span></code></a></p>
<p>Linear Dynamic Batch Scheduler: scales up batch size linearly</p>
<dl class="method">
<dt id="pytext.data.dynamic_pooling_batcher.LinearDynamicPoolingBatcher.compute_dynamic_batch_size">
<code class="sig-name descname">compute_dynamic_batch_size</code><span class="sig-paren">(</span><em class="sig-param">curr_epoch: int</em>, <em class="sig-param">scheduler_config: pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig</em>, <em class="sig-param">curr_steps: int</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#LinearDynamicPoolingBatcher.compute_dynamic_batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.dynamic_pooling_batcher.LinearDynamicPoolingBatcher.compute_dynamic_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.packed_lm_data">
<span id="pytext-data-packed-lm-data-module"></span><h2>pytext.data.packed_lm_data module<a class="headerlink" href="#module-pytext.data.packed_lm_data" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.packed_lm_data.PackedLMData">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.packed_lm_data.</code><code class="sig-name descname">PackedLMData</code><span class="sig-paren">(</span><em class="sig-param">data_source: pytext.data.sources.data_source.DataSource, tensorizers: Dict[str, pytext.data.tensorizers.Tensorizer], batcher: pytext.data.data.Batcher = None, max_seq_len: int = 128, sort_key: Optional[str] = None, language: Optional[str] = None, in_memory: Optional[bool] = False, init_tensorizers: Optional[bool] = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/packed_lm_data.html#PackedLMData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.packed_lm_data.PackedLMData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data.Data" title="pytext.data.data.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data.Data</span></code></a></p>
<p>Special purpose Data object which assumes a single text tensorizer.  Packs
tokens into a square batch with no padding.  Used for LM training. The object
also takes in an optional language argument which is used for cross-lingual
LM training.</p>
<dl class="method">
<dt id="pytext.data.packed_lm_data.PackedLMData.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.packed_lm_data.PackedLMData.Config, schema: Dict[str, Type], tensorizers: Dict[str, pytext.data.tensorizers.Tensorizer], language: Optional[str] = None, rank: int = 0, world_size: int = 1, init_tensorizers: Optional[bool] = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/packed_lm_data.html#PackedLMData.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.packed_lm_data.PackedLMData.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.packed_lm_data.PackedLMData.numberize_rows">
<code class="sig-name descname">numberize_rows</code><span class="sig-paren">(</span><em class="sig-param">rows</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/packed_lm_data.html#PackedLMData.numberize_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.packed_lm_data.PackedLMData.numberize_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.roberta_tensorizer">
<span id="pytext-data-roberta-tensorizer-module"></span><h2>pytext.data.roberta_tensorizer module<a class="headerlink" href="#module-pytext.data.roberta_tensorizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.roberta_tensorizer.RoBERTaTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.roberta_tensorizer.</code><code class="sig-name descname">RoBERTaTensorizer</code><span class="sig-paren">(</span><em class="sig-param">columns: List[str] = ['text'], vocab: pytext.data.utils.Vocabulary = None, tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None, max_seq_len: int = 256, base_tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/roberta_tensorizer.html#RoBERTaTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.roberta_tensorizer.RoBERTaTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.bert_tensorizer.BERTTensorizerBase" title="pytext.data.bert_tensorizer.BERTTensorizerBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.bert_tensorizer.BERTTensorizerBase</span></code></a></p>
<dl class="method">
<dt id="pytext.data.roberta_tensorizer.RoBERTaTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.roberta_tensorizer.RoBERTaTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/roberta_tensorizer.html#RoBERTaTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.roberta_tensorizer.RoBERTaTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.roberta_tensorizer.</code><code class="sig-name descname">RoBERTaTokenLevelTensorizer</code><span class="sig-paren">(</span><em class="sig-param">columns, tokenizer=None, vocab=None, max_seq_len=256, labels_columns=['label'], labels=[]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/roberta_tensorizer.html#RoBERTaTokenLevelTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.roberta_tensorizer.RoBERTaTensorizer" title="pytext.data.roberta_tensorizer.RoBERTaTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.roberta_tensorizer.RoBERTaTensorizer</span></code></a></p>
<p>Tensorizer for token level classification tasks such as NER, POS etc
using RoBERTa. Here each token has an associated label and the tensorizer
should output a label tensor as well. The input for this tensorizer comes
from the CoNLLUNERDataSource data source.</p>
<dl class="method">
<dt id="pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/roberta_tensorizer.html#RoBERTaTokenLevelTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row: Dict</em><span class="sig-paren">)</span> → Tuple[Any, ...]<a class="reference internal" href="../_modules/pytext/data/roberta_tensorizer.html#RoBERTaTokenLevelTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Numberize both the tokens and labels. Since we break up tokens, the label
for anything other than the first sub-word is assigned the padding idx.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span> → Tuple[torch.Tensor, ...]<a class="reference internal" href="../_modules/pytext/data/roberta_tensorizer.html#RoBERTaTokenLevelTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert instance level vectors into batch level tensors.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.torchscriptify">
<code class="sig-name descname">torchscriptify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/roberta_tensorizer.html#RoBERTaTokenLevelTensorizer.torchscriptify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.roberta_tensorizer.RoBERTaTokenLevelTensorizer.torchscriptify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.squad_for_bert_tensorizer">
<span id="pytext-data-squad-for-bert-tensorizer-module"></span><h2>pytext.data.squad_for_bert_tensorizer module<a class="headerlink" href="#module-pytext.data.squad_for_bert_tensorizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.squad_for_bert_tensorizer.</code><code class="sig-name descname">SquadForBERTTensorizer</code><span class="sig-paren">(</span><em class="sig-param">answers_column: str = 'answers'</em>, <em class="sig-param">answer_starts_column: str = 'answer_starts'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForBERTTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.bert_tensorizer.BERTTensorizer" title="pytext.data.bert_tensorizer.BERTTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.bert_tensorizer.BERTTensorizer</span></code></a></p>
<p>Produces BERT inputs and answer spans for Squad.</p>
<dl class="attribute">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.SPAN_PAD_IDX">
<code class="sig-name descname">SPAN_PAD_IDX</code><em class="property"> = -100</em><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.SPAN_PAD_IDX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.Config</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForBERTTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>from_config parses the config associated with the tensorizer and
creates both the tokenizer and the Vocabulary object. The extra arguments
passed as kwargs allow us to reuse thie function with variable number
of arguments (eg: for classes which derive from this class).</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForBERTTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>This function contains logic for converting tokens into ids based on
the specified vocab. It also outputs, for each instance, the vectors
needed to run the actual model.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForBERTTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert instance level vectors into batch level tensors.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.squad_for_bert_tensorizer.</code><code class="sig-name descname">SquadForBERTTensorizerForKD</code><span class="sig-paren">(</span><em class="sig-param">start_logits_column='start_logits'</em>, <em class="sig-param">end_logits_column='end_logits'</em>, <em class="sig-param">has_answer_logits_column='has_answer_logits'</em>, <em class="sig-param">pad_mask_column='pad_mask'</em>, <em class="sig-param">segment_labels_column='segment_labels'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForBERTTensorizerForKD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer" title="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer</span></code></a></p>
<dl class="method">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD.Config</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForBERTTensorizerForKD.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>from_config parses the config associated with the tensorizer and
creates both the tokenizer and the Vocabulary object. The extra arguments
passed as kwargs allow us to reuse thie function with variable number
of arguments (eg: for classes which derive from this class).</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForBERTTensorizerForKD.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>This function contains logic for converting tokens into ids based on
the specified vocab. It also outputs, for each instance, the vectors
needed to run the actual model.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForBERTTensorizerForKD.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizerForKD.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert instance level vectors into batch level tensors.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForRoBERTaTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.squad_for_bert_tensorizer.</code><code class="sig-name descname">SquadForRoBERTaTensorizer</code><span class="sig-paren">(</span><em class="sig-param">columns: List[str] = ['question', 'doc'], vocab: pytext.data.utils.Vocabulary = None, tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None, max_seq_len: int = 256, answers_column: str = 'answers', answer_starts_column: str = 'answer_starts'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForRoBERTaTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForRoBERTaTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer" title="pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.squad_for_bert_tensorizer.SquadForBERTTensorizer</span></code></a>, <a class="reference internal" href="#pytext.data.roberta_tensorizer.RoBERTaTensorizer" title="pytext.data.roberta_tensorizer.RoBERTaTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.roberta_tensorizer.RoBERTaTensorizer</span></code></a></p>
<p>Produces RoBERTa inputs and answer spans for Squad.</p>
<dl class="method">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForRoBERTaTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.squad_for_bert_tensorizer.SquadForRoBERTaTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForRoBERTaTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForRoBERTaTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>from_config parses the config associated with the tensorizer and
creates both the tokenizer and the Vocabulary object. The extra arguments
passed as kwargs allow us to reuse thie function with variable number
of arguments (eg: for classes which derive from this class).</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.squad_for_bert_tensorizer.SquadForRoBERTaTensorizer.torchscriptify">
<code class="sig-name descname">torchscriptify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_for_bert_tensorizer.html#SquadForRoBERTaTensorizer.torchscriptify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_for_bert_tensorizer.SquadForRoBERTaTensorizer.torchscriptify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.squad_tensorizer">
<span id="pytext-data-squad-tensorizer-module"></span><h2>pytext.data.squad_tensorizer module<a class="headerlink" href="#module-pytext.data.squad_tensorizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.squad_tensorizer.SquadTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.squad_tensorizer.</code><code class="sig-name descname">SquadTensorizer</code><span class="sig-paren">(</span><em class="sig-param">doc_tensorizer: pytext.data.tensorizers.TokenTensorizer</em>, <em class="sig-param">ques_tensorizer: pytext.data.tensorizers.TokenTensorizer</em>, <em class="sig-param">doc_column: str = 'doc'</em>, <em class="sig-param">ques_column: str = 'question'</em>, <em class="sig-param">answers_column: str = 'answers'</em>, <em class="sig-param">answer_starts_column: str = 'answer_starts'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.TokenTensorizer" title="pytext.data.tensorizers.TokenTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.TokenTensorizer</span></code></a></p>
<p>Produces inputs and answer spans for Squad.</p>
<dl class="attribute">
<dt id="pytext.data.squad_tensorizer.SquadTensorizer.SPAN_PAD_IDX">
<code class="sig-name descname">SPAN_PAD_IDX</code><em class="property"> = -100</em><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizer.SPAN_PAD_IDX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.squad_tensorizer.SquadTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.squad_tensorizer.SquadTensorizer.Config</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.squad_tensorizer.SquadTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">vocab_builder=None</em>, <em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Build vocabulary based on training corpus.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.squad_tensorizer.SquadTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenize, look up in vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.squad_tensorizer.SquadTensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.squad_tensorizer.SquadTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.squad_tensorizer.SquadTensorizerForKD">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.squad_tensorizer.</code><code class="sig-name descname">SquadTensorizerForKD</code><span class="sig-paren">(</span><em class="sig-param">start_logits_column='start_logits'</em>, <em class="sig-param">end_logits_column='end_logits'</em>, <em class="sig-param">has_answer_logits_column='has_answer_logits'</em>, <em class="sig-param">pad_mask_column='pad_mask'</em>, <em class="sig-param">segment_labels_column='segment_labels'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizerForKD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizerForKD" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.squad_tensorizer.SquadTensorizer" title="pytext.data.squad_tensorizer.SquadTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.squad_tensorizer.SquadTensorizer</span></code></a></p>
<dl class="method">
<dt id="pytext.data.squad_tensorizer.SquadTensorizerForKD.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.squad_tensorizer.SquadTensorizerForKD.Config</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizerForKD.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizerForKD.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.squad_tensorizer.SquadTensorizerForKD.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizerForKD.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizerForKD.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenize, look up in vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.squad_tensorizer.SquadTensorizerForKD.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/squad_tensorizer.html#SquadTensorizerForKD.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.squad_tensorizer.SquadTensorizerForKD.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.tensorizers">
<span id="pytext-data-tensorizers-module"></span><h2>pytext.data.tensorizers module<a class="headerlink" href="#module-pytext.data.tensorizers" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.tensorizers.AnnotationNumberizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">AnnotationNumberizer</code><span class="sig-paren">(</span><em class="sig-param">column: str = 'seqlogical'</em>, <em class="sig-param">vocab=None</em>, <em class="sig-param">is_input: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#AnnotationNumberizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.AnnotationNumberizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Not really a Tensorizer (since it does not create tensors) but technically
serves the same function. This class parses Annotations in the format below
and extracts the actions (type List[List[int]])</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">IN</span><span class="p">:</span><span class="n">GET_ESTIMATED_DURATION</span> <span class="n">How</span> <span class="nb">long</span> <span class="n">will</span> <span class="n">it</span> <span class="n">take</span> <span class="n">to</span> <span class="p">[</span><span class="n">SL</span><span class="p">:</span><span class="n">METHOD_TRAVEL</span>
<span class="n">drive</span> <span class="p">]</span> <span class="kn">from</span> <span class="p">[</span><span class="n">SL</span><span class="p">:</span><span class="n">SOURCE</span> <span class="n">Chicago</span> <span class="p">]</span> <span class="n">to</span> <span class="p">[</span><span class="n">SL</span><span class="p">:</span><span class="n">DESTINATION</span> <span class="n">Mississippi</span> <span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>Extraction algorithm is handled by Annotation class. We only care about
the list of actions, which before vocab index lookups would look like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="n">IN</span><span class="p">:</span><span class="n">GET_ESTIMATED_DURATION</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span>
    <span class="n">SL</span><span class="p">:</span><span class="n">METHOD_TRAVEL</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">REDUCE</span><span class="p">,</span>
    <span class="n">SHIFT</span><span class="p">,</span>
    <span class="n">SL</span><span class="p">:</span><span class="n">SOURCE</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">REDUCE</span><span class="p">,</span>
    <span class="n">SHIFT</span><span class="p">,</span>
    <span class="n">SL</span><span class="p">:</span><span class="n">DESTINATION</span><span class="p">,</span> <span class="n">SHIFT</span><span class="p">,</span> <span class="n">REDUCE</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<dl class="method">
<dt id="pytext.data.tensorizers.AnnotationNumberizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.AnnotationNumberizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.AnnotationNumberizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.AnnotationNumberizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#AnnotationNumberizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.AnnotationNumberizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.AnnotationNumberizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">vocab_builder=None</em>, <em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#AnnotationNumberizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.AnnotationNumberizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Build vocabulary based on training corpus.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.AnnotationNumberizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#AnnotationNumberizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.AnnotationNumberizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenize, look up in vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.AnnotationNumberizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#AnnotationNumberizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.AnnotationNumberizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.ByteTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">ByteTensorizer</code><span class="sig-paren">(</span><em class="sig-param">text_column</em>, <em class="sig-param">lower=True</em>, <em class="sig-param">max_seq_len=None</em>, <em class="sig-param">add_bos_token=False</em>, <em class="sig-param">add_eos_token=False</em>, <em class="sig-param">use_eos_token_for_bos=False</em>, <em class="sig-param">is_input=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Turn characters into sequence of int8 bytes. One character will have one
or more bytes depending on it’s encoding</p>
<dl class="attribute">
<dt id="pytext.data.tensorizers.ByteTensorizer.NUM">
<code class="sig-name descname">NUM</code><em class="property"> = 256</em><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer.NUM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.tensorizers.ByteTensorizer.PAD_BYTE">
<code class="sig-name descname">PAD_BYTE</code><em class="property"> = 0</em><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer.PAD_BYTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.tensorizers.ByteTensorizer.UNK_BYTE">
<code class="sig-name descname">UNK_BYTE</code><em class="property"> = 0</em><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer.UNK_BYTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.ByteTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert text to characters.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.ByteTokenTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">ByteTokenTensorizer</code><span class="sig-paren">(</span><em class="sig-param">text_column</em>, <em class="sig-param">tokenizer=None</em>, <em class="sig-param">max_seq_len=None</em>, <em class="sig-param">max_byte_len=15</em>, <em class="sig-param">offset_for_non_padding=0</em>, <em class="sig-param">add_bos_token=False</em>, <em class="sig-param">add_eos_token=False</em>, <em class="sig-param">use_eos_token_for_bos=False</em>, <em class="sig-param">is_input=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTokenTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTokenTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Turn words into 2-dimensional tensors of int8 bytes. Words are padded to
<cite>max_byte_len</cite>. Also computes sequence lengths (1-D tensor) and token lengths
(2-D tensor). 0 is the pad byte.</p>
<dl class="attribute">
<dt id="pytext.data.tensorizers.ByteTokenTensorizer.NUM_BYTES">
<code class="sig-name descname">NUM_BYTES</code><em class="property"> = 256</em><a class="headerlink" href="#pytext.data.tensorizers.ByteTokenTensorizer.NUM_BYTES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTokenTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.ByteTokenTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTokenTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.ByteTokenTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTokenTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTokenTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTokenTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTokenTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTokenTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert text to bytes, pad batch.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTokenTensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTokenTensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTokenTensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.ByteTokenTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em>, <em class="sig-param">pad_token=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#ByteTokenTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.ByteTokenTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.CharacterTokenTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">CharacterTokenTensorizer</code><span class="sig-paren">(</span><em class="sig-param">max_char_length: int = 20</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#CharacterTokenTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.CharacterTokenTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.TokenTensorizer" title="pytext.data.tensorizers.TokenTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.TokenTensorizer</span></code></a></p>
<p>Turn words into 2-dimensional tensors of ints based on their ascii values.
Words are padded to the maximum word length (also capped at <cite>max_char_length</cite>).
Sequence lengths are the length of each token, 0 for pad token.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.CharacterTokenTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pytext.data.tensorizers.CharacterTokenTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>The initialize function is carefully designed to allow us to read through the
training dataset only once, and not store it in memory. As such, it can’t itself
manually iterate over the data source. Instead, the initialize function is a
coroutine, which is sent row data. This should look roughly like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set up variables here</span>
<span class="o">...</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># start reading through data source</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># row has type Dict[str, types.DataType]</span>
        <span class="n">row</span> <span class="o">=</span> <span class="k">yield</span>
        <span class="c1"># update any variables, vocabularies, etc.</span>
        <span class="o">...</span>
<span class="k">except</span> <span class="ne">GeneratorExit</span><span class="p">:</span>
    <span class="c1"># finalize your initialization, set instance variables, etc.</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>See <cite>WordTokenizer.initialize</cite> for a more concrete example.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.CharacterTokenTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#CharacterTokenTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.CharacterTokenTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert text to characters, pad batch.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.CharacterTokenTensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#CharacterTokenTensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.CharacterTokenTensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.CharacterTokenTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#CharacterTokenTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.CharacterTokenTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.FloatListTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">FloatListTensorizer</code><span class="sig-paren">(</span><em class="sig-param">column: str, error_check: bool, dim: Optional[int], normalize: bool, is_input: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatListTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatListTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Numberize numeric labels.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatListTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.FloatListTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatListTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.FloatListTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatListTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatListTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatListTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatListTensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatListTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>The initialize function is carefully designed to allow us to read through the
training dataset only once, and not store it in memory. As such, it can’t itself
manually iterate over the data source. Instead, the initialize function is a
coroutine, which is sent row data. This should look roughly like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set up variables here</span>
<span class="o">...</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># start reading through data source</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># row has type Dict[str, types.DataType]</span>
        <span class="n">row</span> <span class="o">=</span> <span class="k">yield</span>
        <span class="c1"># update any variables, vocabularies, etc.</span>
        <span class="o">...</span>
<span class="k">except</span> <span class="ne">GeneratorExit</span><span class="p">:</span>
    <span class="c1"># finalize your initialization, set instance variables, etc.</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>See <cite>WordTokenizer.initialize</cite> for a more concrete example.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatListTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatListTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatListTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatListTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatListTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatListTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.FloatTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">FloatTensorizer</code><span class="sig-paren">(</span><em class="sig-param">column: str</em>, <em class="sig-param">is_input: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>A tensorizer for reading in scalars from the data.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.FloatTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.FloatTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.FloatTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#FloatTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.FloatTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.GazetteerTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">GazetteerTensorizer</code><span class="sig-paren">(</span><em class="sig-param">text_column: str = 'text'</em>, <em class="sig-param">dict_column: str = 'dict'</em>, <em class="sig-param">tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em>, <em class="sig-param">is_input: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#GazetteerTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.GazetteerTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Create 3 tensors for dict features.</p>
<ul class="simple">
<li><p>idx: index of feature in token order.</p></li>
<li><p>weights: weight of feature in token order.</p></li>
<li><p>lens: number of features per token.</p></li>
</ul>
<p>For each input token, there will be the same number of <cite>idx</cite> and <cite>weights</cite> entries.
(equal to the max number of features any token has in this row). The values
in <cite>lens</cite> will tell how many of these features are actually used per token.</p>
<p>Input format for the dict column is json and should be a list of dictionaries
containing the “features” and their weight for each relevant “tokenIdx”. Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">text</span><span class="p">:</span> <span class="s2">"Order coffee from Starbucks please"</span>
<span class="nb">dict</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">"tokenIdx"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">"features"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"drink/beverage"</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s2">"music/song"</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">}},</span>
    <span class="p">{</span><span class="s2">"tokenIdx"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">"features"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"store/coffee_shop"</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>if we assume this vocab</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vocab</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">UNK</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">PAD</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"drink/beverage"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">"music/song"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">"store/coffee_shop"</span><span class="p">:</span> <span class="mi">4</span>
<span class="p">}</span>
</pre></div>
</div>
<p>this example will result in those tensors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">idx</span> <span class="o">=</span>     <span class="p">[</span><span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">2</span><span class="p">,</span>   <span class="mi">3</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">,</span>   <span class="mi">1</span><span class="p">]</span>
<span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
<span class="n">lens</span> <span class="o">=</span>    <span class="p">[</span><span class="mi">1</span><span class="p">,</span>        <span class="mi">2</span><span class="p">,</span>        <span class="mi">1</span><span class="p">,</span>        <span class="mi">1</span><span class="p">,</span>        <span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<dl class="method">
<dt id="pytext.data.tensorizers.GazetteerTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.GazetteerTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.GazetteerTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.GazetteerTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#GazetteerTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.GazetteerTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.GazetteerTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#GazetteerTensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.GazetteerTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Look through the dataset for all dict features to create vocab.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.GazetteerTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#GazetteerTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.GazetteerTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Numberize dict features. Fill in for tokens with no features with
PAD and weight 0.0. All tokens need to have at least one entry.
Tokens with more than one feature will have multiple idx and weight
added in sequence.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.GazetteerTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#GazetteerTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.GazetteerTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.LabelListTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">LabelListTensorizer</code><span class="sig-paren">(</span><em class="sig-param">label_column: str = 'label'</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelListTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelListTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.LabelTensorizer" title="pytext.data.tensorizers.LabelTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.LabelTensorizer</span></code></a></p>
<p>LabelListTensorizer takes a list of labels as input and generate a tuple
of tensors (label_idx, list_length).</p>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelListTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.LabelListTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelListTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelListTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelListTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Numberize labels.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelListTensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelListTensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelListTensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelListTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelListTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelListTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.LabelTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">LabelTensorizer</code><span class="sig-paren">(</span><em class="sig-param">label_column: str = 'label'</em>, <em class="sig-param">allow_unknown: bool = False</em>, <em class="sig-param">pad_in_vocab: bool = False</em>, <em class="sig-param">label_vocab: Optional[List[str]] = None</em>, <em class="sig-param">is_input: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Numberize labels. Label can be used as either input or target</p>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.LabelTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.LabelTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelTensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Look through the dataset for all labels and create a vocab map for them.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Numberize labels.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.LabelTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#LabelTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.LabelTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.MetricTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">MetricTensorizer</code><span class="sig-paren">(</span><em class="sig-param">names: List[str], indexes: List[int], is_input: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#MetricTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.MetricTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>A tensorizer which use other tensorizers’ numerized data.
Used mostly for metric reporting.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.MetricTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.MetricTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#MetricTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.MetricTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.MetricTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#MetricTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.MetricTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.MetricTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#MetricTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.MetricTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.NtokensTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">NtokensTensorizer</code><span class="sig-paren">(</span><em class="sig-param">names: List[str], indexes: List[int], is_input: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#NtokensTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.NtokensTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.MetricTensorizer" title="pytext.data.tensorizers.MetricTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.MetricTensorizer</span></code></a></p>
<p>A tensorizer which will reference another tensorizer’s numerized data
to calculate the num tokens.
Used for calculating tokens per second.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.NtokensTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#NtokensTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.NtokensTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.NumericLabelTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">NumericLabelTensorizer</code><span class="sig-paren">(</span><em class="sig-param">label_column: str = 'label'</em>, <em class="sig-param">rescale_range: Optional[List[float]] = None</em>, <em class="sig-param">is_input: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#NumericLabelTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.NumericLabelTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Numberize numeric labels.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.NumericLabelTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.NumericLabelTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.NumericLabelTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.NumericLabelTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#NumericLabelTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.NumericLabelTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.NumericLabelTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#NumericLabelTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.NumericLabelTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Numberize labels.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.NumericLabelTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#NumericLabelTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.NumericLabelTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.SeqTokenTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">SeqTokenTensorizer</code><span class="sig-paren">(</span><em class="sig-param">column: str = 'text_seq'</em>, <em class="sig-param">tokenizer=None</em>, <em class="sig-param">add_bos_token: bool = False</em>, <em class="sig-param">add_eos_token: bool = False</em>, <em class="sig-param">use_eos_token_for_bos: bool = False</em>, <em class="sig-param">add_bol_token: bool = False</em>, <em class="sig-param">add_eol_token: bool = False</em>, <em class="sig-param">use_eol_token_for_bol: bool = False</em>, <em class="sig-param">max_seq_len=None</em>, <em class="sig-param">vocab=None</em>, <em class="sig-param">is_input: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SeqTokenTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SeqTokenTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Tensorize a sequence of sentences. The input is a list of strings,
like this one:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">"where do you wanna meet?"</span><span class="p">,</span> <span class="s2">"MPK"</span><span class="p">]</span>
</pre></div>
</div>
<p>if we assume this vocab</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vocab</span>  <span class="p">{</span>
  <span class="n">UNK</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">PAD</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s1">'where'</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">'do'</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">'you'</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">'wanna'</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">'meet?'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'mpk'</span><span class="p">:</span> <span class="mi">7</span>
<span class="p">}</span>
</pre></div>
</div>
<p>this example will result in those tensors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">idx</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
<p>If you’re using BOS, EOS, BOL and EOL, the vocab will look like this</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vocab</span>  <span class="p">{</span>
  <span class="n">UNK</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">PAD</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>  <span class="n">BOS</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">EOS</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="n">BOL</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="n">EOL</span><span class="p">:</span> <span class="mi">5</span>
  <span class="s1">'where'</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">'do'</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">'you'</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">'wanna'</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">'meet?'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">'mpk'</span><span class="p">:</span> <span class="mi">11</span>
<span class="p">}</span>
</pre></div>
</div>
<p>this example will result in those tensors:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">idx</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
    <span class="p">[</span><span class="mi">2</span><span class="p">,</span>  <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="p">]</span>
<span class="n">seq_len</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<dl class="method">
<dt id="pytext.data.tensorizers.SeqTokenTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.SeqTokenTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SeqTokenTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.SeqTokenTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SeqTokenTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SeqTokenTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SeqTokenTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">vocab_builder=None</em>, <em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SeqTokenTensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SeqTokenTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Build vocabulary based on training corpus.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SeqTokenTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SeqTokenTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SeqTokenTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenize, look up in vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SeqTokenTensorizer.prepare_input">
<code class="sig-name descname">prepare_input</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SeqTokenTensorizer.prepare_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SeqTokenTensorizer.prepare_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenize, return tokenized_texts in raw text</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SeqTokenTensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SeqTokenTensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SeqTokenTensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SeqTokenTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SeqTokenTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SeqTokenTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.SlotLabelTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">SlotLabelTensorizer</code><span class="sig-paren">(</span><em class="sig-param">slot_column: str = 'slots'</em>, <em class="sig-param">text_column: str = 'text'</em>, <em class="sig-param">tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em>, <em class="sig-param">allow_unknown: bool = False</em>, <em class="sig-param">is_input: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SlotLabelTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SlotLabelTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Numberize word/slot labels.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.SlotLabelTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.SlotLabelTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SlotLabelTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.SlotLabelTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SlotLabelTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SlotLabelTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SlotLabelTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SlotLabelTensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SlotLabelTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Look through the dataset for all labels and create a vocab map for them.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SlotLabelTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SlotLabelTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SlotLabelTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn slot labels and text into a list of token labels with the same
length as the number of tokens in the text.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SlotLabelTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SlotLabelTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SlotLabelTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.SlotLabelTensorizerExpansible">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">SlotLabelTensorizerExpansible</code><span class="sig-paren">(</span><em class="sig-param">slot_column: str = 'slots'</em>, <em class="sig-param">text_column: str = 'text'</em>, <em class="sig-param">tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em>, <em class="sig-param">allow_unknown: bool = False</em>, <em class="sig-param">is_input: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SlotLabelTensorizerExpansible"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SlotLabelTensorizerExpansible" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.SlotLabelTensorizer" title="pytext.data.tensorizers.SlotLabelTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.SlotLabelTensorizer</span></code></a></p>
<p>Create a base SlotLabelTensorizer to support selecting different
types in ModelInput.</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.SoftLabelTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">SoftLabelTensorizer</code><span class="sig-paren">(</span><em class="sig-param">label_column: str = 'label'</em>, <em class="sig-param">allow_unknown: bool = False</em>, <em class="sig-param">pad_in_vocab: bool = False</em>, <em class="sig-param">label_vocab: Optional[List[str]] = None</em>, <em class="sig-param">probs_column: str = 'target_probs'</em>, <em class="sig-param">logits_column: str = 'target_logits'</em>, <em class="sig-param">labels_column: str = 'target_labels'</em>, <em class="sig-param">is_input: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SoftLabelTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SoftLabelTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.LabelTensorizer" title="pytext.data.tensorizers.LabelTensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.LabelTensorizer</span></code></a></p>
<p>Handles numberizing labels for knowledge distillation. This still requires the same
label column as <cite>LabelTensorizer</cite> for the “true” label, but also processes soft
“probabilistic” labels generated from a teacher model, via three new columns.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.SoftLabelTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.SoftLabelTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SoftLabelTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.SoftLabelTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SoftLabelTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SoftLabelTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SoftLabelTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SoftLabelTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SoftLabelTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Numberize hard and soft labels</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.SoftLabelTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#SoftLabelTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.SoftLabelTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.Tensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">Tensorizer</code><span class="sig-paren">(</span><em class="sig-param">is_input: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>Tensorizers are a component that converts from batches of
<cite>pytext.data.type.DataType</cite> instances to tensors. These tensors will eventually
be inputs to the model, but the model is aware of the tensorizers and can arrange
the tensors they create to conform to its model.</p>
<p>Tensorizers have an initialize function. This function allows the tensorizer to
read through the training dataset to build up any data that it needs for
creating the model. Commonly this is valuable for things like inferring a
vocabulary from the training set, or learning the entire set of training labels,
or slot labels, etc.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.Tensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.Tensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.Tensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.Tensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>The initialize function is carefully designed to allow us to read through the
training dataset only once, and not store it in memory. As such, it can’t itself
manually iterate over the data source. Instead, the initialize function is a
coroutine, which is sent row data. This should look roughly like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set up variables here</span>
<span class="o">...</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># start reading through data source</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># row has type Dict[str, types.DataType]</span>
        <span class="n">row</span> <span class="o">=</span> <span class="k">yield</span>
        <span class="c1"># update any variables, vocabularies, etc.</span>
        <span class="o">...</span>
<span class="k">except</span> <span class="ne">GeneratorExit</span><span class="p">:</span>
    <span class="c1"># finalize your initialization, set instance variables, etc.</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>See <cite>WordTokenizer.initialize</cite> for a more concrete example.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.Tensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.Tensorizer.prepare_input">
<code class="sig-name descname">prepare_input</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.prepare_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.prepare_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Return preprocessed input tensors/blob for caffe2 prediction net.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.Tensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.Tensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.tensorizers.Tensorizer.tensorizer_script_impl">
<code class="sig-name descname">tensorizer_script_impl</code><em class="property"> = None</em><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.tensorizer_script_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.Tensorizer.torchscriptify">
<code class="sig-name descname">torchscriptify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.torchscriptify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.Tensorizer.torchscriptify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">TensorizerScriptImpl</code><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.batch_size">
<code class="sig-name descname">batch_size</code><span class="sig-paren">(</span><em class="sig-param">texts: Optional[List[List[str]]], tokens: Optional[List[List[List[str]]]]</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.get_texts_by_index">
<code class="sig-name descname">get_texts_by_index</code><span class="sig-paren">(</span><em class="sig-param">texts: Optional[List[List[str]]], index: int</em><span class="sig-paren">)</span> → Optional[List[str]]<a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.get_texts_by_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.get_texts_by_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.get_tokens_by_index">
<code class="sig-name descname">get_tokens_by_index</code><span class="sig-paren">(</span><em class="sig-param">tokens: Optional[List[List[List[str]]]], index: int</em><span class="sig-paren">)</span> → Optional[List[List[str]]]<a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.get_tokens_by_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.get_tokens_by_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>This functions will receive the outputs from function: tokenize() or
will be called directly from PyTextTensorizer function: numberize().</p>
<p>Override this function to be TorchScriptable, e.g you need to declare
concrete input arguments with type hints.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.row_size">
<code class="sig-name descname">row_size</code><span class="sig-paren">(</span><em class="sig-param">texts: Optional[List[List[str]]], tokens: Optional[List[List[List[str]]]]</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.row_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.row_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.set_device">
<code class="sig-name descname">set_device</code><span class="sig-paren">(</span><em class="sig-param">device: str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.set_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.set_device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>This functions will receive a list(e.g a batch) of outputs
from function numberize(), padding and convert to output tensors.</p>
<p>Override this function to be TorchScriptable, e.g you need to declare
concrete input arguments with type hints.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.tensorize_wrapper">
<code class="sig-name descname">tensorize_wrapper</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.tensorize_wrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.tensorize_wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>This functions will receive a list(e.g a batch) of outputs
from function numberize(), padding and convert to output tensors.</p>
<p>It will be called in PyText Tensorizer during training time, this
function is not torchscriptiable because it depends on cuda.device().</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.tokenize">
<code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.tokenize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>This functions will receive the inputs from Clients, usually there are
two possible inputs
1) a row of texts: List[str]
2) a row of pre-processed tokens: List[List[str]]</p>
<p>Override this function to be TorchScriptable, e.g you need to declare
concrete input arguments with type hints.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TensorizerScriptImpl.torchscriptify">
<code class="sig-name descname">torchscriptify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TensorizerScriptImpl.torchscriptify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TensorizerScriptImpl.torchscriptify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.TokenTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">TokenTensorizer</code><span class="sig-paren">(</span><em class="sig-param">text_column</em>, <em class="sig-param">tokenizer=None</em>, <em class="sig-param">add_bos_token=False</em>, <em class="sig-param">add_eos_token=False</em>, <em class="sig-param">use_eos_token_for_bos=False</em>, <em class="sig-param">max_seq_len=None</em>, <em class="sig-param">vocab_config=None</em>, <em class="sig-param">vocab=None</em>, <em class="sig-param">vocab_file_delimiter=' '</em>, <em class="sig-param">is_input=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TokenTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TokenTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Convert text to a list of tokens. Do this based on a tokenizer configuration,
and build a vocabulary for numberization. Finally, pad the batch to create
a square tensor of the correct size.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.TokenTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.TokenTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TokenTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.TokenTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TokenTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TokenTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TokenTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">vocab_builder=None</em>, <em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TokenTensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TokenTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Build vocabulary based on training corpus.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TokenTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TokenTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TokenTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenize, look up in vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TokenTensorizer.prepare_input">
<code class="sig-name descname">prepare_input</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TokenTensorizer.prepare_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TokenTensorizer.prepare_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Tokenize, look up in vocabulary, return tokenized_texts in raw text</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TokenTensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TokenTensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TokenTensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.TokenTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#TokenTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.TokenTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.UidTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">UidTensorizer</code><span class="sig-paren">(</span><em class="sig-param">uid_column: str = 'uid'</em>, <em class="sig-param">allow_unknown: bool = True</em>, <em class="sig-param">is_input: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#UidTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.UidTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.tensorizers.Tensorizer" title="pytext.data.tensorizers.Tensorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.tensorizers.Tensorizer</span></code></a></p>
<p>Numberize user IDs which can be either strings or tensors.</p>
<dl class="method">
<dt id="pytext.data.tensorizers.UidTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.tensorizers.UidTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.UidTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.UidTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#UidTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.UidTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.UidTensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#UidTensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.UidTensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Look through the dataset for all uids and create a vocab map for them.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.UidTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#UidTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.UidTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>Numberize uids.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.tensorizers.UidTensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#UidTensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.UidTensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.VocabConfig">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">VocabConfig</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#VocabConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.VocabConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component.Config</span></code></p>
<dl class="attribute">
<dt id="pytext.data.tensorizers.VocabConfig.build_from_data">
<code class="sig-name descname">build_from_data</code><em class="property"> = True</em><a class="headerlink" href="#pytext.data.tensorizers.VocabConfig.build_from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to add tokens from training data to vocab.</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.tensorizers.VocabConfig.size_from_data">
<code class="sig-name descname">size_from_data</code><em class="property"> = 0</em><a class="headerlink" href="#pytext.data.tensorizers.VocabConfig.size_from_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <cite>size_from_data</cite> most frequent tokens in training data to vocab (if this
is 0, add all tokens from training data).</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.tensorizers.VocabConfig.vocab_files">
<code class="sig-name descname">vocab_files</code><em class="property"> = []</em><a class="headerlink" href="#pytext.data.tensorizers.VocabConfig.vocab_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.tensorizers.VocabFileConfig">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">VocabFileConfig</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#VocabFileConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.VocabFileConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component.Config</span></code></p>
<dl class="attribute">
<dt id="pytext.data.tensorizers.VocabFileConfig.filepath">
<code class="sig-name descname">filepath</code><em class="property"> = ''</em><a class="headerlink" href="#pytext.data.tensorizers.VocabFileConfig.filepath" title="Permalink to this definition">¶</a></dt>
<dd><p>File containing tokens to add to vocab (first whitespace-separated entry per
line)</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.tensorizers.VocabFileConfig.lowercase_tokens">
<code class="sig-name descname">lowercase_tokens</code><em class="property"> = False</em><a class="headerlink" href="#pytext.data.tensorizers.VocabFileConfig.lowercase_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to lowercase each of the tokens in the file</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.tensorizers.VocabFileConfig.size_limit">
<code class="sig-name descname">size_limit</code><em class="property"> = 0</em><a class="headerlink" href="#pytext.data.tensorizers.VocabFileConfig.size_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>The max number of tokens to add to vocab</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.tensorizers.VocabFileConfig.skip_header_line">
<code class="sig-name descname">skip_header_line</code><em class="property"> = False</em><a class="headerlink" href="#pytext.data.tensorizers.VocabFileConfig.skip_header_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to skip the first line of the file (e.g. if it is a header line)</p>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.data.tensorizers.initialize_tensorizers">
<code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">initialize_tensorizers</code><span class="sig-paren">(</span><em class="sig-param">tensorizers</em>, <em class="sig-param">data_source</em>, <em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#initialize_tensorizers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.initialize_tensorizers" title="Permalink to this definition">¶</a></dt>
<dd><p>A utility function to stream a data source to the initialize functions
of a dict of tensorizers.</p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.tensorizers.lookup_tokens">
<code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">lookup_tokens</code><span class="sig-paren">(</span><em class="sig-param">text: str = None</em>, <em class="sig-param">pre_tokenized: List[pytext.data.tokenizers.tokenizer.Token] = None</em>, <em class="sig-param">tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em>, <em class="sig-param">vocab: pytext.data.utils.Vocabulary = None</em>, <em class="sig-param">bos_token: Optional[str] = None</em>, <em class="sig-param">eos_token: Optional[str] = None</em>, <em class="sig-param">pad_token: str = '__PAD__'</em>, <em class="sig-param">use_eos_token_for_bos: bool = False</em>, <em class="sig-param">max_seq_len: int = 1073741824</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#lookup_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.lookup_tokens" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.tensorizers.to_device">
<code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">to_device</code><span class="sig-paren">(</span><em class="sig-param">tensorizer_script_impl</em>, <em class="sig-param">device</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#to_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.to_device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.tensorizers.tokenize">
<code class="sig-prename descclassname">pytext.data.tensorizers.</code><code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param">text: str = None</em>, <em class="sig-param">pre_tokenized: List[pytext.data.tokenizers.tokenizer.Token] = None</em>, <em class="sig-param">tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em>, <em class="sig-param">bos_token: Optional[str] = None</em>, <em class="sig-param">eos_token: Optional[str] = None</em>, <em class="sig-param">pad_token: str = '__PAD__'</em>, <em class="sig-param">use_eos_token_for_bos: bool = False</em>, <em class="sig-param">max_seq_len: int = 1073741824</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#tokenize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.tensorizers.tokenize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>
<div class="section" id="module-pytext.data.utils">
<span id="pytext-data-utils-module"></span><h2>pytext.data.utils module<a class="headerlink" href="#module-pytext.data.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.utils.SpecialToken">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">SpecialToken</code><a class="reference internal" href="../_modules/pytext/data/utils.html#SpecialToken"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.SpecialToken" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.utils.VocabBuilder">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">VocabBuilder</code><span class="sig-paren">(</span><em class="sig-param">delimiter=' '</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#VocabBuilder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.VocabBuilder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper class for aggregating and building <cite>Vocabulary</cite> objects.</p>
<dl class="method">
<dt id="pytext.data.utils.VocabBuilder.add">
<code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span> → None<a class="reference internal" href="../_modules/pytext/data/utils.html#VocabBuilder.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.VocabBuilder.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Count a single value in the vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.utils.VocabBuilder.add_all">
<code class="sig-name descname">add_all</code><span class="sig-paren">(</span><em class="sig-param">values</em><span class="sig-paren">)</span> → None<a class="reference internal" href="../_modules/pytext/data/utils.html#VocabBuilder.add_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.VocabBuilder.add_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Count a value or nested container of values in the vocabulary.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.utils.VocabBuilder.add_from_file">
<code class="sig-name descname">add_from_file</code><span class="sig-paren">(</span><em class="sig-param">file_pointer</em>, <em class="sig-param">skip_header_line</em>, <em class="sig-param">lowercase_tokens</em>, <em class="sig-param">size</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#VocabBuilder.add_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.VocabBuilder.add_from_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.utils.VocabBuilder.make_vocab">
<code class="sig-name descname">make_vocab</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.data.utils.Vocabulary<a class="reference internal" href="../_modules/pytext/data/utils.html#VocabBuilder.make_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.VocabBuilder.make_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a Vocabulary object from the values seen by the builder.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.utils.VocabBuilder.truncate_to_vocab_size">
<code class="sig-name descname">truncate_to_vocab_size</code><span class="sig-paren">(</span><em class="sig-param">vocab_size</em><span class="sig-paren">)</span> → None<a class="reference internal" href="../_modules/pytext/data/utils.html#VocabBuilder.truncate_to_vocab_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.VocabBuilder.truncate_to_vocab_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.utils.Vocabulary">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">Vocabulary</code><span class="sig-paren">(</span><em class="sig-param">vocab_list: List[str], counts: List = None, replacements: Optional[Dict[str, str]] = None, unk_token: str = '__UNKNOWN__', pad_token: str = '__PAD__', bos_token: str = '__BEGIN_OF_SENTENCE__', eos_token: str = '__END_OF_SENTENCE__'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#Vocabulary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.Vocabulary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A mapping from indices to vocab elements.</p>
<dl class="method">
<dt id="pytext.data.utils.Vocabulary.get_bos_index">
<code class="sig-name descname">get_bos_index</code><span class="sig-paren">(</span><em class="sig-param">value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#Vocabulary.get_bos_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.Vocabulary.get_bos_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.utils.Vocabulary.get_eos_index">
<code class="sig-name descname">get_eos_index</code><span class="sig-paren">(</span><em class="sig-param">value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#Vocabulary.get_eos_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.Vocabulary.get_eos_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.utils.Vocabulary.get_pad_index">
<code class="sig-name descname">get_pad_index</code><span class="sig-paren">(</span><em class="sig-param">value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#Vocabulary.get_pad_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.Vocabulary.get_pad_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.utils.Vocabulary.get_unk_index">
<code class="sig-name descname">get_unk_index</code><span class="sig-paren">(</span><em class="sig-param">value=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#Vocabulary.get_unk_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.Vocabulary.get_unk_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.utils.Vocabulary.lookup_all">
<code class="sig-name descname">lookup_all</code><span class="sig-paren">(</span><em class="sig-param">nested_values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#Vocabulary.lookup_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.Vocabulary.lookup_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.utils.Vocabulary.lookup_all_internal">
<code class="sig-name descname">lookup_all_internal</code><span class="sig-paren">(</span><em class="sig-param">nested_values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#Vocabulary.lookup_all_internal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.Vocabulary.lookup_all_internal" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a value or nested container of values in the vocab index.
The return value will have the same shape as the input, with all values
replaced with their respective indicies.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.utils.Vocabulary.replace_tokens">
<code class="sig-name descname">replace_tokens</code><span class="sig-paren">(</span><em class="sig-param">replacements</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#Vocabulary.replace_tokens"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.Vocabulary.replace_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace tokens in vocab with given replacement.
Used for replacing special strings for special tokens.
e.g. ‘[UNK]’ for UNK</p>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.data.utils.align_target_label">
<code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">align_target_label</code><span class="sig-paren">(</span><em class="sig-param">targets: List[float], labels: List[str], label_vocab: Dict[str, int]</em><span class="sig-paren">)</span> → List[float]<a class="reference internal" href="../_modules/pytext/data/utils.html#align_target_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.align_target_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Given <cite>targets</cite> that are ordered according to <cite>labels</cite>, align the targets to match
the order of <cite>label_vocab</cite>.</p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.utils.align_target_labels">
<code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">align_target_labels</code><span class="sig-paren">(</span><em class="sig-param">targets_list: List[List[float]], labels_list: List[List[str]], label_vocab: Dict[str, int]</em><span class="sig-paren">)</span> → List[List[float]]<a class="reference internal" href="../_modules/pytext/data/utils.html#align_target_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.align_target_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Given <cite>targets_list</cite> that are ordered according to <cite>labels_list</cite>, align the targets
to match the order of <cite>label_vocab</cite>.</p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.utils.pad">
<code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">pad</code><span class="sig-paren">(</span><em class="sig-param">nested_lists</em>, <em class="sig-param">pad_token</em>, <em class="sig-param">pad_shape=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the input lists with the pad token. If pad_shape is provided, pad to that
shape, otherwise infer the input shape and pad out to a square tensor shape.</p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.utils.pad_and_tensorize">
<code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">pad_and_tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em>, <em class="sig-param">pad_token=0</em>, <em class="sig-param">pad_shape=None</em>, <em class="sig-param">dtype=torch.int64</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#pad_and_tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.pad_and_tensorize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.utils.shard">
<code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">shard</code><span class="sig-paren">(</span><em class="sig-param">rows</em>, <em class="sig-param">rank</em>, <em class="sig-param">num_workers</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#shard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.shard" title="Permalink to this definition">¶</a></dt>
<dd><p>Only return every num_workers example for distributed training.</p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.utils.should_iter">
<code class="sig-prename descclassname">pytext.data.utils.</code><code class="sig-name descname">should_iter</code><span class="sig-paren">(</span><em class="sig-param">i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/utils.html#should_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.utils.should_iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not an object looks like a python iterable (not including strings).</p>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.xlm_constants">
<span id="pytext-data-xlm-constants-module"></span><h2>pytext.data.xlm_constants module<a class="headerlink" href="#module-pytext.data.xlm_constants" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pytext.data.xlm_dictionary">
<span id="pytext-data-xlm-dictionary-module"></span><h2>pytext.data.xlm_dictionary module<a class="headerlink" href="#module-pytext.data.xlm_dictionary" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.xlm_dictionary.Dictionary">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.xlm_dictionary.</code><code class="sig-name descname">Dictionary</code><span class="sig-paren">(</span><em class="sig-param">id2word</em>, <em class="sig-param">word2id</em>, <em class="sig-param">counts</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_dictionary.html#Dictionary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_dictionary.Dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="pytext.data.xlm_dictionary.Dictionary.check_valid">
<code class="sig-name descname">check_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_dictionary.html#Dictionary.check_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_dictionary.Dictionary.check_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the dictionary is valid.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_dictionary.Dictionary.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">word</em>, <em class="sig-param">no_unk=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_dictionary.html#Dictionary.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_dictionary.Dictionary.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index of the specified word.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_dictionary.Dictionary.index_data">
<em class="property">static </em><code class="sig-name descname">index_data</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">bin_path</em>, <em class="sig-param">dico</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_dictionary.html#Dictionary.index_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_dictionary.Dictionary.index_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Index sentences with a dictionary.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_dictionary.Dictionary.max_vocab">
<code class="sig-name descname">max_vocab</code><span class="sig-paren">(</span><em class="sig-param">max_vocab</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_dictionary.html#Dictionary.max_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_dictionary.Dictionary.max_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Limit the vocabulary size.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_dictionary.Dictionary.min_count">
<code class="sig-name descname">min_count</code><span class="sig-paren">(</span><em class="sig-param">min_count</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_dictionary.html#Dictionary.min_count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_dictionary.Dictionary.min_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Threshold on the word frequency counts.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_dictionary.Dictionary.read_vocab">
<em class="property">static </em><code class="sig-name descname">read_vocab</code><span class="sig-paren">(</span><em class="sig-param">vocab_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_dictionary.html#Dictionary.read_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_dictionary.Dictionary.read_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionary from a vocabulary file.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.xlm_tensorizer">
<span id="pytext-data-xlm-tensorizer-module"></span><h2>pytext.data.xlm_tensorizer module<a class="headerlink" href="#module-pytext.data.xlm_tensorizer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.xlm_tensorizer.</code><code class="sig-name descname">XLMTensorizer</code><span class="sig-paren">(</span><em class="sig-param">columns: List[str] = ['text'], vocab: pytext.data.utils.Vocabulary = None, tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None, max_seq_len: int = 256, language_column: str = 'language', lang2id: Dict[str, int] = {'ar': 0, 'bg': 1, 'de': 2, 'el': 3, 'en': 4, 'es': 5, 'fr': 6, 'hi': 7, 'ru': 8, 'sw': 9, 'th': 10, 'tr': 11, 'ur': 12, 'vi': 13, 'zh': 14}, use_language_embeddings: bool = True, has_language_in_data: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_tensorizer.html#XLMTensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.bert_tensorizer.BERTTensorizerBase" title="pytext.data.bert_tensorizer.BERTTensorizerBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.bert_tensorizer.BERTTensorizerBase</span></code></a></p>
<p>Tensorizer for Cross-lingual LM tasks. Works for single sentence as well
as sentence pair.</p>
<dl class="method">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.xlm_tensorizer.XLMTensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_tensorizer.html#XLMTensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizer.get_lang_id">
<code class="sig-name descname">get_lang_id</code><span class="sig-paren">(</span><em class="sig-param">row: Dict</em>, <em class="sig-param">col: str</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/xlm_tensorizer.html#XLMTensorizer.get_lang_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizer.get_lang_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row: Dict</em><span class="sig-paren">)</span> → Tuple[Any, ...]<a class="reference internal" href="../_modules/pytext/data/xlm_tensorizer.html#XLMTensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>This function contains logic for converting tokens into ids based on
the specified vocab. It also outputs, for each instance, the vectors
needed to run the actual model.</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizer.tensorizer_script_impl">
<code class="sig-name descname">tensorizer_script_impl</code><em class="property"> = None</em><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizer.tensorizer_script_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizerScriptImpl">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.xlm_tensorizer.</code><code class="sig-name descname">XLMTensorizerScriptImpl</code><span class="sig-paren">(</span><em class="sig-param">tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer, vocab: pytext.data.utils.Vocabulary, max_seq_len: int, language_vocab: List[str], default_language: str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/xlm_tensorizer.html#XLMTensorizerScriptImpl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizerScriptImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl" title="pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.bert_tensorizer.BERTTensorizerBaseScriptImpl</span></code></a></p>
<dl class="method">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizerScriptImpl.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">texts: Optional[List[List[str]]] = None</em>, <em class="sig-param">pre_tokenized: Optional[List[List[List[str]]]] = None</em>, <em class="sig-param">languages: Optional[List[List[str]]] = None</em><span class="sig-paren">)</span> → Tuple[torch.Tensor, torch.Tensor, torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/pytext/data/xlm_tensorizer.html#XLMTensorizerScriptImpl.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizerScriptImpl.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Wire up tokenize(), numberize() and tensorize() functions for data
processing.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.xlm_tensorizer.XLMTensorizerScriptImpl.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">per_sentence_tokens: List[List[Tuple[str, int, int]]], per_sentence_languages: List[int]</em><span class="sig-paren">)</span> → Tuple[List[int], List[int], int, List[int]]<a class="reference internal" href="../_modules/pytext/data/xlm_tensorizer.html#XLMTensorizerScriptImpl.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.xlm_tensorizer.XLMTensorizerScriptImpl.numberize" title="Permalink to this definition">¶</a></dt>
<dd><p>This function contains logic for converting tokens into ids based on
the specified vocab. It also outputs, for each instance, the vectors
needed to run the actual model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>per_sentence_tokens</strong> – list of tokens per sentence level in one row,</p></li>
<li><p><strong>token represented by token string</strong><strong>, </strong><strong>start and end indices.</strong> (<em>each</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List[int], a list of token ids, concatenate all
sentences token ids.
segment_labels: List[int], denotes each token belong to
which sentence.
seq_len: int, tokens length
positions: List[int], token positions</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tokens</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pytext.data" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.AlternatingRandomizedBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">AlternatingRandomizedBatchSampler</code><span class="sig-paren">(</span><em class="sig-param">unnormalized_iterator_probs: Dict[str, float], second_unnormalized_iterator_probs: Dict[str, float]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#AlternatingRandomizedBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.AlternatingRandomizedBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.batch_sampler.RandomizedBatchSampler" title="pytext.data.batch_sampler.RandomizedBatchSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.batch_sampler.RandomizedBatchSampler</span></code></a></p>
<p>This sampler takes in a dictionary of iterators and returns batches alternating
between keys and probabilities specified by <cite>unnormalized_iterator_probs</cite> and
‘second_unnormalized_iterator_probs’, This is used for example in XLM
pre-training where we alternate between MLM and TLM batches.</p>
<dl class="method">
<dt id="pytext.data.AlternatingRandomizedBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#AlternatingRandomizedBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.AlternatingRandomizedBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.AlternatingRandomizedBatchSampler.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.batch_sampler.AlternatingRandomizedBatchSampler.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#AlternatingRandomizedBatchSampler.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.AlternatingRandomizedBatchSampler.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.Batcher">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">Batcher</code><span class="sig-paren">(</span><em class="sig-param">train_batch_size=16</em>, <em class="sig-param">eval_batch_size=16</em>, <em class="sig-param">test_batch_size=16</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Batcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Batcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>Batcher designed to batch rows of data, before padding.</p>
<dl class="method">
<dt id="pytext.data.Batcher.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterable: Iterable[pytext.data.sources.data_source.RawExample], sort_key=None, stage=&lt;Stage.TRAIN: 'Training'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Batcher.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Batcher.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>Group rows by batch_size.  Assume iterable of dicts, yield dict of lists.
The last batch will be of length len(iterable) % batch_size.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.Batcher.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.data.Batcher.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Batcher.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Batcher.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.BaseBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">BaseBatchSampler</code><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#BaseBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.BaseBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<dl class="method">
<dt id="pytext.data.BaseBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#BaseBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.BaseBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.BaseBatchSampler.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.config.component.Component.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#BaseBatchSampler.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.BaseBatchSampler.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.BatchIterator">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">BatchIterator</code><span class="sig-paren">(</span><em class="sig-param">batches</em>, <em class="sig-param">processor</em>, <em class="sig-param">include_input=True</em>, <em class="sig-param">include_target=True</em>, <em class="sig-param">include_context=True</em>, <em class="sig-param">is_train=True</em>, <em class="sig-param">num_batches=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#BatchIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.BatchIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>BatchIterator is a wrapper of TorchText. Iterator that provide flexibility to
map batched data to a tuple of (input, target, context) and other additional
steps such as dealing with distributed training.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>batches</strong> (<em>Iterator</em><em>[</em><em>TorchText.Batch</em><em>]</em>) – iterator of TorchText.Batch, which
shuffles/batches the data in __iter__ and return a batch of data in
__next__</p></li>
<li><p><strong>processor</strong> – function to run after getting batched data from TorchText.Iterator,
the function should define a way to map to data into
(input, target, context)</p></li>
<li><p><strong>include_input</strong> (<em>bool</em>) – if input data should be returned, default is true</p></li>
<li><p><strong>include_target</strong> (<em>bool</em>) – if target data should be returned, default is true</p></li>
<li><p><strong>include_context</strong> (<em>bool</em>) – if context data should be returned, default is true</p></li>
<li><p><strong>is_train</strong> (<em>bool</em>) – if the batch data is for training</p></li>
<li><p><strong>num_batches</strong> (<em>int</em>) – total batches to generate, this param if for distributed
training due to a limitation in PyTorch’s distributed training backend
that enforces all the parallel workers to have the same number of batches
we workaround it by adding dummy batches at the end</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.CommonMetadata">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">CommonMetadata</code><a class="reference internal" href="../_modules/pytext/data/data_handler.html#CommonMetadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.CommonMetadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.Data">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">Data</code><span class="sig-paren">(</span><em class="sig-param">data_source: pytext.data.sources.data_source.DataSource, tensorizers: Dict[str, pytext.data.tensorizers.Tensorizer], batcher: pytext.data.data.Batcher = None, sort_key: Optional[str] = None, in_memory: Optional[bool] = False, init_tensorizers: Optional[bool] = True, init_tensorizers_from_scratch: Optional[bool] = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>Data is an abstraction that handles all of the following:</p>
<ul class="simple">
<li><p>Initialize model metadata parameters</p></li>
<li><p>Create batches of tensors for model training or prediction</p></li>
</ul>
<p>It can accomplish these in any way it needs to. The base implementation
utilizes <cite>pytext.data.sources.DataSource</cite>, and sends batches to
<cite>pytext.data.tensorizers.Tensorizer</cite> to create tensors.</p>
<p>The <cite>tensorizers</cite> dict passed to the initializer should be considered something like
a signature for the model. Each batch should be a dictionary with the same keys
as the <cite>tensorizers</cite> dict, and values should be tensors arranged in the way
specified by that tensorizer. The tensorizers dict doubles as a simple baseline
implementation of that same signature, but subclasses of Data can override the
implementation using other methods. This value is how the model specifies what
inputs it’s looking for.</p>
<dl class="method">
<dt id="pytext.data.Data.add_row_indices">
<code class="sig-name descname">add_row_indices</code><span class="sig-paren">(</span><em class="sig-param">rows</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.add_row_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Data.add_row_indices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.Data.batches">
<code class="sig-name descname">batches</code><span class="sig-paren">(</span><em class="sig-param">stage: pytext.common.constants.Stage</em>, <em class="sig-param">data_source=None</em>, <em class="sig-param">load_early=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.batches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Data.batches" title="Permalink to this definition">¶</a></dt>
<dd><p>Create batches of tensors to pass to model train_batch.
This function yields dictionaries that mirror the <cite>tensorizers</cite> dict passed to
<cite>__init__</cite>, ie. the keys will be the same, and the tensors will be the shape
expected from the respective tensorizers.</p>
<p><cite>stage</cite> is used to determine which data source is used to create batches.
if data_source is provided, it is used instead of the configured data_sorce
this is to allow setting a different data_source for testing a model.</p>
<p>Passing in <cite>load_early</cite> = True disables loading all data in memory and using
PoolingBatcher, so that we get the first batch as quickly as possible.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.Data.cache">
<code class="sig-name descname">cache</code><span class="sig-paren">(</span><em class="sig-param">numberized_rows</em>, <em class="sig-param">stage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Data.cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.Data.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.data.Data.Config, schema: Dict[str, Type], tensorizers: Dict[str, pytext.data.tensorizers.Tensorizer], rank=0, world_size=1, init_tensorizers=True, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Data.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.Data.numberize_rows">
<code class="sig-name descname">numberize_rows</code><span class="sig-paren">(</span><em class="sig-param">rows</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#Data.numberize_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Data.numberize_rows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.DataHandler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">DataHandler</code><span class="sig-paren">(</span><em class="sig-param">raw_columns: List[str], labels: Dict[str, pytext.fields.field.Field], features: Dict[str, pytext.fields.field.Field], featurizer: pytext.data.featurizer.featurizer.Featurizer, extra_fields: Dict[str, pytext.fields.field.Field] = None, text_feature_name: str = 'word_feat', shuffle: bool = True, sort_within_batch: bool = True, train_path: str = 'train.tsv', eval_path: str = 'eval.tsv', test_path: str = 'test.tsv', train_batch_size: int = 128, eval_batch_size: int = 128, test_batch_size: int = 128, max_seq_len: int = -1, pass_index: bool = True, column_mapping: Dict[str, str] = None, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>DataHandler is the central place to prepare data for model training/testing.
The class is responsible of:</p>
<ul class="simple">
<li><p>Define pipeline to process data and generate batch of tensors to be
consumed by model. Each batch is a (input, target, extra_data) tuple, in
which input can be feed directly into model.</p></li>
<li><p>Initialize global context, such as build vocab, load pretrained embeddings.
Store the context as metadata, and provide function to serialize/deserialize
the metadata</p></li>
</ul>
<p>The data processing pipeline contains the following steps:</p>
<ul class="simple">
<li><p>Read data from file into a list of raw data examples</p></li>
<li><p>Convert each row of row data to a TorchText Example. This logic happens
in process_row function and will:</p>
<ul>
<li><p>Invoke featurizer, which contains data processing steps to apply
for both training and inference time, e.g: tokenization</p></li>
<li><p>Use the raw data and results from featurizer to do any preprocessing</p></li>
</ul>
</li>
<li><p>Generate a TorchText.Dataset that contains the list of Example, the Dataset
also has a list of TorchText.Field, which defines how to do padding and
numericalization while batching data.</p></li>
<li><p>Return a BatchIterator which will give a tuple of (input, target, context)
tensors for each iteration. By default the tensors have a 1:1 mapping to
the TorchText.Field fields, but this behavior can be overwritten by
_input_from_batch, _target_from_batch, _context_from_batch functions.</p></li>
</ul>
<dl class="attribute">
<dt id="pytext.data.DataHandler.raw_columns">
<code class="sig-name descname">raw_columns</code><a class="headerlink" href="#pytext.data.DataHandler.raw_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>columns to read from data source. The order should
match the data stored in that file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.featurizer">
<code class="sig-name descname">featurizer</code><a class="headerlink" href="#pytext.data.DataHandler.featurizer" title="Permalink to this definition">¶</a></dt>
<dd><p>perform data preprocessing that should be shared
between training and inference</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Featurizer</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.features">
<code class="sig-name descname">features</code><a class="headerlink" href="#pytext.data.DataHandler.features" title="Permalink to this definition">¶</a></dt>
<dd><p>a dict of name -&gt; field that used to process data
as model input</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, Field]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.labels">
<code class="sig-name descname">labels</code><a class="headerlink" href="#pytext.data.DataHandler.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>a dict of name -&gt; field that used to process data
as training target</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, Field]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.extra_fields">
<code class="sig-name descname">extra_fields</code><a class="headerlink" href="#pytext.data.DataHandler.extra_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>fields that process any extra data used
neither as model input nor target. This is None by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Dict[str, Field]</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.text_feature_name">
<code class="sig-name descname">text_feature_name</code><a class="headerlink" href="#pytext.data.DataHandler.text_feature_name" title="Permalink to this definition">¶</a></dt>
<dd><p>name of the text field, used to define the default
sort key of data</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.shuffle">
<code class="sig-name descname">shuffle</code><a class="headerlink" href="#pytext.data.DataHandler.shuffle" title="Permalink to this definition">¶</a></dt>
<dd><p>if the dataset should be shuffled, true by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.sort_within_batch">
<code class="sig-name descname">sort_within_batch</code><a class="headerlink" href="#pytext.data.DataHandler.sort_within_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>if data within same batch should be sorted, true
by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.train_path">
<code class="sig-name descname">train_path</code><a class="headerlink" href="#pytext.data.DataHandler.train_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path of training data file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.eval_path">
<code class="sig-name descname">eval_path</code><a class="headerlink" href="#pytext.data.DataHandler.eval_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path of evaluation data file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.test_path">
<code class="sig-name descname">test_path</code><a class="headerlink" href="#pytext.data.DataHandler.test_path" title="Permalink to this definition">¶</a></dt>
<dd><p>path of test data file</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.train_batch_size">
<code class="sig-name descname">train_batch_size</code><a class="headerlink" href="#pytext.data.DataHandler.train_batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>training batch size, 128 by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.eval_batch_size">
<code class="sig-name descname">eval_batch_size</code><a class="headerlink" href="#pytext.data.DataHandler.eval_batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>evaluation batch size, 128 by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.test_batch_size">
<code class="sig-name descname">test_batch_size</code><a class="headerlink" href="#pytext.data.DataHandler.test_batch_size" title="Permalink to this definition">¶</a></dt>
<dd><p>test batch size, 128 by default</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.max_seq_len">
<code class="sig-name descname">max_seq_len</code><a class="headerlink" href="#pytext.data.DataHandler.max_seq_len" title="Permalink to this definition">¶</a></dt>
<dd><p>maximum length of tokens to keep in sequence</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DataHandler.pass_index">
<code class="sig-name descname">pass_index</code><a class="headerlink" href="#pytext.data.DataHandler.pass_index" title="Permalink to this definition">¶</a></dt>
<dd><p>if the original index of data in the batch should be
passed along to downstream steps, default is true</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.gen_dataset">
<code class="sig-name descname">gen_dataset</code><span class="sig-paren">(</span><em class="sig-param">data: Iterable[Dict[str, Any]], include_label_fields: bool = True, shard_range: Tuple[int, int] = None</em><span class="sig-paren">)</span> → torchtext.data.dataset.Dataset<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.gen_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.gen_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate torchtext Dataset from raw in memory data.
:returns: dataset (TorchText.Dataset)</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.gen_dataset_from_path">
<code class="sig-name descname">gen_dataset_from_path</code><span class="sig-paren">(</span><em class="sig-param">path: str</em>, <em class="sig-param">rank: int = 0</em>, <em class="sig-param">world_size: int = 1</em>, <em class="sig-param">include_label_fields: bool = True</em>, <em class="sig-param">use_cache: bool = True</em><span class="sig-paren">)</span> → torchtext.data.dataset.Dataset<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.gen_dataset_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.gen_dataset_from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a dataset from file
:returns: dataset (TorchText.Dataset)</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.get_eval_iter">
<code class="sig-name descname">get_eval_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_eval_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.get_eval_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.get_predict_iter">
<code class="sig-name descname">get_predict_iter</code><span class="sig-paren">(</span><em class="sig-param">data: Iterable[Dict[str, Any]], batch_size: Optional[int] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_predict_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.get_predict_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.get_test_iter">
<code class="sig-name descname">get_test_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_test_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.get_test_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.get_test_iter_from_path">
<code class="sig-name descname">get_test_iter_from_path</code><span class="sig-paren">(</span><em class="sig-param">test_path: str</em>, <em class="sig-param">batch_size: int</em><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_test_iter_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.get_test_iter_from_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.get_test_iter_from_raw_data">
<code class="sig-name descname">get_test_iter_from_raw_data</code><span class="sig-paren">(</span><em class="sig-param">test_data: List[Dict[str, Any]], batch_size: int</em><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_test_iter_from_raw_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.get_test_iter_from_raw_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.get_train_iter">
<code class="sig-name descname">get_train_iter</code><span class="sig-paren">(</span><em class="sig-param">rank: int = 0</em>, <em class="sig-param">world_size: int = 1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_train_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.get_train_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.get_train_iter_from_path">
<code class="sig-name descname">get_train_iter_from_path</code><span class="sig-paren">(</span><em class="sig-param">train_path: str</em>, <em class="sig-param">batch_size: int</em>, <em class="sig-param">rank: int = 0</em>, <em class="sig-param">world_size: int = 1</em><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_train_iter_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.get_train_iter_from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate data batch iterator for training data. See <cite>_get_train_iter()</cite> for
details</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_path</strong> (<em>str</em>) – file path of training data</p></li>
<li><p><strong>batch_size</strong> (<em>int</em>) – batch size</p></li>
<li><p><strong>rank</strong> (<em>int</em>) – used for distributed training, the rank of current Gpu,
don’t set it to anything but 0 for non-distributed training</p></li>
<li><p><strong>world_size</strong> (<em>int</em>) – used for distributed training, total number of Gpu</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.get_train_iter_from_raw_data">
<code class="sig-name descname">get_train_iter_from_raw_data</code><span class="sig-paren">(</span><em class="sig-param">train_data: List[Dict[str, Any]], batch_size: int, rank: int = 0, world_size: int = 1</em><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.get_train_iter_from_raw_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.get_train_iter_from_raw_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.init_feature_metadata">
<code class="sig-name descname">init_feature_metadata</code><span class="sig-paren">(</span><em class="sig-param">train_data: torchtext.data.dataset.Dataset</em>, <em class="sig-param">eval_data: torchtext.data.dataset.Dataset</em>, <em class="sig-param">test_data: torchtext.data.dataset.Dataset</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_feature_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.init_feature_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.init_metadata">
<code class="sig-name descname">init_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.init_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize metadata using data from configured path</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.init_metadata_from_path">
<code class="sig-name descname">init_metadata_from_path</code><span class="sig-paren">(</span><em class="sig-param">train_path</em>, <em class="sig-param">eval_path</em>, <em class="sig-param">test_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_metadata_from_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.init_metadata_from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize metadata using data from file</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.init_metadata_from_raw_data">
<code class="sig-name descname">init_metadata_from_raw_data</code><span class="sig-paren">(</span><em class="sig-param">*data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_metadata_from_raw_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.init_metadata_from_raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize metadata using in memory data</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.init_target_metadata">
<code class="sig-name descname">init_target_metadata</code><span class="sig-paren">(</span><em class="sig-param">train_data: torchtext.data.dataset.Dataset</em>, <em class="sig-param">eval_data: torchtext.data.dataset.Dataset</em>, <em class="sig-param">test_data: torchtext.data.dataset.Dataset</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.init_target_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.init_target_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.load_metadata">
<code class="sig-name descname">load_metadata</code><span class="sig-paren">(</span><em class="sig-param">metadata: pytext.data.data_handler.CommonMetadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.load_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.load_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Load previously saved metadata</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.load_vocab">
<code class="sig-name descname">load_vocab</code><span class="sig-paren">(</span><em class="sig-param">vocab_file</em>, <em class="sig-param">vocab_size</em>, <em class="sig-param">lowercase_tokens: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.load_vocab"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.load_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads items into a set from a file containing one item per line.
Items are added to the set from top of the file to bottom.
So, the items in the file should be ordered by a preference (if any), e.g.,
it makes sense to order tokens in descending order of frequency in corpus.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vocab_file</strong> (<em>str</em>) – vocab file to load</p></li>
<li><p><strong>vocab_size</strong> (<em>int</em>) – maximum tokens to load, will only load the first n if
the actual vocab size is larger than this parameter</p></li>
<li><p><strong>lowercase_tokens</strong> (<em>bool</em>) – if the tokens should be lowercased</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.metadata_to_save">
<code class="sig-name descname">metadata_to_save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.metadata_to_save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.metadata_to_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save metadata, pretrained_embeds_weight should be excluded</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.preprocess">
<code class="sig-name descname">preprocess</code><span class="sig-paren">(</span><em class="sig-param">data: Iterable[Dict[str, Any]]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.preprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.preprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>preprocess the raw data to create TorchText.Example, this is the second
step in whole processing pipeline
:returns: data (Generator[Dict[str, Any]])</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.preprocess_row">
<code class="sig-name descname">preprocess_row</code><span class="sig-paren">(</span><em class="sig-param">row_data: Dict[str, Any]</em><span class="sig-paren">)</span> → Dict[str, Any]<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.preprocess_row"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.preprocess_row" title="Permalink to this definition">¶</a></dt>
<dd><p>preprocess steps for a single input row, sub class should override it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.read_from_file">
<code class="sig-name descname">read_from_file</code><span class="sig-paren">(</span><em class="sig-param">file_name: str, columns_to_use: Union[Dict[str, int], List[str]]</em><span class="sig-paren">)</span> → Generator[Dict, None, None]<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.read_from_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.read_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from csv file. Input file format is required to be
tab-separated columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – csv file name</p></li>
<li><p><strong>columns_to_use</strong> (<em>Union</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>int</em><em>]</em><em>, </em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) – either a list of
column names or a dict of column name -&gt; column index in the file</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DataHandler.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">example: torchtext.data.example.Example</em><span class="sig-paren">)</span> → Any<a class="reference internal" href="../_modules/pytext/data/data_handler.html#DataHandler.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DataHandler.sort_key" title="Permalink to this definition">¶</a></dt>
<dd><p>How to sort data in every batch, default behavior is by the length of input
text
:param example: one torchtext example
:type example: Example</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.DisjointMultitaskData">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">DisjointMultitaskData</code><span class="sig-paren">(</span><em class="sig-param">data_dict: Dict[str, pytext.data.data.Data], samplers: Dict[pytext.common.constants.Stage, pytext.data.batch_sampler.BaseBatchSampler], test_key: str = None, task_key: str = 'task_name'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data.html#DisjointMultitaskData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data.Data" title="pytext.data.data.Data"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data.Data</span></code></a></p>
<p>Wrapper for doing multitask training using multiple data objects.
Takes a dictionary of data objects, does round robin over their
iterators using BatchSampler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>Config</em>) – Configuration object of type DisjointMultitaskData.Config.</p></li>
<li><p><strong>data_dict</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Data</em><em>]</em>) – Data objects to do roundrobin over.</p></li>
<li><p><strong>*args</strong> (<em>type</em>) – Extra arguments to be passed down to sub data handlers.</p></li>
<li><p><strong>**kwargs</strong> (<em>type</em>) – Extra arguments to be passed down to sub data handlers.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="pytext.data.DisjointMultitaskData.data_dict">
<code class="sig-name descname">data_dict</code><a class="headerlink" href="#pytext.data.DisjointMultitaskData.data_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Data handlers to do roundrobin over.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>type</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DisjointMultitaskData.batches">
<code class="sig-name descname">batches</code><span class="sig-paren">(</span><em class="sig-param">stage: pytext.common.constants.Stage</em>, <em class="sig-param">data_source=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data.html#DisjointMultitaskData.batches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskData.batches" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield batches from each task, sampled according to a given sampler.
This batcher additionally exposes a task name in the batch to allow the model
to filter examples to the appropriate tasks.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DisjointMultitaskData.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.disjoint_multitask_data.DisjointMultitaskData.Config, data_dict: Dict[str, pytext.data.data.Data], task_key: str = 'task_name', rank=0, world_size=1, init_tensorizers=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data.html#DisjointMultitaskData.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskData.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.DisjointMultitaskDataHandler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">DisjointMultitaskDataHandler</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.disjoint_multitask_data_handler.DisjointMultitaskDataHandler.Config, data_handlers: Dict[str, pytext.data.data_handler.DataHandler], target_task_name: Optional[str] = None, *args, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data_handler.DataHandler" title="pytext.data.data_handler.DataHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data_handler.DataHandler</span></code></a></p>
<p>Wrapper for doing multitask training using multiple data handlers.
Takes a dictionary of data handlers, does round robin over their
iterators using RoundRobinBatchIterator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> (<em>Config</em>) – Configuration object of type DisjointMultitaskDataHandler.Config.</p></li>
<li><p><strong>data_handlers</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>DataHandler</em><em>]</em>) – Data handlers to do roundrobin over.</p></li>
<li><p><strong>target_task_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Used to select best epoch, and set batch_per_epoch.</p></li>
<li><p><strong>*args</strong> (<em>type</em>) – Extra arguments to be passed down to sub data handlers.</p></li>
<li><p><strong>**kwargs</strong> (<em>type</em>) – Extra arguments to be passed down to sub data handlers.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="pytext.data.DisjointMultitaskDataHandler.data_handlers">
<code class="sig-name descname">data_handlers</code><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.data_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Data handlers to do roundrobin over.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>type</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DisjointMultitaskDataHandler.target_task_name">
<code class="sig-name descname">target_task_name</code><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.target_task_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to select best epoch, and set batch_per_epoch.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>type</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.DisjointMultitaskDataHandler.upsample">
<code class="sig-name descname">upsample</code><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.upsample" title="Permalink to this definition">¶</a></dt>
<dd><p>If upsample, keep cycling over each iterator in round-robin.
Iterators with less batches will get more passes.  If False, we do single
pass over each iterator, the ones which run out will sit idle.  This is
used for evaluation.  Default True.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DisjointMultitaskDataHandler.get_eval_iter">
<code class="sig-name descname">get_eval_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.get_eval_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.get_eval_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DisjointMultitaskDataHandler.get_test_iter">
<code class="sig-name descname">get_test_iter</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.data.data_handler.BatchIterator<a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.get_test_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.get_test_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DisjointMultitaskDataHandler.get_train_iter">
<code class="sig-name descname">get_train_iter</code><span class="sig-paren">(</span><em class="sig-param">rank: int = 0</em>, <em class="sig-param">world_size: int = 1</em><span class="sig-paren">)</span> → Tuple[pytext.data.data_handler.BatchIterator, ...]<a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.get_train_iter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.get_train_iter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DisjointMultitaskDataHandler.init_metadata">
<code class="sig-name descname">init_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.init_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.init_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize metadata using data from configured path</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DisjointMultitaskDataHandler.load_metadata">
<code class="sig-name descname">load_metadata</code><span class="sig-paren">(</span><em class="sig-param">metadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.load_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.load_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Load previously saved metadata</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DisjointMultitaskDataHandler.metadata_to_save">
<code class="sig-name descname">metadata_to_save</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/disjoint_multitask_data_handler.html#DisjointMultitaskDataHandler.metadata_to_save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DisjointMultitaskDataHandler.metadata_to_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save metadata, pretrained_embeds_weight should be excluded</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.DynamicPoolingBatcher">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">DynamicPoolingBatcher</code><span class="sig-paren">(</span><em class="sig-param">train_batch_size=16</em>, <em class="sig-param">eval_batch_size=16</em>, <em class="sig-param">test_batch_size=16</em>, <em class="sig-param">pool_num_batches=10000</em>, <em class="sig-param">num_shuffled_pools=1</em>, <em class="sig-param">scheduler_config=&lt;pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DynamicPoolingBatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data.PoolingBatcher" title="pytext.data.data.PoolingBatcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data.PoolingBatcher</span></code></a></p>
<p>Allows dynamic batch training, extends pooling batcher with a scheduler
config, which specifies how batch size should increase</p>
<dl class="method">
<dt id="pytext.data.DynamicPoolingBatcher.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterable: Iterable[pytext.data.sources.data_source.RawExample], sort_key=None, stage=&lt;Stage.TRAIN: 'Training'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DynamicPoolingBatcher.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>From an iterable of dicts, yield dicts of lists:</p>
<ol class="arabic simple">
<li><p>Load <cite>num_shuffled_pools</cite> pools of data, and shuffle them.</p></li>
<li><p>Load a pool (<cite>batch_size * pool_num_batches</cite> examples).</p></li>
<li><p>Sort rows, if necessary.</p></li>
<li><p>Shuffle the order in which the batches are returned, if necessary.</p></li>
</ol>
</dd></dl>
<dl class="method">
<dt id="pytext.data.DynamicPoolingBatcher.compute_dynamic_batch_size">
<code class="sig-name descname">compute_dynamic_batch_size</code><span class="sig-paren">(</span><em class="sig-param">curr_epoch: int</em>, <em class="sig-param">scheduler_config: pytext.data.dynamic_pooling_batcher.BatcherSchedulerConfig</em>, <em class="sig-param">curr_steps: int</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.compute_dynamic_batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DynamicPoolingBatcher.compute_dynamic_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DynamicPoolingBatcher.finished_dynamic">
<code class="sig-name descname">finished_dynamic</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → bool<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.finished_dynamic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DynamicPoolingBatcher.finished_dynamic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DynamicPoolingBatcher.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.dynamic_pooling_batcher.DynamicPoolingBatcher.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DynamicPoolingBatcher.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DynamicPoolingBatcher.get_batch_size">
<code class="sig-name descname">get_batch_size</code><span class="sig-paren">(</span><em class="sig-param">stage: pytext.common.constants.Stage</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.get_batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DynamicPoolingBatcher.get_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.DynamicPoolingBatcher.step_epoch">
<code class="sig-name descname">step_epoch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/dynamic_pooling_batcher.html#DynamicPoolingBatcher.step_epoch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.DynamicPoolingBatcher.step_epoch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.EvalBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">EvalBatchSampler</code><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#EvalBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.EvalBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.batch_sampler.BaseBatchSampler" title="pytext.data.batch_sampler.BaseBatchSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.batch_sampler.BaseBatchSampler</span></code></a></p>
<p>This sampler takes in a dictionary of Iterators and returns batches
associated with each key in the dictionary. It guarentees that we  will see
each batch associated with each key exactly once in the epoch.</p>
<p class="rubric">Example</p>
<p>Iterator 1: [A, B, C, D], Iterator 2: [a, b]</p>
<p>Output: [A, B, C, D, a, b]</p>
<dl class="method">
<dt id="pytext.data.EvalBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#EvalBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.EvalBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>Loop through each key in the input dict and generate batches from
the iterator associated with that key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iterators</strong> – Dictionary of iterators</p>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.data.generator_iterator">
<code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">generator_iterator</code><span class="sig-paren">(</span><em class="sig-param">fn</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#generator_iterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.generator_iterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a generator into a GeneratorIterator-wrapped function.
Effectively this allows iterating over a generator multiple times by recording
the call arguments, and calling the generator with them anew each item __iter__
is called on the returned object.</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.PoolingBatcher">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">PoolingBatcher</code><span class="sig-paren">(</span><em class="sig-param">train_batch_size=16</em>, <em class="sig-param">eval_batch_size=16</em>, <em class="sig-param">test_batch_size=16</em>, <em class="sig-param">pool_num_batches=10000</em>, <em class="sig-param">num_shuffled_pools=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#PoolingBatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.PoolingBatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.data.Batcher" title="pytext.data.data.Batcher"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.data.Batcher</span></code></a></p>
<p>Batcher that loads a pool of data, sorts it, and batches it.</p>
<p>Shuffling is performed before pooling, by loading <cite>num_shuffled_pools</cite> worth
of data, shuffling, and then splitting that up into pools.</p>
<dl class="method">
<dt id="pytext.data.PoolingBatcher.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterable: Iterable[pytext.data.sources.data_source.RawExample], sort_key=None, stage=&lt;Stage.TRAIN: 'Training'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#PoolingBatcher.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.PoolingBatcher.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>From an iterable of dicts, yield dicts of lists:</p>
<ol class="arabic simple">
<li><p>Load <cite>num_shuffled_pools</cite> pools of data, and shuffle them.</p></li>
<li><p>Load a pool (<cite>batch_size * pool_num_batches</cite> examples).</p></li>
<li><p>Sort rows, if necessary.</p></li>
<li><p>Shuffle the order in which the batches are returned, if necessary.</p></li>
</ol>
</dd></dl>
<dl class="method">
<dt id="pytext.data.PoolingBatcher.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.data.PoolingBatcher.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/data.html#PoolingBatcher.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.PoolingBatcher.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.PoolingBatcher.get_batch_size">
<code class="sig-name descname">get_batch_size</code><span class="sig-paren">(</span><em class="sig-param">stage: pytext.common.constants.Stage</em><span class="sig-paren">)</span> → int<a class="reference internal" href="../_modules/pytext/data/data.html#PoolingBatcher.get_batch_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.PoolingBatcher.get_batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.RandomizedBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">RandomizedBatchSampler</code><span class="sig-paren">(</span><em class="sig-param">unnormalized_iterator_probs: Dict[str, float]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RandomizedBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.RandomizedBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.batch_sampler.BaseBatchSampler" title="pytext.data.batch_sampler.BaseBatchSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.batch_sampler.BaseBatchSampler</span></code></a></p>
<p>This sampler takes in a dictionary of iterators and returns batches according
to the specified probabilities by <cite>unnormalized_iterator_probs</cite>. We cycle through
the iterators (restarting any that “run out”) indefinitely. Set batches_per_epoch
in Trainer.Config.</p>
<p class="rubric">Example</p>
<p>Iterator A: [A, B, C, D],  Iterator B: [a, b]</p>
<p>batches_per_epoch = 3, unnormalized_iterator_probs = {“A”: 0, “B”: 1}
Epoch 1 = [a, b, a]
Epoch 2 = [b, a, b]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>unnormalized_iterator_probs</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>float</em><em>]</em>) – Iterator sampling probabilities.
The keys should be the same as the keys of the underlying iterators, and the
values will be normalized to sum to 1.</p>
</dd>
</dl>
<dl class="method">
<dt id="pytext.data.RandomizedBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RandomizedBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.RandomizedBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.RandomizedBatchSampler.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.batch_sampler.RandomizedBatchSampler.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RandomizedBatchSampler.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.RandomizedBatchSampler.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.RoundRobinBatchSampler">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">RoundRobinBatchSampler</code><span class="sig-paren">(</span><em class="sig-param">iter_to_set_epoch: Optional[str] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RoundRobinBatchSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.RoundRobinBatchSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.batch_sampler.BaseBatchSampler" title="pytext.data.batch_sampler.BaseBatchSampler"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.batch_sampler.BaseBatchSampler</span></code></a></p>
<p>This sampler takes a dictionary of Iterators and returns batches in a round
robin fashion till a the end of one of the iterators is reached. The end
is specified by <cite>iter_to_set_epoch</cite>.</p>
<p>If <cite>iter_to_set_epoch</cite> is set, cycle batches from each iterator until one
epoch of the target iterator is fulfilled. Iterators with fewer batches
than the target iterator are repeated, so they never run out.</p>
<p>If <cite>iter_to_set_epoch</cite> is None, cycle over batches from each iterator until the
shortest iterator completes one epoch.</p>
<p class="rubric">Example</p>
<p>Iterator 1: [A, B, C, D],  Iterator 2: [a, b]</p>
<p>iter_to_set_epoch = “Iterator 1”
Output: [A, a, B, b, C, a, D, b]</p>
<p>iter_to_set_epoch = None
Output: [A, a, B, b]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iter_to_set_epoch</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em>) – Name of iterator to define epoch size.
If this is not set, epoch size defaults to the length of
the shortest iterator.</p>
</dd>
</dl>
<dl class="method">
<dt id="pytext.data.RoundRobinBatchSampler.batchify">
<code class="sig-name descname">batchify</code><span class="sig-paren">(</span><em class="sig-param">iterators: Dict[str, collections.abc.Iterator]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RoundRobinBatchSampler.batchify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.RoundRobinBatchSampler.batchify" title="Permalink to this definition">¶</a></dt>
<dd><p>Loop through each key in the input dict and generate batches from
the iterator associated with that key until the target iterator reaches
its end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iterators</strong> – Dictionary of iterators</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.data.RoundRobinBatchSampler.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.batch_sampler.RoundRobinBatchSampler.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/batch_sampler.html#RoundRobinBatchSampler.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.RoundRobinBatchSampler.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.Tensorizer">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.</code><code class="sig-name descname">Tensorizer</code><span class="sig-paren">(</span><em class="sig-param">is_input: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Tensorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>Tensorizers are a component that converts from batches of
<cite>pytext.data.type.DataType</cite> instances to tensors. These tensors will eventually
be inputs to the model, but the model is aware of the tensorizers and can arrange
the tensors they create to conform to its model.</p>
<p>Tensorizers have an initialize function. This function allows the tensorizer to
read through the training dataset to build up any data that it needs for
creating the model. Commonly this is valuable for things like inferring a
vocabulary from the training set, or learning the entire set of training labels,
or slot labels, etc.</p>
<dl class="method">
<dt id="pytext.data.Tensorizer.column_schema">
<em class="property">property </em><code class="sig-name descname">column_schema</code><a class="headerlink" href="#pytext.data.Tensorizer.column_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic types don’t pickle well pre-3.7, so we don’t actually want
to store the schema as an attribute. We’re already storing all of the
columns anyway, so until there’s a better solution, schema is a property.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.Tensorizer.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.tensorizers.Tensorizer.Config</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Tensorizer.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.Tensorizer.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">from_scratch=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Tensorizer.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>The initialize function is carefully designed to allow us to read through the
training dataset only once, and not store it in memory. As such, it can’t itself
manually iterate over the data source. Instead, the initialize function is a
coroutine, which is sent row data. This should look roughly like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># set up variables here</span>
<span class="o">...</span>
<span class="k">try</span><span class="p">:</span>
    <span class="c1"># start reading through data source</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># row has type Dict[str, types.DataType]</span>
        <span class="n">row</span> <span class="o">=</span> <span class="k">yield</span>
        <span class="c1"># update any variables, vocabularies, etc.</span>
        <span class="o">...</span>
<span class="k">except</span> <span class="ne">GeneratorExit</span><span class="p">:</span>
    <span class="c1"># finalize your initialization, set instance variables, etc.</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>See <cite>WordTokenizer.initialize</cite> for a more concrete example.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.Tensorizer.numberize">
<code class="sig-name descname">numberize</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.numberize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Tensorizer.numberize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.Tensorizer.prepare_input">
<code class="sig-name descname">prepare_input</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.prepare_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Tensorizer.prepare_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Return preprocessed input tensors/blob for caffe2 prediction net.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.Tensorizer.sort_key">
<code class="sig-name descname">sort_key</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Tensorizer.sort_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.Tensorizer.tensorize">
<code class="sig-name descname">tensorize</code><span class="sig-paren">(</span><em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.tensorize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Tensorizer.tensorize" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensorizer knows how to pad and tensorize a batch of it’s own output.</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.Tensorizer.tensorizer_script_impl">
<code class="sig-name descname">tensorizer_script_impl</code><em class="property"> = None</em><a class="headerlink" href="#pytext.data.Tensorizer.tensorizer_script_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.Tensorizer.torchscriptify">
<code class="sig-name descname">torchscriptify</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/tensorizers.html#Tensorizer.torchscriptify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.Tensorizer.torchscriptify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
</div>
</div>
</div>
</div>
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PyText</a></h1>
<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../train_your_first_model.html">Train your first model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../execute_your_first_model.html">Execute your first model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualize_your_model.html">Visualize Model Training with TensorBoard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pytext_models_in_your_app.html">Use PyText models in your app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serving_models_in_production.html">Serve Models in Production</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_files.html">Config Files Explained</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_commands.html">Config Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">Training More Advanced Models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atis_tutorial.html">Train Intent-Slot model on ATIS Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hierarchical_intent_slot_tutorial.html">Hierarchical intent and slot filling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../disjoint_multitask_tutorial.html">Multitask training with disjoint datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed_training_tutorial.html">Data Parallel Distributed Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xlm_r.html">XLM-RoBERTa</a></li>
</ul>
<p class="caption"><span class="caption-text">Extending PyText</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Architecture Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasource_tutorial.html">Custom Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensorizer.html">Custom Tensorizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dense.html">Using External Dense Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../create_new_model.html">Creating A New Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hacking_pytext.html">Hacking PyText</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../configs/pytext.html">pytext</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pytext.html">pytext package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pytext.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.builtin_task">pytext.builtin_task module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.main">pytext.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.workflow">pytext.workflow module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
<li><a href="../index.html">Documentation overview</a><ul>
<li><a href="pytext.html">pytext package</a><ul>
<li>Previous: <a href="pytext.config.html" title="previous chapter">pytext.config package</a></li>
<li>Next: <a href="pytext.data.data_structures.html" title="next chapter">pytext.data.data_structures package</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="searchbox" role="search" style="display: none">
<h3 id="searchlabel">Quick search</h3>
<div class="searchformwrapper">
<form action="../search.html" class="search" method="get">
<input aria-labelledby="searchlabel" name="q" type="text"/>
<input type="submit" value="Go"/>
</form>
</div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div></div>