
<script type="text/javascript" id="documentation_options" data-url_root="./"
  src="/js/documentation_options.js"></script>
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/js/underscore.js"></script>
<script type="text/javascript" src="/js/doctools.js"></script>
<script type="text/javascript" src="/js/language_data.js"></script>
<script type="text/javascript" src="/js/searchtools.js"></script>
<div class="sphinx"><div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="section" id="pytext-metric-reporters-package">
<h1>pytext.metric_reporters package<a class="headerlink" href="#pytext-metric-reporters-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pytext.metric_reporters.channel">
<span id="pytext-metric-reporters-channel-module"></span><h2>pytext.metric_reporters.channel module<a class="headerlink" href="#module-pytext.metric_reporters.channel" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.channel.Channel">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.channel.</code><code class="sig-name descname">Channel</code><span class="sig-paren">(</span><em class="sig-param">stages: Tuple[pytext.common.constants.Stage</em>, <em class="sig-param">...] = (&lt;Stage.TRAIN: 'Training'&gt;</em>, <em class="sig-param">&lt;Stage.EVAL: 'Evaluation'&gt;</em>, <em class="sig-param">&lt;Stage.TEST: 'Test'&gt;)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#Channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.Channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Channel defines how to format and report the result of a PyText job to an output
stream.</p>
<dl class="attribute">
<dt id="pytext.metric_reporters.channel.Channel.stages">
<code class="sig-name descname">stages</code><a class="headerlink" href="#pytext.metric_reporters.channel.Channel.stages" title="Permalink to this definition">¶</a></dt>
<dd><p>in which stages the report will be triggered, default is all
stages, which includes train, eval, test</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.Channel.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#Channel.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.Channel.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.Channel.export">
<code class="sig-name descname">export</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">input_to_model=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#Channel.export"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.Channel.export" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.Channel.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param">stage</em>, <em class="sig-param">epoch</em>, <em class="sig-param">metrics</em>, <em class="sig-param">model_select_metric</em>, <em class="sig-param">loss</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">context</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#Channel.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.Channel.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines how to format and report data to the output channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>Stage</em>) – train, eval or test</p></li>
<li><p><strong>epoch</strong> (<em>int</em>) – current epoch</p></li>
<li><p><strong>metrics</strong> (<em>Any</em>) – all metrics</p></li>
<li><p><strong>model_select_metric</strong> (<em>double</em>) – a single numeric metric to pick best model</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss</p></li>
<li><p><strong>preds</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of predictions</p></li>
<li><p><strong>targets</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of targets</p></li>
<li><p><strong>scores</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of scores</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>Any</em><em>]</em><em>]</em>) – dict of any additional context data,
each context is a list of data that maps to each example</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.channel.ConsoleChannel">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.channel.</code><code class="sig-name descname">ConsoleChannel</code><span class="sig-paren">(</span><em class="sig-param">stages: Tuple[pytext.common.constants.Stage</em>, <em class="sig-param">...] = (&lt;Stage.TRAIN: 'Training'&gt;</em>, <em class="sig-param">&lt;Stage.EVAL: 'Evaluation'&gt;</em>, <em class="sig-param">&lt;Stage.TEST: 'Test'&gt;)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#ConsoleChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.ConsoleChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.channel.Channel" title="pytext.metric_reporters.channel.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.channel.Channel</span></code></a></p>
<p>Simple Channel that prints results to console.</p>
<dl class="method">
<dt id="pytext.metric_reporters.channel.ConsoleChannel.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param">stage</em>, <em class="sig-param">epoch</em>, <em class="sig-param">metrics</em>, <em class="sig-param">model_select_metric</em>, <em class="sig-param">loss</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">context</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#ConsoleChannel.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.ConsoleChannel.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines how to format and report data to the output channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>Stage</em>) – train, eval or test</p></li>
<li><p><strong>epoch</strong> (<em>int</em>) – current epoch</p></li>
<li><p><strong>metrics</strong> (<em>Any</em>) – all metrics</p></li>
<li><p><strong>model_select_metric</strong> (<em>double</em>) – a single numeric metric to pick best model</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss</p></li>
<li><p><strong>preds</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of predictions</p></li>
<li><p><strong>targets</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of targets</p></li>
<li><p><strong>scores</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of scores</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>Any</em><em>]</em><em>]</em>) – dict of any additional context data,
each context is a list of data that maps to each example</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.channel.FileChannel">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.channel.</code><code class="sig-name descname">FileChannel</code><span class="sig-paren">(</span><em class="sig-param">stages</em>, <em class="sig-param">file_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#FileChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.FileChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.channel.Channel" title="pytext.metric_reporters.channel.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.channel.Channel</span></code></a></p>
<p>Simple Channel that writes results to a TSV file.</p>
<dl class="method">
<dt id="pytext.metric_reporters.channel.FileChannel.gen_content">
<code class="sig-name descname">gen_content</code><span class="sig-paren">(</span><em class="sig-param">metrics</em>, <em class="sig-param">loss</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#FileChannel.gen_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.FileChannel.gen_content" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.FileChannel.get_title">
<code class="sig-name descname">get_title</code><span class="sig-paren">(</span><em class="sig-param">context_keys=()</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#FileChannel.get_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.FileChannel.get_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.FileChannel.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param">stage</em>, <em class="sig-param">epoch</em>, <em class="sig-param">metrics</em>, <em class="sig-param">model_select_metric</em>, <em class="sig-param">loss</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">context</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#FileChannel.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.FileChannel.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines how to format and report data to the output channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>Stage</em>) – train, eval or test</p></li>
<li><p><strong>epoch</strong> (<em>int</em>) – current epoch</p></li>
<li><p><strong>metrics</strong> (<em>Any</em>) – all metrics</p></li>
<li><p><strong>model_select_metric</strong> (<em>double</em>) – a single numeric metric to pick best model</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss</p></li>
<li><p><strong>preds</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of predictions</p></li>
<li><p><strong>targets</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of targets</p></li>
<li><p><strong>scores</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of scores</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>Any</em><em>]</em><em>]</em>) – dict of any additional context data,
each context is a list of data that maps to each example</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.channel.</code><code class="sig-name descname">TensorBoardChannel</code><span class="sig-paren">(</span><em class="sig-param">summary_writer=None</em>, <em class="sig-param">metric_name='accuracy'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#TensorBoardChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.channel.Channel" title="pytext.metric_reporters.channel.Channel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.channel.Channel</span></code></a></p>
<p>TensorBoardChannel defines how to format and report the result of a PyText
job to TensorBoard.</p>
<dl class="attribute">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel.summary_writer">
<code class="sig-name descname">summary_writer</code><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel.summary_writer" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of the TensorBoard SummaryWriter class, or
an object that implements the same interface.
<a class="reference external" href="https://pytorch.org/docs/stable/tensorboard.html">https://pytorch.org/docs/stable/tensorboard.html</a></p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel.metric_name">
<code class="sig-name descname">metric_name</code><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel.metric_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the default metric to display on the
TensorBoard dashboard, defaults to “accuracy”</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel.train_step">
<code class="sig-name descname">train_step</code><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel.train_step" title="Permalink to this definition">¶</a></dt>
<dd><p>The training step count</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel.add_scalars">
<code class="sig-name descname">add_scalars</code><span class="sig-paren">(</span><em class="sig-param">prefix</em>, <em class="sig-param">metrics</em>, <em class="sig-param">epoch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#TensorBoardChannel.add_scalars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel.add_scalars" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively flattens the metrics object and adds each field name and
value as a scalar for the corresponding epoch using the summary writer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prefix</strong> (<em>str</em>) – The tag prefix for the metric. Each field name in the
metrics object will be prepended with the prefix.</p></li>
<li><p><strong>metrics</strong> (<em>Any</em>) – The metrics object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel.add_texts">
<code class="sig-name descname">add_texts</code><span class="sig-paren">(</span><em class="sig-param">tag</em>, <em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#TensorBoardChannel.add_texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel.add_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively flattens the metrics object and adds each field name and
value as a text using the summary writer. For example, if tag = “test”,
and metrics = { accuracy: 0.7, scores: { precision: 0.8, recall: 0.6 } },
then under “tag=test” we will display “accuracy=0.7”, and under
“tag=test/scores” we will display “precision=0.8” and “recall=0.6” in
TensorBoard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag</strong> (<em>str</em>) – The tag name for the metric. If a field needs to be
flattened further, it will be prepended as a prefix to the field
name.</p></li>
<li><p><strong>metrics</strong> (<em>Any</em>) – The metrics object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#TensorBoardChannel.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the summary writer.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel.export">
<code class="sig-name descname">export</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">input_to_model=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#TensorBoardChannel.export"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws the neural network representation graph in TensorBoard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>Any</em>) – the model object.</p></li>
<li><p><strong>input_to_model</strong> (<em>Any</em>) – the input to the model (required for PyTorch
models, since its execution graph is defined by run).</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.channel.TensorBoardChannel.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param">stage</em>, <em class="sig-param">epoch</em>, <em class="sig-param">metrics</em>, <em class="sig-param">model_select_metric</em>, <em class="sig-param">loss</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">context</em>, <em class="sig-param">meta</em>, <em class="sig-param">model</em>, <em class="sig-param">optimizer</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#TensorBoardChannel.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.channel.TensorBoardChannel.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines how to format and report data to TensorBoard using the summary
writer. In the current implementation, during the train/eval phase we
recursively report each metric field as scalars, and during the test
phase we report the final metrics to be displayed as texts.</p>
<p>Also visualizes the internal model states (weights, biases) as
histograms in TensorBoard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>Stage</em>) – train, eval or test</p></li>
<li><p><strong>epoch</strong> (<em>int</em>) – current epoch</p></li>
<li><p><strong>metrics</strong> (<em>Any</em>) – all metrics</p></li>
<li><p><strong>model_select_metric</strong> (<em>double</em>) – a single numeric metric to pick best model</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss</p></li>
<li><p><strong>preds</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of predictions</p></li>
<li><p><strong>targets</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of targets</p></li>
<li><p><strong>scores</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of scores</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>Any</em><em>]</em><em>]</em>) – dict of any additional context data,
each context is a list of data that maps to each example</p></li>
<li><p><strong>meta</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – global metadata, such as target names</p></li>
<li><p><strong>model</strong> (<em>nn.Module</em>) – the PyTorch neural network model</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.classification_metric_reporter">
<span id="pytext-metric-reporters-classification-metric-reporter-module"></span><h2>pytext.metric_reporters.classification_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.classification_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.classification_metric_reporter.</code><code class="sig-name descname">ClassificationMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names: List[str], channels: List[pytext.metric_reporters.channel.Channel], model_select_metric: pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric = &lt;ComparableClassificationMetric.ACCURACY: 'accuracy'&gt;, target_label: Optional[str] = None, text_column_names: List[str] = ['text'], additional_column_names: List[str] = [], recall_at_precision_thresholds: List[float] = [0.2, 0.4, 0.6, 0.8, 0.9]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.from_config_and_label_names">
<em class="property">classmethod </em><code class="sig-name descname">from_config_and_label_names</code><span class="sig-paren">(</span><em class="sig-param">config, label_names: List[str]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.from_config_and_label_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.from_config_and_label_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.get_meta">
<code class="sig-name descname">get_meta</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.get_meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.get_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get global meta data that is not specific to any batch, the data will be
pass along to channels</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.classification_metric_reporter.</code><code class="sig-name descname">ComparableClassificationMetric</code><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ComparableClassificationMetric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>An enumeration.</p>
<dl class="attribute">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.ACCURACY">
<code class="sig-name descname">ACCURACY</code><em class="property"> = 'accuracy'</em><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.ACCURACY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.LABEL_AVG_PRECISION">
<code class="sig-name descname">LABEL_AVG_PRECISION</code><em class="property"> = 'label_avg_precision'</em><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.LABEL_AVG_PRECISION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.LABEL_F1">
<code class="sig-name descname">LABEL_F1</code><em class="property"> = 'label_f1'</em><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.LABEL_F1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.LABEL_ROC_AUC">
<code class="sig-name descname">LABEL_ROC_AUC</code><em class="property"> = 'label_roc_auc'</em><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.LABEL_ROC_AUC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.MACRO_F1">
<code class="sig-name descname">MACRO_F1</code><em class="property"> = 'macro_f1'</em><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.MACRO_F1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.MCC">
<code class="sig-name descname">MCC</code><em class="property"> = 'mcc'</em><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.MCC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.NEGATIVE_LOSS">
<code class="sig-name descname">NEGATIVE_LOSS</code><em class="property"> = 'negative_loss'</em><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.NEGATIVE_LOSS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.ROC_AUC">
<code class="sig-name descname">ROC_AUC</code><em class="property"> = 'roc_auc'</em><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric.ROC_AUC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.classification_metric_reporter.MultiLabelClassificationMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.classification_metric_reporter.</code><code class="sig-name descname">MultiLabelClassificationMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names: List[str], channels: List[pytext.metric_reporters.channel.Channel], model_select_metric: pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric = &lt;ComparableClassificationMetric.ACCURACY: 'accuracy'&gt;, target_label: Optional[str] = None, text_column_names: List[str] = ['text'], additional_column_names: List[str] = [], recall_at_precision_thresholds: List[float] = [0.2, 0.4, 0.6, 0.8, 0.9]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#MultiLabelClassificationMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.MultiLabelClassificationMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter" title="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.MultiLabelClassificationMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#MultiLabelClassificationMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.MultiLabelClassificationMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.MultiLabelClassificationMetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#MultiLabelClassificationMetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.MultiLabelClassificationMetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.classification_metric_reporter.MultiLabelClassificationMetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#MultiLabelClassificationMetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.classification_metric_reporter.MultiLabelClassificationMetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.compositional_metric_reporter">
<span id="pytext-metric-reporters-compositional-metric-reporter-module"></span><h2>pytext.metric_reporters.compositional_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.compositional_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.compositional_metric_reporter.</code><code class="sig-name descname">CompositionalMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">actions_vocab, channels: List[pytext.metric_reporters.channel.Channel], text_column_name: str = 'tokenized_text', tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.create_frame_prediction_pairs">
<code class="sig-name descname">create_frame_prediction_pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.create_frame_prediction_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.create_frame_prediction_pairs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">metadata: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers: Dict[str</em>, <em class="sig-param">pytext.data.tensorizers.Tensorizer] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.gen_extra_context">
<code class="sig-name descname">gen_extra_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.gen_extra_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.gen_extra_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate any extra intermediate context data for metric calculation</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.node_to_metrics_node">
<em class="property">static </em><code class="sig-name descname">node_to_metrics_node</code><span class="sig-paren">(</span><em class="sig-param">node: Union[pytext.data.data_structures.annotation.Intent, pytext.data.data_structures.annotation.Slot], start: int = 0</em><span class="sig-paren">)</span> → pytext.metrics.intent_slot_metrics.Node<a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.node_to_metrics_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.node_to_metrics_node" title="Permalink to this definition">¶</a></dt>
<dd><p>The input start is the absolute start position in utterance</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.tree_from_tokens_and_indx_actions">
<em class="property">static </em><code class="sig-name descname">tree_from_tokens_and_indx_actions</code><span class="sig-paren">(</span><em class="sig-param">token_str_list: List[str], actions_vocab: List[str], actions_indices: List[int], validate_tree: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.tree_from_tokens_and_indx_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.tree_from_tokens_and_indx_actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.tree_to_metric_node">
<em class="property">static </em><code class="sig-name descname">tree_to_metric_node</code><span class="sig-paren">(</span><em class="sig-param">tree: pytext.data.data_structures.annotation.Tree</em><span class="sig-paren">)</span> → pytext.metrics.intent_slot_metrics.Node<a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.tree_to_metric_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.compositional_metric_reporter.CompositionalMetricReporter.tree_to_metric_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Node from tree assuming the utterance is a concatenation of the
tokens by whitespaces. The function does not necessarily reproduce the original
utterance as extra whitespaces can be introduced.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.disjoint_multitask_metric_reporter">
<span id="pytext-metric-reporters-disjoint-multitask-metric-reporter-module"></span><h2>pytext.metric_reporters.disjoint_multitask_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.disjoint_multitask_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.disjoint_multitask_metric_reporter.</code><code class="sig-name descname">DisjointMultitaskMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">reporters: Dict[str, pytext.metric_reporters.metric_reporter.MetricReporter], loss_weights: Dict[str, float], target_task_name: Optional[str], use_subtask_select_metric: bool</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/disjoint_multitask_metric_reporter.html#DisjointMultitaskMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/disjoint_multitask_metric_reporter.html#DisjointMultitaskMetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.add_channel">
<code class="sig-name descname">add_channel</code><span class="sig-paren">(</span><em class="sig-param">channel</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/disjoint_multitask_metric_reporter.html#DisjointMultitaskMetricReporter.add_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.add_channel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/disjoint_multitask_metric_reporter.html#DisjointMultitaskMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/disjoint_multitask_metric_reporter.html#DisjointMultitaskMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><em class="property"> = False</em><a class="headerlink" href="#pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.report_metric">
<code class="sig-name descname">report_metric</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">stage</em>, <em class="sig-param">epoch</em>, <em class="sig-param">reset=True</em>, <em class="sig-param">print_to_channels=True</em>, <em class="sig-param">optimizer=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/disjoint_multitask_metric_reporter.html#DisjointMultitaskMetricReporter.report_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.report_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics and average loss, report all statistic data to channels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>nn.Module</em>) – the PyTorch neural network model.</p></li>
<li><p><strong>stage</strong> (<em>Stage</em>) – training, evaluation or test</p></li>
<li><p><strong>epoch</strong> (<em>int</em>) – current epoch</p></li>
<li><p><strong>reset</strong> (<em>bool</em>) – if all data should be reset after report, default is True</p></li>
<li><p><strong>print_to_channels</strong> (<em>bool</em>) – if report data to channels, default is True</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.report_realtime_metric">
<code class="sig-name descname">report_realtime_metric</code><span class="sig-paren">(</span><em class="sig-param">stage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/disjoint_multitask_metric_reporter.html#DisjointMultitaskMetricReporter.report_realtime_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.disjoint_multitask_metric_reporter.DisjointMultitaskMetricReporter.report_realtime_metric" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.intent_slot_detection_metric_reporter">
<span id="pytext-metric-reporters-intent-slot-detection-metric-reporter-module"></span><h2>pytext.metric_reporters.intent_slot_detection_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.intent_slot_detection_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.intent_slot_detection_metric_reporter.</code><code class="sig-name descname">IntentSlotMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">doc_label_names: List[str], word_label_names: List[str], use_bio_labels: bool, channels: List[pytext.metric_reporters.channel.Channel], slot_column_name: str = 'slots', text_column_name: str = 'text', token_tensorizer_name: str = 'tokens'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.aggregate_preds">
<code class="sig-name descname">aggregate_preds</code><span class="sig-paren">(</span><em class="sig-param">batch_preds</em>, <em class="sig-param">batch_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.aggregate_preds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.aggregate_preds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.aggregate_scores">
<code class="sig-name descname">aggregate_scores</code><span class="sig-paren">(</span><em class="sig-param">batch_scores</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.aggregate_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.aggregate_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.aggregate_targets">
<code class="sig-name descname">aggregate_targets</code><span class="sig-paren">(</span><em class="sig-param">batch_targets</em>, <em class="sig-param">batch_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.aggregate_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.aggregate_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">tensorizers: Optional[Dict] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.get_raw_slot_str">
<code class="sig-name descname">get_raw_slot_str</code><span class="sig-paren">(</span><em class="sig-param">raw_data_row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.get_raw_slot_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.get_raw_slot_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.IntentSlotMetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.create_frame">
<code class="sig-prename descclassname">pytext.metric_reporters.intent_slot_detection_metric_reporter.</code><code class="sig-name descname">create_frame</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">intent_label</em>, <em class="sig-param">slot_names_str</em>, <em class="sig-param">byte_len</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#create_frame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.create_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.metric_reporters.intent_slot_detection_metric_reporter.frame_to_str">
<code class="sig-prename descclassname">pytext.metric_reporters.intent_slot_detection_metric_reporter.</code><code class="sig-name descname">frame_to_str</code><span class="sig-paren">(</span><em class="sig-param">frame: pytext.metrics.intent_slot_metrics.Node</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#frame_to_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.intent_slot_detection_metric_reporter.frame_to_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.language_model_metric_reporter">
<span id="pytext-metric-reporters-language-model-metric-reporter-module"></span><h2>pytext.metric_reporters.language_model_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.language_model_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelChannel">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.language_model_metric_reporter.</code><code class="sig-name descname">LanguageModelChannel</code><span class="sig-paren">(</span><em class="sig-param">stages</em>, <em class="sig-param">file_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.channel.FileChannel" title="pytext.metric_reporters.channel.FileChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.channel.FileChannel</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelChannel.gen_content">
<code class="sig-name descname">gen_content</code><span class="sig-paren">(</span><em class="sig-param">metrics</em>, <em class="sig-param">loss</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">contexts</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelChannel.gen_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelChannel.gen_content" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelChannel.get_title">
<code class="sig-name descname">get_title</code><span class="sig-paren">(</span><em class="sig-param">context_keys=()</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelChannel.get_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelChannel.get_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.language_model_metric_reporter.</code><code class="sig-name descname">LanguageModelMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">metadata</em>, <em class="sig-param">tensorizers</em>, <em class="sig-param">aggregate_metrics</em>, <em class="sig-param">perplexity_type</em>, <em class="sig-param">pep_format</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="attribute">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.LABELS_COLUMN">
<code class="sig-name descname">LABELS_COLUMN</code><em class="property"> = 'labels'</em><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.LABELS_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.RAW_TEXT_COLUMN">
<code class="sig-name descname">RAW_TEXT_COLUMN</code><em class="property"> = 'text'</em><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.RAW_TEXT_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.TOKENS_COLUMN">
<code class="sig-name descname">TOKENS_COLUMN</code><em class="property"> = 'tokens'</em><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.TOKENS_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.UTTERANCE_COLUMN">
<code class="sig-name descname">UTTERANCE_COLUMN</code><em class="property"> = 'utterance'</em><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.UTTERANCE_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.aggregate_context">
<code class="sig-name descname">aggregate_context</code><span class="sig-paren">(</span><em class="sig-param">context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.aggregate_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.aggregate_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.aggregate_scores">
<code class="sig-name descname">aggregate_scores</code><span class="sig-paren">(</span><em class="sig-param">scores</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.aggregate_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.aggregate_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.calculate_loss">
<code class="sig-name descname">calculate_loss</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → float<a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.calculate_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.calculate_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average loss for all aggregated batch</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.metrics.language_model_metrics.LanguageModelMetric<a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.compute_scores">
<code class="sig-name descname">compute_scores</code><span class="sig-paren">(</span><em class="sig-param">logits</em>, <em class="sig-param">targets</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.compute_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.compute_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.Config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span> → float<a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><em class="property"> = True</em><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.language_model_metric_reporter.</code><code class="sig-name descname">MaskedLMMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">metadata</em>, <em class="sig-param">tensorizers</em>, <em class="sig-param">aggregate_metrics</em>, <em class="sig-param">perplexity_type</em>, <em class="sig-param">pep_format</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#MaskedLMMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter" title="pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#MaskedLMMetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter.calculate_loss">
<code class="sig-name descname">calculate_loss</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → float<a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#MaskedLMMetricReporter.calculate_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter.calculate_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average loss for all aggregated batch</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#MaskedLMMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter.report_realtime_metric">
<code class="sig-name descname">report_realtime_metric</code><span class="sig-paren">(</span><em class="sig-param">stage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#MaskedLMMetricReporter.report_realtime_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.MaskedLMMetricReporter.report_realtime_metric" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.metric_reporters.language_model_metric_reporter.get_perplexity_func">
<code class="sig-prename descclassname">pytext.metric_reporters.language_model_metric_reporter.</code><code class="sig-name descname">get_perplexity_func</code><span class="sig-paren">(</span><em class="sig-param">perplexity_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#get_perplexity_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.language_model_metric_reporter.get_perplexity_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.metric_reporter">
<span id="pytext-metric-reporters-metric-reporter-module"></span><h2>pytext.metric_reporters.metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.metric_reporter.</code><code class="sig-name descname">MetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">pep_format=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>MetricReporter is responsible of three things:</p>
<ol class="arabic simple">
<li><p>Aggregate output from trainer, which includes model inputs, predictions,
targets, scores, and loss.</p></li>
<li><p>Calculate metrics using the aggregated output, and define how the metric
is used to find best model</p></li>
<li><p>Optionally report the metrics and aggregated output to various channels</p></li>
</ol>
<dl class="attribute">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether a lower metric indicates better performance.
Set to True for e.g. perplexity, and False for e.g. accuracy. Default
is False</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.channels">
<code class="sig-name descname">channels</code><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.channels" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of Channel that will receive metrics and
the aggregated trainer output then format and report them in any customized
way.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[Channel]</p>
</dd>
</dl>
</dd></dl>
<p>MetricReporter is tightly-coupled with metric aggregation and computation which
makes inheritance hard to reuse the parent functionalities and attributes. Next
step is to decouple the metric aggregation and computation vs metric reporting.</p>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.add_channel">
<code class="sig-name descname">add_channel</code><span class="sig-paren">(</span><em class="sig-param">channel</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.add_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.add_channel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.aggregate_data">
<em class="property">classmethod </em><code class="sig-name descname">aggregate_data</code><span class="sig-paren">(</span><em class="sig-param">all_data</em>, <em class="sig-param">new_batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.aggregate_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.aggregate_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate a batch of data, basically just convert tensors to list of native
python data</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.aggregate_preds">
<code class="sig-name descname">aggregate_preds</code><span class="sig-paren">(</span><em class="sig-param">batch_preds</em>, <em class="sig-param">batch_context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.aggregate_preds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.aggregate_preds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.aggregate_scores">
<code class="sig-name descname">aggregate_scores</code><span class="sig-paren">(</span><em class="sig-param">batch_scores</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.aggregate_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.aggregate_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.aggregate_targets">
<code class="sig-name descname">aggregate_targets</code><span class="sig-paren">(</span><em class="sig-param">batch_targets</em>, <em class="sig-param">batch_context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.aggregate_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.aggregate_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.calculate_loss">
<code class="sig-name descname">calculate_loss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.calculate_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.calculate_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average loss for all aggregated batch</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.compare_metric">
<code class="sig-name descname">compare_metric</code><span class="sig-paren">(</span><em class="sig-param">new_metric</em>, <em class="sig-param">old_metric</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.compare_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.compare_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if new metric indicates better model performance</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, true if model with new_metric performs better</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.gen_extra_context">
<code class="sig-name descname">gen_extra_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.gen_extra_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.gen_extra_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate any extra intermediate context data for metric calculation</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.get_meta">
<code class="sig-name descname">get_meta</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.get_meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.get_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get global meta data that is not specific to any batch, the data will be
pass along to channels</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="attribute">
<dt>
<code class="sig-name descname">lower_is_better</code><em class="property"> = False</em></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.report_metric">
<code class="sig-name descname">report_metric</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">stage</em>, <em class="sig-param">epoch</em>, <em class="sig-param">reset=True</em>, <em class="sig-param">print_to_channels=True</em>, <em class="sig-param">optimizer=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.report_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.report_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics and average loss, report all statistic data to channels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>nn.Module</em>) – the PyTorch neural network model.</p></li>
<li><p><strong>stage</strong> (<em>Stage</em>) – training, evaluation or test</p></li>
<li><p><strong>epoch</strong> (<em>int</em>) – current epoch</p></li>
<li><p><strong>reset</strong> (<em>bool</em>) – if all data should be reset after report, default is True</p></li>
<li><p><strong>print_to_channels</strong> (<em>bool</em>) – if report data to channels, default is True</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.report_realtime_metric">
<code class="sig-name descname">report_realtime_metric</code><span class="sig-paren">(</span><em class="sig-param">stage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.report_realtime_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.report_realtime_metric" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.MetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.MetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.metric_reporter.PureLossMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.metric_reporter.</code><code class="sig-name descname">PureLossMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">pep_format=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#PureLossMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.PureLossMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.PureLossMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#PureLossMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.PureLossMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.metric_reporter.PureLossMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#PureLossMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.PureLossMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.metric_reporter.PureLossMetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><em class="property"> = True</em><a class="headerlink" href="#pytext.metric_reporters.metric_reporter.PureLossMetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.pairwise_ranking_metric_reporter">
<span id="pytext-metric-reporters-pairwise-ranking-metric-reporter-module"></span><h2>pytext.metric_reporters.pairwise_ranking_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.pairwise_ranking_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.pairwise_ranking_metric_reporter.</code><code class="sig-name descname">PairwiseRankingMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">pep_format=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter.get_model_select_metric">
<em class="property">static </em><code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.pairwise_ranking_metric_reporter.PairwiseRankingMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.regression_metric_reporter">
<span id="pytext-metric-reporters-regression-metric-reporter-module"></span><h2>pytext.metric_reporters.regression_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.regression_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.regression_metric_reporter.</code><code class="sig-name descname">RegressionMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">pep_format=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/regression_metric_reporter.html#RegressionMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/regression_metric_reporter.html#RegressionMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/regression_metric_reporter.html#RegressionMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/regression_metric_reporter.html#RegressionMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><em class="property"> = False</em><a class="headerlink" href="#pytext.metric_reporters.regression_metric_reporter.RegressionMetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.squad_metric_reporter">
<span id="pytext-metric-reporters-squad-metric-reporter-module"></span><h2>pytext.metric_reporters.squad_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.squad_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadFileChannel">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.squad_metric_reporter.</code><code class="sig-name descname">SquadFileChannel</code><span class="sig-paren">(</span><em class="sig-param">stages</em>, <em class="sig-param">file_path</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadFileChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadFileChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.channel.FileChannel" title="pytext.metric_reporters.channel.FileChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.channel.FileChannel</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadFileChannel.gen_content">
<code class="sig-name descname">gen_content</code><span class="sig-paren">(</span><em class="sig-param">metrics</em>, <em class="sig-param">loss</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">contexts</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadFileChannel.gen_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadFileChannel.gen_content" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadFileChannel.get_title">
<code class="sig-name descname">get_title</code><span class="sig-paren">(</span><em class="sig-param">context_keys=()</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadFileChannel.get_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadFileChannel.get_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.squad_metric_reporter.</code><code class="sig-name descname">SquadMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels: List[pytext.metric_reporters.channel.Channel], n_best_size: int, max_answer_length: int, ignore_impossible: bool, has_answer_labels: List[str], tensorizer=None, false_label='False'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="attribute">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.ANSWERS_COLUMN">
<code class="sig-name descname">ANSWERS_COLUMN</code><em class="property"> = 'answers'</em><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.ANSWERS_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.DOC_COLUMN">
<code class="sig-name descname">DOC_COLUMN</code><em class="property"> = 'doc'</em><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.DOC_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.QUES_COLUMN">
<code class="sig-name descname">QUES_COLUMN</code><em class="property"> = 'question'</em><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.QUES_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.ROW_INDEX">
<code class="sig-name descname">ROW_INDEX</code><em class="property"> = 'id'</em><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.ROW_INDEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**contexts</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.aggregate_preds">
<code class="sig-name descname">aggregate_preds</code><span class="sig-paren">(</span><em class="sig-param">new_batch</em>, <em class="sig-param">context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.aggregate_preds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.aggregate_preds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.aggregate_scores">
<code class="sig-name descname">aggregate_scores</code><span class="sig-paren">(</span><em class="sig-param">new_batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.aggregate_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.aggregate_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.aggregate_targets">
<code class="sig-name descname">aggregate_targets</code><span class="sig-paren">(</span><em class="sig-param">new_batch</em>, <em class="sig-param">context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.aggregate_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.aggregate_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">*args</em>, <em class="sig-param">tensorizers=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metric: pytext.metrics.squad_metrics.SquadMetrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.squad_metric_reporter.SquadMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters.word_tagging_metric_reporter">
<span id="pytext-metric-reporters-word-tagging-metric-reporter-module"></span><h2>pytext.metric_reporters.word_tagging_metric_reporter module<a class="headerlink" href="#module-pytext.metric_reporters.word_tagging_metric_reporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.word_tagging_metric_reporter.</code><code class="sig-name descname">NERMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names: List[str], pad_idx: int, channels: List[pytext.metric_reporters.channel.Channel], use_bio_labels: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.metrics.PRF1Metrics<a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">tensorizer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter.get_model_select_metric">
<em class="property">static </em><code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.NERMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.word_tagging_metric_reporter.</code><code class="sig-name descname">SequenceTaggingMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names</em>, <em class="sig-param">pad_idx</em>, <em class="sig-param">channels</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">tensorizer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter.get_model_select_metric">
<em class="property">static </em><code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.SequenceTaggingMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.Span">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.word_tagging_metric_reporter.</code><code class="sig-name descname">Span</code><span class="sig-paren">(</span><em class="sig-param">label</em>, <em class="sig-param">start</em>, <em class="sig-param">end</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#Span"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.Span" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.Span.end">
<em class="property">property </em><code class="sig-name descname">end</code><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.Span.end" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.Span.label">
<em class="property">property </em><code class="sig-name descname">label</code><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.Span.label" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.Span.start">
<em class="property">property </em><code class="sig-name descname">start</code><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.Span.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.word_tagging_metric_reporter.</code><code class="sig-name descname">WordTaggingMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names: List[str], use_bio_labels: bool, channels: List[pytext.metric_reporters.channel.Channel]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.calculate_loss">
<code class="sig-name descname">calculate_loss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.calculate_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.calculate_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average loss for all aggregated batch</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.process_pred">
<code class="sig-name descname">process_pred</code><span class="sig-paren">(</span><em class="sig-param">pred: List[int]</em><span class="sig-paren">)</span> → List[str]<a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.process_pred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.WordTaggingMetricReporter.process_pred" title="Permalink to this definition">¶</a></dt>
<dd><p>pred is a list of token label index</p>
</dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.convert_bio_to_spans">
<code class="sig-prename descclassname">pytext.metric_reporters.word_tagging_metric_reporter.</code><code class="sig-name descname">convert_bio_to_spans</code><span class="sig-paren">(</span><em class="sig-param">bio_sequence: List[str]</em><span class="sig-paren">)</span> → List[pytext.metric_reporters.word_tagging_metric_reporter.Span]<a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#convert_bio_to_spans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.convert_bio_to_spans" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the output and convert to spans for evaluation.</p>
</dd></dl>
<dl class="function">
<dt id="pytext.metric_reporters.word_tagging_metric_reporter.get_slots">
<code class="sig-prename descclassname">pytext.metric_reporters.word_tagging_metric_reporter.</code><code class="sig-name descname">get_slots</code><span class="sig-paren">(</span><em class="sig-param">word_names</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#get_slots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.word_tagging_metric_reporter.get_slots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>
<div class="section" id="module-pytext.metric_reporters">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pytext.metric_reporters" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.metric_reporters.Channel">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">Channel</code><span class="sig-paren">(</span><em class="sig-param">stages: Tuple[pytext.common.constants.Stage</em>, <em class="sig-param">...] = (&lt;Stage.TRAIN: 'Training'&gt;</em>, <em class="sig-param">&lt;Stage.EVAL: 'Evaluation'&gt;</em>, <em class="sig-param">&lt;Stage.TEST: 'Test'&gt;)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#Channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.Channel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Channel defines how to format and report the result of a PyText job to an output
stream.</p>
<dl class="attribute">
<dt id="pytext.metric_reporters.Channel.stages">
<code class="sig-name descname">stages</code><a class="headerlink" href="#pytext.metric_reporters.Channel.stages" title="Permalink to this definition">¶</a></dt>
<dd><p>in which stages the report will be triggered, default is all
stages, which includes train, eval, test</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.Channel.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#Channel.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.Channel.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.Channel.export">
<code class="sig-name descname">export</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">input_to_model=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#Channel.export"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.Channel.export" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.Channel.report">
<code class="sig-name descname">report</code><span class="sig-paren">(</span><em class="sig-param">stage</em>, <em class="sig-param">epoch</em>, <em class="sig-param">metrics</em>, <em class="sig-param">model_select_metric</em>, <em class="sig-param">loss</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">context</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/channel.html#Channel.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.Channel.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines how to format and report data to the output channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>Stage</em>) – train, eval or test</p></li>
<li><p><strong>epoch</strong> (<em>int</em>) – current epoch</p></li>
<li><p><strong>metrics</strong> (<em>Any</em>) – all metrics</p></li>
<li><p><strong>model_select_metric</strong> (<em>double</em>) – a single numeric metric to pick best model</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss</p></li>
<li><p><strong>preds</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of predictions</p></li>
<li><p><strong>targets</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of targets</p></li>
<li><p><strong>scores</strong> (<em>List</em><em>[</em><em>Any</em><em>]</em>) – list of scores</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>List</em><em>[</em><em>Any</em><em>]</em><em>]</em>) – dict of any additional context data,
each context is a list of data that maps to each example</p></li>
</ul>
</dd>
</dl>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.MetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">MetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">pep_format=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>MetricReporter is responsible of three things:</p>
<ol class="arabic simple">
<li><p>Aggregate output from trainer, which includes model inputs, predictions,
targets, scores, and loss.</p></li>
<li><p>Calculate metrics using the aggregated output, and define how the metric
is used to find best model</p></li>
<li><p>Optionally report the metrics and aggregated output to various channels</p></li>
</ol>
<dl class="attribute">
<dt id="pytext.metric_reporters.MetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether a lower metric indicates better performance.
Set to True for e.g. perplexity, and False for e.g. accuracy. Default
is False</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.MetricReporter.channels">
<code class="sig-name descname">channels</code><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.channels" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of Channel that will receive metrics and
the aggregated trainer output then format and report them in any customized
way.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>List[Channel]</p>
</dd>
</dl>
</dd></dl>
<p>MetricReporter is tightly-coupled with metric aggregation and computation which
makes inheritance hard to reuse the parent functionalities and attributes. Next
step is to decouple the metric aggregation and computation vs metric reporting.</p>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.add_channel">
<code class="sig-name descname">add_channel</code><span class="sig-paren">(</span><em class="sig-param">channel</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.add_channel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.add_channel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.aggregate_data">
<em class="property">classmethod </em><code class="sig-name descname">aggregate_data</code><span class="sig-paren">(</span><em class="sig-param">all_data</em>, <em class="sig-param">new_batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.aggregate_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.aggregate_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate a batch of data, basically just convert tensors to list of native
python data</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.aggregate_preds">
<code class="sig-name descname">aggregate_preds</code><span class="sig-paren">(</span><em class="sig-param">batch_preds</em>, <em class="sig-param">batch_context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.aggregate_preds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.aggregate_preds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.aggregate_scores">
<code class="sig-name descname">aggregate_scores</code><span class="sig-paren">(</span><em class="sig-param">batch_scores</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.aggregate_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.aggregate_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.aggregate_targets">
<code class="sig-name descname">aggregate_targets</code><span class="sig-paren">(</span><em class="sig-param">batch_targets</em>, <em class="sig-param">batch_context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.aggregate_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.aggregate_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.calculate_loss">
<code class="sig-name descname">calculate_loss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.calculate_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.calculate_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average loss for all aggregated batch</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.compare_metric">
<code class="sig-name descname">compare_metric</code><span class="sig-paren">(</span><em class="sig-param">new_metric</em>, <em class="sig-param">old_metric</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.compare_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.compare_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if new metric indicates better model performance</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool, true if model with new_metric performs better</p>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.gen_extra_context">
<code class="sig-name descname">gen_extra_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.gen_extra_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.gen_extra_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate any extra intermediate context data for metric calculation</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.get_meta">
<code class="sig-name descname">get_meta</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.get_meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.get_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get global meta data that is not specific to any batch, the data will be
pass along to channels</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="attribute">
<dt>
<code class="sig-name descname">lower_is_better</code><em class="property"> = False</em></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.report_metric">
<code class="sig-name descname">report_metric</code><span class="sig-paren">(</span><em class="sig-param">model</em>, <em class="sig-param">stage</em>, <em class="sig-param">epoch</em>, <em class="sig-param">reset=True</em>, <em class="sig-param">print_to_channels=True</em>, <em class="sig-param">optimizer=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.report_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.report_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics and average loss, report all statistic data to channels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>nn.Module</em>) – the PyTorch neural network model.</p></li>
<li><p><strong>stage</strong> (<em>Stage</em>) – training, evaluation or test</p></li>
<li><p><strong>epoch</strong> (<em>int</em>) – current epoch</p></li>
<li><p><strong>reset</strong> (<em>bool</em>) – if all data should be reset after report, default is True</p></li>
<li><p><strong>print_to_channels</strong> (<em>bool</em>) – if report data to channels, default is True</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.report_realtime_metric">
<code class="sig-name descname">report_realtime_metric</code><span class="sig-paren">(</span><em class="sig-param">stage</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.report_realtime_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.report_realtime_metric" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#MetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.ClassificationMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">ClassificationMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names: List[str], channels: List[pytext.metric_reporters.channel.Channel], model_select_metric: pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric = &lt;ComparableClassificationMetric.ACCURACY: 'accuracy'&gt;, target_label: Optional[str] = None, text_column_names: List[str] = ['text'], additional_column_names: List[str] = [], recall_at_precision_thresholds: List[float] = [0.2, 0.4, 0.6, 0.8, 0.9]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.ClassificationMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.ClassificationMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.ClassificationMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.ClassificationMetricReporter.from_config_and_label_names">
<em class="property">classmethod </em><code class="sig-name descname">from_config_and_label_names</code><span class="sig-paren">(</span><em class="sig-param">config, label_names: List[str]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.from_config_and_label_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter.from_config_and_label_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.ClassificationMetricReporter.get_meta">
<code class="sig-name descname">get_meta</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.get_meta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter.get_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get global meta data that is not specific to any batch, the data will be
pass along to channels</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.ClassificationMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.ClassificationMetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.ClassificationMetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#ClassificationMetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.ClassificationMetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.MultiLabelClassificationMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">MultiLabelClassificationMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names: List[str], channels: List[pytext.metric_reporters.channel.Channel], model_select_metric: pytext.metric_reporters.classification_metric_reporter.ComparableClassificationMetric = &lt;ComparableClassificationMetric.ACCURACY: 'accuracy'&gt;, target_label: Optional[str] = None, text_column_names: List[str] = ['text'], additional_column_names: List[str] = [], recall_at_precision_thresholds: List[float] = [0.2, 0.4, 0.6, 0.8, 0.9]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#MultiLabelClassificationMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MultiLabelClassificationMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter" title="pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.classification_metric_reporter.ClassificationMetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.MultiLabelClassificationMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#MultiLabelClassificationMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MultiLabelClassificationMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MultiLabelClassificationMetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#MultiLabelClassificationMetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MultiLabelClassificationMetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.MultiLabelClassificationMetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/classification_metric_reporter.html#MultiLabelClassificationMetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.MultiLabelClassificationMetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.RegressionMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">RegressionMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">pep_format=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/regression_metric_reporter.html#RegressionMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.RegressionMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.RegressionMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/regression_metric_reporter.html#RegressionMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.RegressionMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.RegressionMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/regression_metric_reporter.html#RegressionMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.RegressionMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.RegressionMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/regression_metric_reporter.html#RegressionMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.RegressionMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.RegressionMetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><em class="property"> = False</em><a class="headerlink" href="#pytext.metric_reporters.RegressionMetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">IntentSlotMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">doc_label_names: List[str], word_label_names: List[str], use_bio_labels: bool, channels: List[pytext.metric_reporters.channel.Channel], slot_column_name: str = 'slots', text_column_name: str = 'text', token_tensorizer_name: str = 'tokens'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.aggregate_preds">
<code class="sig-name descname">aggregate_preds</code><span class="sig-paren">(</span><em class="sig-param">batch_preds</em>, <em class="sig-param">batch_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.aggregate_preds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.aggregate_preds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.aggregate_scores">
<code class="sig-name descname">aggregate_scores</code><span class="sig-paren">(</span><em class="sig-param">batch_scores</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.aggregate_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.aggregate_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.aggregate_targets">
<code class="sig-name descname">aggregate_targets</code><span class="sig-paren">(</span><em class="sig-param">batch_targets</em>, <em class="sig-param">batch_context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.aggregate_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.aggregate_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">tensorizers: Optional[Dict] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.get_raw_slot_str">
<code class="sig-name descname">get_raw_slot_str</code><span class="sig-paren">(</span><em class="sig-param">raw_data_row</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.get_raw_slot_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.get_raw_slot_str" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.IntentSlotMetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/intent_slot_detection_metric_reporter.html#IntentSlotMetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.IntentSlotMetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">LanguageModelMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">metadata</em>, <em class="sig-param">tensorizers</em>, <em class="sig-param">aggregate_metrics</em>, <em class="sig-param">perplexity_type</em>, <em class="sig-param">pep_format</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="attribute">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.LABELS_COLUMN">
<code class="sig-name descname">LABELS_COLUMN</code><em class="property"> = 'labels'</em><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.LABELS_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.RAW_TEXT_COLUMN">
<code class="sig-name descname">RAW_TEXT_COLUMN</code><em class="property"> = 'text'</em><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.RAW_TEXT_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.TOKENS_COLUMN">
<code class="sig-name descname">TOKENS_COLUMN</code><em class="property"> = 'tokens'</em><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.TOKENS_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.UTTERANCE_COLUMN">
<code class="sig-name descname">UTTERANCE_COLUMN</code><em class="property"> = 'utterance'</em><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.UTTERANCE_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.aggregate_context">
<code class="sig-name descname">aggregate_context</code><span class="sig-paren">(</span><em class="sig-param">context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.aggregate_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.aggregate_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.aggregate_scores">
<code class="sig-name descname">aggregate_scores</code><span class="sig-paren">(</span><em class="sig-param">scores</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.aggregate_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.aggregate_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.calculate_loss">
<code class="sig-name descname">calculate_loss</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → float<a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.calculate_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.calculate_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average loss for all aggregated batch</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.metrics.language_model_metrics.LanguageModelMetric<a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.compute_scores">
<code class="sig-name descname">compute_scores</code><span class="sig-paren">(</span><em class="sig-param">logits</em>, <em class="sig-param">targets</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.compute_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.compute_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.metric_reporters.language_model_metric_reporter.LanguageModelMetricReporter.Config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span> → float<a class="reference internal" href="../_modules/pytext/metric_reporters/language_model_metric_reporter.html#LanguageModelMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.LanguageModelMetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><em class="property"> = True</em><a class="headerlink" href="#pytext.metric_reporters.LanguageModelMetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.SquadMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">SquadMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels: List[pytext.metric_reporters.channel.Channel], n_best_size: int, max_answer_length: int, ignore_impossible: bool, has_answer_labels: List[str], tensorizer=None, false_label='False'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="attribute">
<dt id="pytext.metric_reporters.SquadMetricReporter.ANSWERS_COLUMN">
<code class="sig-name descname">ANSWERS_COLUMN</code><em class="property"> = 'answers'</em><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.ANSWERS_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.SquadMetricReporter.DOC_COLUMN">
<code class="sig-name descname">DOC_COLUMN</code><em class="property"> = 'doc'</em><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.DOC_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.SquadMetricReporter.QUES_COLUMN">
<code class="sig-name descname">QUES_COLUMN</code><em class="property"> = 'question'</em><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.QUES_COLUMN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.SquadMetricReporter.ROW_INDEX">
<code class="sig-name descname">ROW_INDEX</code><em class="property"> = 'id'</em><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.ROW_INDEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SquadMetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**contexts</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SquadMetricReporter.aggregate_preds">
<code class="sig-name descname">aggregate_preds</code><span class="sig-paren">(</span><em class="sig-param">new_batch</em>, <em class="sig-param">context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.aggregate_preds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.aggregate_preds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SquadMetricReporter.aggregate_scores">
<code class="sig-name descname">aggregate_scores</code><span class="sig-paren">(</span><em class="sig-param">new_batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.aggregate_scores"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.aggregate_scores" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SquadMetricReporter.aggregate_targets">
<code class="sig-name descname">aggregate_targets</code><span class="sig-paren">(</span><em class="sig-param">new_batch</em>, <em class="sig-param">context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.aggregate_targets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.aggregate_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SquadMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SquadMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SquadMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">*args</em>, <em class="sig-param">tensorizers=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SquadMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metric: pytext.metrics.squad_metrics.SquadMetrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/squad_metric_reporter.html#SquadMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SquadMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.WordTaggingMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">WordTaggingMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names: List[str], use_bio_labels: bool, channels: List[pytext.metric_reporters.channel.Channel]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.WordTaggingMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.WordTaggingMetricReporter.calculate_loss">
<code class="sig-name descname">calculate_loss</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.calculate_loss"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.WordTaggingMetricReporter.calculate_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the average loss for all aggregated batch</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.WordTaggingMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.WordTaggingMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.WordTaggingMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.WordTaggingMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.WordTaggingMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.WordTaggingMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.WordTaggingMetricReporter.process_pred">
<code class="sig-name descname">process_pred</code><span class="sig-paren">(</span><em class="sig-param">pred: List[int]</em><span class="sig-paren">)</span> → List[str]<a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#WordTaggingMetricReporter.process_pred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.WordTaggingMetricReporter.process_pred" title="Permalink to this definition">¶</a></dt>
<dd><p>pred is a list of token label index</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.CompositionalMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">CompositionalMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">actions_vocab, channels: List[pytext.metric_reporters.channel.Channel], text_column_name: str = 'tokenized_text', tokenizer: pytext.data.tokenizers.tokenizer.Tokenizer = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.create_frame_prediction_pairs">
<code class="sig-name descname">create_frame_prediction_pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.create_frame_prediction_pairs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.create_frame_prediction_pairs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">metadata: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers: Dict[str</em>, <em class="sig-param">pytext.data.tensorizers.Tensorizer] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.gen_extra_context">
<code class="sig-name descname">gen_extra_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.gen_extra_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.gen_extra_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate any extra intermediate context data for metric calculation</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.get_model_select_metric">
<code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.node_to_metrics_node">
<em class="property">static </em><code class="sig-name descname">node_to_metrics_node</code><span class="sig-paren">(</span><em class="sig-param">node: Union[pytext.data.data_structures.annotation.Intent, pytext.data.data_structures.annotation.Slot], start: int = 0</em><span class="sig-paren">)</span> → pytext.metrics.intent_slot_metrics.Node<a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.node_to_metrics_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.node_to_metrics_node" title="Permalink to this definition">¶</a></dt>
<dd><p>The input start is the absolute start position in utterance</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.predictions_to_report">
<code class="sig-name descname">predictions_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.predictions_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.predictions_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable predictions</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.targets_to_report">
<code class="sig-name descname">targets_to_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.targets_to_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.targets_to_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate human readable targets</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.tree_from_tokens_and_indx_actions">
<em class="property">static </em><code class="sig-name descname">tree_from_tokens_and_indx_actions</code><span class="sig-paren">(</span><em class="sig-param">token_str_list: List[str], actions_vocab: List[str], actions_indices: List[int], validate_tree: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.tree_from_tokens_and_indx_actions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.tree_from_tokens_and_indx_actions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.CompositionalMetricReporter.tree_to_metric_node">
<em class="property">static </em><code class="sig-name descname">tree_to_metric_node</code><span class="sig-paren">(</span><em class="sig-param">tree: pytext.data.data_structures.annotation.Tree</em><span class="sig-paren">)</span> → pytext.metrics.intent_slot_metrics.Node<a class="reference internal" href="../_modules/pytext/metric_reporters/compositional_metric_reporter.html#CompositionalMetricReporter.tree_to_metric_node"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.CompositionalMetricReporter.tree_to_metric_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Node from tree assuming the utterance is a concatenation of the
tokens by whitespaces. The function does not necessarily reproduce the original
utterance as extra whitespaces can be introduced.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.PairwiseRankingMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">PairwiseRankingMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">pep_format=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.PairwiseRankingMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.PairwiseRankingMetricReporter.add_batch_stats">
<code class="sig-name descname">add_batch_stats</code><span class="sig-paren">(</span><em class="sig-param">n_batches</em>, <em class="sig-param">preds</em>, <em class="sig-param">targets</em>, <em class="sig-param">scores</em>, <em class="sig-param">loss</em>, <em class="sig-param">m_input</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter.add_batch_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.PairwiseRankingMetricReporter.add_batch_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregates a batch of output data (predictions, scores, targets/true labels
and loss).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_batches</strong> (<em>int</em>) – number of current batch</p></li>
<li><p><strong>preds</strong> (<em>torch.Tensor</em>) – predictions of current batch</p></li>
<li><p><strong>targets</strong> (<em>torch.Tensor</em>) – targets of current batch</p></li>
<li><p><strong>scores</strong> (<em>torch.Tensor</em>) – scores of current batch</p></li>
<li><p><strong>loss</strong> (<em>double</em>) – average loss of current batch</p></li>
<li><p><strong>m_input</strong> (<em>Tuple</em><em>[</em><em>torch.Tensor</em><em>, </em><em>..</em><em>]</em>) – model inputs of current batch</p></li>
<li><p><strong>context</strong> (<em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – any additional context data, it could be
either a list of data which maps to each example, or a single value
for the batch</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.PairwiseRankingMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.PairwiseRankingMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.PairwiseRankingMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">meta: pytext.data.data_handler.CommonMetadata = None</em>, <em class="sig-param">tensorizers=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.PairwiseRankingMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.PairwiseRankingMetricReporter.get_model_select_metric">
<em class="property">static </em><code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/pairwise_ranking_metric_reporter.html#PairwiseRankingMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.PairwiseRankingMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.SequenceTaggingMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">SequenceTaggingMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names</em>, <em class="sig-param">pad_idx</em>, <em class="sig-param">channels</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SequenceTaggingMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.SequenceTaggingMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SequenceTaggingMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SequenceTaggingMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SequenceTaggingMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SequenceTaggingMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">tensorizer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SequenceTaggingMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.SequenceTaggingMetricReporter.get_model_select_metric">
<em class="property">static </em><code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#SequenceTaggingMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.SequenceTaggingMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.PureLossMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">PureLossMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">channels</em>, <em class="sig-param">pep_format=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#PureLossMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.PureLossMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.PureLossMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#PureLossMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.PureLossMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.PureLossMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/metric_reporter.html#PureLossMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.PureLossMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.metric_reporters.PureLossMetricReporter.lower_is_better">
<code class="sig-name descname">lower_is_better</code><em class="property"> = True</em><a class="headerlink" href="#pytext.metric_reporters.PureLossMetricReporter.lower_is_better" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.metric_reporters.NERMetricReporter">
<em class="property">class </em><code class="sig-prename descclassname">pytext.metric_reporters.</code><code class="sig-name descname">NERMetricReporter</code><span class="sig-paren">(</span><em class="sig-param">label_names: List[str], pad_idx: int, channels: List[pytext.metric_reporters.channel.Channel], use_bio_labels: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.NERMetricReporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.metric_reporters.metric_reporter.MetricReporter" title="pytext.metric_reporters.metric_reporter.MetricReporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.metric_reporters.metric_reporter.MetricReporter</span></code></a></p>
<dl class="method">
<dt id="pytext.metric_reporters.NERMetricReporter.batch_context">
<code class="sig-name descname">batch_context</code><span class="sig-paren">(</span><em class="sig-param">raw_batch</em>, <em class="sig-param">batch</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter.batch_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.NERMetricReporter.batch_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.NERMetricReporter.calculate_metric">
<code class="sig-name descname">calculate_metric</code><span class="sig-paren">(</span><span class="sig-paren">)</span> → pytext.metrics.PRF1Metrics<a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter.calculate_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.NERMetricReporter.calculate_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate metrics, each sub class should implement it</p>
</dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.NERMetricReporter.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">tensorizer</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.NERMetricReporter.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.metric_reporters.NERMetricReporter.get_model_select_metric">
<em class="property">static </em><code class="sig-name descname">get_model_select_metric</code><span class="sig-paren">(</span><em class="sig-param">metrics</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/metric_reporters/word_tagging_metric_reporter.html#NERMetricReporter.get_model_select_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.metric_reporters.NERMetricReporter.get_model_select_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single numeric metric value that is used for model selection, returns
the metric itself by default, but usually metrics will be more complicated
data structures</p>
</dd></dl>
</dd></dl>
</div>
</div>
</div>
</div>
</div>
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PyText</a></h1>
<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../train_your_first_model.html">Train your first model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../execute_your_first_model.html">Execute your first model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualize_your_model.html">Visualize Model Training with TensorBoard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pytext_models_in_your_app.html">Use PyText models in your app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serving_models_in_production.html">Serve Models in Production</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_files.html">Config Files Explained</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_commands.html">Config Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">Training More Advanced Models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atis_tutorial.html">Train Intent-Slot model on ATIS Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hierarchical_intent_slot_tutorial.html">Hierarchical intent and slot filling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../disjoint_multitask_tutorial.html">Multitask training with disjoint datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed_training_tutorial.html">Data Parallel Distributed Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xlm_r.html">XLM-RoBERTa</a></li>
</ul>
<p class="caption"><span class="caption-text">Extending PyText</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Architecture Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasource_tutorial.html">Custom Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensorizer.html">Custom Tensorizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dense.html">Using External Dense Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../create_new_model.html">Creating A New Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hacking_pytext.html">Hacking PyText</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../configs/pytext.html">pytext</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pytext.html">pytext package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pytext.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.builtin_task">pytext.builtin_task module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.main">pytext.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.workflow">pytext.workflow module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
<li><a href="../index.html">Documentation overview</a><ul>
<li><a href="pytext.html">pytext package</a><ul>
<li>Previous: <a href="pytext.loss.html" title="previous chapter">pytext.loss package</a></li>
<li>Next: <a href="pytext.metrics.html" title="next chapter">pytext.metrics package</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="searchbox" role="search" style="display: none">
<h3 id="searchlabel">Quick search</h3>
<div class="searchformwrapper">
<form action="../search.html" class="search" method="get">
<input aria-labelledby="searchlabel" name="q" type="text"/>
<input type="submit" value="Go"/>
</form>
</div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div></div>