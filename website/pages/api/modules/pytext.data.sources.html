
<script type="text/javascript" id="documentation_options" data-url_root="./"
  src="/js/documentation_options.js"></script>
<script type="text/javascript" src="/js/jquery.js"></script>
<script type="text/javascript" src="/js/underscore.js"></script>
<script type="text/javascript" src="/js/doctools.js"></script>
<script type="text/javascript" src="/js/language_data.js"></script>
<script type="text/javascript" src="/js/searchtools.js"></script>
<div class="sphinx"><div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body" role="main">
<div class="section" id="pytext-data-sources-package">
<h1>pytext.data.sources package<a class="headerlink" href="#pytext-data-sources-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pytext.data.sources.conllu">
<span id="pytext-data-sources-conllu-module"></span><h2>pytext.data.sources.conllu module<a class="headerlink" href="#module-pytext.data.sources.conllu" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.sources.conllu.CoNLLUNERDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.conllu.</code><code class="sig-name descname">CoNLLUNERDataSource</code><span class="sig-paren">(</span><em class="sig-param">language=None</em>, <em class="sig-param">train_file=None</em>, <em class="sig-param">test_file=None</em>, <em class="sig-param">eval_file=None</em>, <em class="sig-param">field_names=None</em>, <em class="sig-param">delimiter='t'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/conllu.html#CoNLLUNERDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.conllu.CoNLLUNERDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.conllu.CoNLLUPOSDataSource" title="pytext.data.sources.conllu.CoNLLUPOSDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.conllu.CoNLLUPOSDataSource</span></code></a></p>
<p>Reads an empty line separated data (word     label).
This data source supports datasets for NER tasks</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.conllu.CoNLLUNERFile">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.conllu.</code><code class="sig-name descname">CoNLLUNERFile</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">delim</em>, <em class="sig-param">lang</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/conllu.html#CoNLLUNERFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.conllu.CoNLLUNERFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.conllu.CoNLLUPOSDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.conllu.</code><code class="sig-name descname">CoNLLUPOSDataSource</code><span class="sig-paren">(</span><em class="sig-param">language=None</em>, <em class="sig-param">train_file=None</em>, <em class="sig-param">test_file=None</em>, <em class="sig-param">eval_file=None</em>, <em class="sig-param">field_names=None</em>, <em class="sig-param">delimiter='t'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/conllu.html#CoNLLUPOSDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.conllu.CoNLLUPOSDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.RootDataSource" title="pytext.data.sources.data_source.RootDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.RootDataSource</span></code></a></p>
<p>DataSource which loads data from CoNLL-U file.</p>
<dl class="method">
<dt id="pytext.data.sources.conllu.CoNLLUPOSDataSource.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.sources.conllu.CoNLLUPOSDataSource.Config, schema: Dict[str, Type], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/conllu.html#CoNLLUPOSDataSource.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.conllu.CoNLLUPOSDataSource.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.conllu.CoNLLUPOSDataSource.raw_eval_data_generator">
<code class="sig-name descname">raw_eval_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/conllu.html#CoNLLUPOSDataSource.raw_eval_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.conllu.CoNLLUPOSDataSource.raw_eval_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the EVAL data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.conllu.CoNLLUPOSDataSource.raw_test_data_generator">
<code class="sig-name descname">raw_test_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/conllu.html#CoNLLUPOSDataSource.raw_test_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.conllu.CoNLLUPOSDataSource.raw_test_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TEST data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.conllu.CoNLLUPOSDataSource.raw_train_data_generator">
<code class="sig-name descname">raw_train_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/conllu.html#CoNLLUPOSDataSource.raw_train_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.conllu.CoNLLUPOSDataSource.raw_train_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TRAIN data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.sources.data_source">
<span id="pytext-data-sources-data-source-module"></span><h2>pytext.data.sources.data_source module<a class="headerlink" href="#module-pytext.data.sources.data_source" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.sources.data_source.DataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">DataSource</code><span class="sig-paren">(</span><em class="sig-param">schema: Dict[str, Type]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#DataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.DataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>Data sources are simple components that stream data from somewhere using Python’s
iteration interface. It should expose 3 iterators, “train”, “test”, and “eval”.
Each of these should be able to be iterated over any number of times, and iterating
over it should yield dictionaries whose values are deserialized python types.</p>
<p>Simply, these data sources exist as an interface to read through datasets
in a pythonic way, with pythonic types, and abstract away the form that they are
stored in.</p>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.DataSource.eval">
<code class="sig-name descname">eval</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#DataSource.eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.DataSource.eval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.DataSource.test">
<code class="sig-name descname">test</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#DataSource.test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.DataSource.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.DataSource.train">
<code class="sig-name descname">train</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#DataSource.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.DataSource.train" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.data_source.GeneratorIterator">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">GeneratorIterator</code><span class="sig-paren">(</span><em class="sig-param">generator</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#GeneratorIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.GeneratorIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create an object which can be iterated over multiple times from a
generator call. Each iteration will call the generator and allow iterating
over it. This is unsafe to use on generators which have side effects, such
as file readers; it’s up to the callers to safely manage these scenarios.</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.data_source.GeneratorMethodProperty">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">GeneratorMethodProperty</code><span class="sig-paren">(</span><em class="sig-param">generator</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#GeneratorMethodProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.GeneratorMethodProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Identify a generator method as a property. This will allow instances to iterate
over the property multiple times, and not consume the generator. It accomplishes
this by wrapping the generator and creating multiple generator instances if
iterated over multiple times.</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.data_source.RawExample">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">RawExample</code><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RawExample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RawExample" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A wrapper class for a single example row with a dict interface.
This is here for any logic we want row objects to have that dicts don’t do.</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.data_source.RootDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">RootDataSource</code><span class="sig-paren">(</span><em class="sig-param">schema: Dict[str, Type], column_mapping: Dict[str, str] = ()</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.DataSource" title="pytext.data.sources.data_source.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.DataSource</span></code></a></p>
<p>A data source which actually loads data from a location. This data source
needs to be responsible for converting types based on a schema, because it should
be the only part of the system that actually needs to understand details about
the underlying storage system.</p>
<p>RootDataSource presents a simpler abstraction than DataSource where the rows
are automatically converted to the right DataTypes.</p>
<p>A RootDataSource should implement <cite>raw_train_data_generator</cite>,
<cite>raw_test_data_generator</cite>, and <cite>raw_eval_data_generator</cite>. These functions
should yield dictionaries of raw objects which the loading system can
convert using the schema loading functions.</p>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.RootDataSource.DATA_SOURCE_TYPES">
<code class="sig-name descname">DATA_SOURCE_TYPES</code><em class="property"> = {&lt;class 'str'&gt;: &lt;function load_text&gt;, typing.Any: &lt;function load_text&gt;, typing.List[pytext.utils.data.Slot]: &lt;function load_slots&gt;, typing.List[int]: &lt;function load_json&gt;, typing.List[str]: &lt;function load_json&gt;, typing.List[typing.Dict[str, typing.Dict[str, float]]]: &lt;function load_json&gt;, typing.List[float]: &lt;function load_float_list&gt;, ~JSONString: &lt;function load_json_string&gt;, &lt;class 'float'&gt;: &lt;function load_float&gt;, &lt;class 'int'&gt;: &lt;function load_int&gt;}</em><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.DATA_SOURCE_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.RootDataSource.eval">
<code class="sig-name descname">eval</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource.eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.eval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.data_source.RootDataSource.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">value</em>, <em class="sig-param">schema_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.data_source.RootDataSource.raw_eval_data_generator">
<code class="sig-name descname">raw_eval_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource.raw_eval_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.raw_eval_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the EVAL data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.data_source.RootDataSource.raw_test_data_generator">
<code class="sig-name descname">raw_test_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource.raw_test_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.raw_test_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TEST data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.data_source.RootDataSource.raw_train_data_generator">
<code class="sig-name descname">raw_train_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource.raw_train_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.raw_train_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TRAIN data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.data_source.RootDataSource.register_type">
<em class="property">classmethod </em><code class="sig-name descname">register_type</code><span class="sig-paren">(</span><em class="sig-param">type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource.register_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.register_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.RootDataSource.test">
<code class="sig-name descname">test</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource.test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.RootDataSource.train">
<code class="sig-name descname">train</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RootDataSource.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RootDataSource.train" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.data_source.RowShardedDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">RowShardedDataSource</code><span class="sig-paren">(</span><em class="sig-param">data_source: pytext.data.sources.data_source.DataSource</em>, <em class="sig-param">rank=0</em>, <em class="sig-param">world_size=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RowShardedDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RowShardedDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.ShardedDataSource" title="pytext.data.sources.data_source.ShardedDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.ShardedDataSource</span></code></a></p>
<p>Shards a given datasource by row.</p>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.RowShardedDataSource.train">
<code class="sig-name descname">train</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RowShardedDataSource.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RowShardedDataSource.train" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.RowShardedDataSource.train_unsharded">
<code class="sig-name descname">train_unsharded</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RowShardedDataSource.train_unsharded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.RowShardedDataSource.train_unsharded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.data_source.SafeFileWrapper">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">SafeFileWrapper</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#SafeFileWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.SafeFileWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple wrapper class for files which allows filedescriptors to be managed
with normal Python ref counts.
Without using this, if you create a file in a from_config you will see a warning
along the lines of “ResourceWarning: self._file is acquired but not always released”
this is because we’re opening a file not in a context manager (with statement).
We want to do it this way because it lets us pass a file object to the DataSource,
rather than a filename. This exposes a ton more flexibility and testability, passing
filenames is one of the paths towards pain.</p>
<p>However, we don’t have a clear resource management system set up for configuration.
from_config functions are the tool that we have to allow objects to specify how they
should be created from a configuration, which generally should only happen from the
command line, whereas in eg. a notebook you should build the objects with
constructors directly. If building from constructors, you can just open a file and
pass it, but from_config here needs to create a file object from a configured
filename. Python files don’t close automatically, so you also need a system that
will close them when the python interpreter shuts down. If you don’t, it will print
a resource warning at runtime, as the interpreter manually closes the filehandles
(although modern OSs are pretty okay with having open file handles, it’s hard for me
to justify exactly why Python is so strict about this; I think one of the main
reasons you might actually care is if you have a writeable file handle it might not
have flushed properly when the C runtime exits, but Python doesn’t actually
distinguish between writeable and non-writeable file handles).</p>
<p>This class is a wrapper that creates a system for (sort-of) safely closing the file
handles before the runtime exits. It does this by closing the file when the object’s
deleter is called. Although the python standard doesn’t actually make any guarantees
about when deleters are called, CPython is reference counted and so as an
mplementation detail will call a deleter whenever the last reference to it is
removed, which generally will happen to all objects created during program execution
as long as there aren’t reference cycles (I don’t actually know off-hand whether the
cycle collection is run before shutdown, and anyway the cycles would have to include
objects that the runtime itself maintains pointers to, which seems like you’d have
to work hard to do and wouldn’t do accidentally). This isn’t true for other python
systems like PyPy or Jython which use generational garbage collection and so don’t
actually always call destructors before the system shuts down, but again this is
only really relevant for mutable files.</p>
<p>An alternative implementation would be to build a resource management system into
PyText, something like a function that we use for opening system resources that
registers the resources and then we make sure are all closed before system shutdown.
That would probably technically be the right solution, but I didn’t really think of
that first and also it’s a bit longer to implement.</p>
<p>If you are seeing resource warnings on your system, please file a github issue.</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.data_source.ShardedDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">ShardedDataSource</code><span class="sig-paren">(</span><em class="sig-param">schema: Dict[str, Type]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#ShardedDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.ShardedDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.DataSource" title="pytext.data.sources.data_source.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.DataSource</span></code></a></p>
<p>Base class for sharded data sources.</p>
</dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.data_source.generator_property">
<code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">generator_property</code><a class="headerlink" href="#pytext.data.sources.data_source.generator_property" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pytext.data.sources.data_source.GeneratorMethodProperty" title="pytext.data.sources.data_source.GeneratorMethodProperty"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.GeneratorMethodProperty</span></code></a></p>
</dd></dl>
<dl class="function">
<dt id="pytext.data.sources.data_source.load_float">
<code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">load_float</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#load_float"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.load_float" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.data_source.load_float_list">
<code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">load_float_list</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#load_float_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.load_float_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.data_source.load_int">
<code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">load_int</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#load_int"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.load_int" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.data_source.load_json">
<code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">load_json</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#load_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.load_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.data_source.load_json_string">
<code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">load_json_string</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#load_json_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.load_json_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.data_source.load_slots">
<code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">load_slots</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#load_slots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.load_slots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.data_source.load_text">
<code class="sig-prename descclassname">pytext.data.sources.data_source.</code><code class="sig-name descname">load_text</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#load_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.data_source.load_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>
<div class="section" id="module-pytext.data.sources.pandas">
<span id="pytext-data-sources-pandas-module"></span><h2>pytext.data.sources.pandas module<a class="headerlink" href="#module-pytext.data.sources.pandas" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.sources.pandas.PandasDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.pandas.</code><code class="sig-name descname">PandasDataSource</code><span class="sig-paren">(</span><em class="sig-param">train_df: Optional[pandas.core.frame.DataFrame] = None</em>, <em class="sig-param">eval_df: Optional[pandas.core.frame.DataFrame] = None</em>, <em class="sig-param">test_df: Optional[pandas.core.frame.DataFrame] = None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.pandas.PandasDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.RootDataSource" title="pytext.data.sources.data_source.RootDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.RootDataSource</span></code></a></p>
<p>DataSource which loads data from a pandas DataFrame.</p>
<dl>
<dt>Inputs:</dt><dd><p>train_df: DataFrame for training</p>
<p>eval_df: DataFrame for evalu</p>
<p>test_df: DataFrame for test</p>
<p>schema: same as base DataSource, define the list of output values with their types</p>
<p>column_mapping: maps the column names in DataFrame to the name defined in schema</p>
</dd>
</dl>
<dl class="method">
<dt id="pytext.data.sources.pandas.PandasDataSource.raw_eval_data_generator">
<code class="sig-name descname">raw_eval_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource.raw_eval_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.pandas.PandasDataSource.raw_eval_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the EVAL data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.pandas.PandasDataSource.raw_generator">
<em class="property">static </em><code class="sig-name descname">raw_generator</code><span class="sig-paren">(</span><em class="sig-param">df: Optional[pandas.core.frame.DataFrame]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource.raw_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.pandas.PandasDataSource.raw_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.pandas.PandasDataSource.raw_test_data_generator">
<code class="sig-name descname">raw_test_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource.raw_test_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.pandas.PandasDataSource.raw_test_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TEST data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.pandas.PandasDataSource.raw_train_data_generator">
<code class="sig-name descname">raw_train_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource.raw_train_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.pandas.PandasDataSource.raw_train_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TRAIN data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.pandas.SessionPandasDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.pandas.</code><code class="sig-name descname">SessionPandasDataSource</code><span class="sig-paren">(</span><em class="sig-param">schema: Dict[str, Type], id_col: str, train_df: Optional[pandas.core.frame.DataFrame] = None, eval_df: Optional[pandas.core.frame.DataFrame] = None, test_df: Optional[pandas.core.frame.DataFrame] = None, column_mapping: Dict[str, str] = ()</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#SessionPandasDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.pandas.SessionPandasDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.pandas.PandasDataSource" title="pytext.data.sources.pandas.PandasDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.pandas.PandasDataSource</span></code></a>, <a class="reference internal" href="#pytext.data.sources.session.SessionDataSource" title="pytext.data.sources.session.SessionDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.session.SessionDataSource</span></code></a></p>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.sources.session">
<span id="pytext-data-sources-session-module"></span><h2>pytext.data.sources.session module<a class="headerlink" href="#module-pytext.data.sources.session" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.sources.session.SessionDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.session.</code><code class="sig-name descname">SessionDataSource</code><span class="sig-paren">(</span><em class="sig-param">id_col</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/session.html#SessionDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.session.SessionDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.RootDataSource" title="pytext.data.sources.data_source.RootDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.RootDataSource</span></code></a></p>
<p>Data source for session based data, the input data is organized in sessions,
each session may have multiple rows. The first column is always the session id.
Raw input rows are consolidated by session id and returned as one session
per example</p>
<dl class="method">
<dt id="pytext.data.sources.session.SessionDataSource.merge_session">
<code class="sig-name descname">merge_session</code><span class="sig-paren">(</span><em class="sig-param">session</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/session.html#SessionDataSource.merge_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.session.SessionDataSource.merge_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.sources.squad">
<span id="pytext-data-sources-squad-module"></span><h2>pytext.data.sources.squad module<a class="headerlink" href="#module-pytext.data.sources.squad" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.sources.squad.SquadDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.squad.</code><code class="sig-name descname">SquadDataSource</code><span class="sig-paren">(</span><em class="sig-param">train_filename=None, test_filename=None, eval_filename=None, ignore_impossible=True, max_character_length=1048576, min_overlap=0.1, delimiter='t', quoted=False, schema={'answer_ends': typing.List[int], 'answer_starts': typing.List[int], 'answers': typing.List[str], 'doc': &lt;class 'str'&gt;, 'has_answer': &lt;class 'str'&gt;, 'id': &lt;class 'int'&gt;, 'question': &lt;class 'str'&gt;}</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#SquadDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.DataSource" title="pytext.data.sources.data_source.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.DataSource</span></code></a></p>
<p>Download data from <a class="reference external" href="https://rajpurkar.github.io/SQuAD-explorer/">https://rajpurkar.github.io/SQuAD-explorer/</a>
Will return tuples of (doc, question, answer, answer_start, has_answer)</p>
<dl class="attribute">
<dt id="pytext.data.sources.squad.SquadDataSource.DEFAULT_SCHEMA">
<code class="sig-name descname">DEFAULT_SCHEMA</code><em class="property"> = {'answer_ends': typing.List[int], 'answer_starts': typing.List[int], 'answers': typing.List[str], 'doc': &lt;class 'str'&gt;, 'has_answer': &lt;class 'str'&gt;, 'id': &lt;class 'int'&gt;, 'question': &lt;class 'str'&gt;}</em><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSource.DEFAULT_SCHEMA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.squad.SquadDataSource.eval">
<code class="sig-name descname">eval</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSource.eval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.squad.SquadDataSource.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.sources.squad.SquadDataSource.Config, schema={'answer_ends': typing.List[int], 'answer_starts': typing.List[int], 'answers': typing.List[str], 'doc': &lt;class 'str'&gt;, 'has_answer': &lt;class 'str'&gt;, 'id': &lt;class 'int'&gt;, 'question': &lt;class 'str'&gt;}</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#SquadDataSource.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSource.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.squad.SquadDataSource.process_file">
<code class="sig-name descname">process_file</code><span class="sig-paren">(</span><em class="sig-param">fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#SquadDataSource.process_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSource.process_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.squad.SquadDataSource.test">
<code class="sig-name descname">test</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSource.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.squad.SquadDataSource.train">
<code class="sig-name descname">train</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSource.train" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.squad.SquadDataSourceForKD">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.squad.</code><code class="sig-name descname">SquadDataSourceForKD</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#SquadDataSourceForKD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSourceForKD" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.squad.SquadDataSource" title="pytext.data.sources.squad.SquadDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.squad.SquadDataSource</span></code></a></p>
<p>Squad-like data along with soft labels (logits).
Will return tuples of (
doc, question, answer, answer_start, has_answer,
start_logits, end_logits, has_answer_logits, pad_mask, segment_labels
)</p>
<dl class="method">
<dt id="pytext.data.sources.squad.SquadDataSourceForKD.process_file">
<code class="sig-name descname">process_file</code><span class="sig-paren">(</span><em class="sig-param">fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#SquadDataSourceForKD.process_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.SquadDataSourceForKD.process_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="function">
<dt id="pytext.data.sources.squad.process_squad">
<code class="sig-prename descclassname">pytext.data.sources.squad.</code><code class="sig-name descname">process_squad</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">ignore_impossible</em>, <em class="sig-param">max_character_length</em>, <em class="sig-param">min_overlap=0.1</em>, <em class="sig-param">delimiter='\t'</em>, <em class="sig-param">quoted=False</em>, <em class="sig-param">is_kd=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#process_squad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.process_squad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.squad.process_squad_json">
<code class="sig-prename descclassname">pytext.data.sources.squad.</code><code class="sig-name descname">process_squad_json</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">ignore_impossible</em>, <em class="sig-param">max_character_length</em>, <em class="sig-param">min_overlap</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#process_squad_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.process_squad_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.squad.process_squad_tsv">
<code class="sig-prename descclassname">pytext.data.sources.squad.</code><code class="sig-name descname">process_squad_tsv</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">ignore_impossible</em>, <em class="sig-param">max_character_length</em>, <em class="sig-param">min_overlap</em>, <em class="sig-param">delimiter</em>, <em class="sig-param">quoted</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#process_squad_tsv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.process_squad_tsv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="function">
<dt id="pytext.data.sources.squad.process_squad_tsv_for_kd">
<code class="sig-prename descclassname">pytext.data.sources.squad.</code><code class="sig-name descname">process_squad_tsv_for_kd</code><span class="sig-paren">(</span><em class="sig-param">fname</em>, <em class="sig-param">ignore_impossible</em>, <em class="sig-param">max_character_length</em>, <em class="sig-param">min_overlap</em>, <em class="sig-param">delimiter</em>, <em class="sig-param">quoted</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#process_squad_tsv_for_kd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.squad.process_squad_tsv_for_kd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>
<div class="section" id="module-pytext.data.sources.tsv">
<span id="pytext-data-sources-tsv-module"></span><h2>pytext.data.sources.tsv module<a class="headerlink" href="#module-pytext.data.sources.tsv" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.sources.tsv.BlockShardedTSV">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.tsv.</code><code class="sig-name descname">BlockShardedTSV</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">field_names=None</em>, <em class="sig-param">delimiter='t'</em>, <em class="sig-param">quoted=False</em>, <em class="sig-param">block_id=0</em>, <em class="sig-param">num_blocks=1</em>, <em class="sig-param">drop_incomplete_rows=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#BlockShardedTSV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.BlockShardedTSV" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Take a TSV file, split into N pieces (by byte location) and return
an iterator on one of the pieces.  The pieces are equal by byte size,
not by number of rows.  Thus, care needs to be taken when using this
for distributed training, otherwise number of batches for different
workers might be different.</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.tsv.BlockShardedTSVDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.tsv.</code><code class="sig-name descname">BlockShardedTSVDataSource</code><span class="sig-paren">(</span><em class="sig-param">rank=0</em>, <em class="sig-param">world_size=1</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#BlockShardedTSVDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.BlockShardedTSVDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.tsv.TSVDataSource" title="pytext.data.sources.tsv.TSVDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.tsv.TSVDataSource</span></code></a>, <a class="reference internal" href="#pytext.data.sources.data_source.ShardedDataSource" title="pytext.data.sources.data_source.ShardedDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.ShardedDataSource</span></code></a></p>
<dl class="attribute">
<dt id="pytext.data.sources.tsv.BlockShardedTSVDataSource.train_unsharded">
<code class="sig-name descname">train_unsharded</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.tsv.BlockShardedTSVDataSource.train_unsharded" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.tsv.MultilingualTSVDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.tsv.</code><code class="sig-name descname">MultilingualTSVDataSource</code><span class="sig-paren">(</span><em class="sig-param">train_file=None, test_file=None, eval_file=None, field_names=None, delimiter='t', data_source_languages={'eval': ['en'], 'test': ['en'], 'train': ['en']}, language_columns=['language'], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#MultilingualTSVDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.MultilingualTSVDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.tsv.TSVDataSource" title="pytext.data.sources.tsv.TSVDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.tsv.TSVDataSource</span></code></a></p>
<p>Data Source for multi-lingual data. The input data can have multiple
text fields and each field can either have the same language or different
languages. The <cite>data_source_languages</cite> dict contains the language information
for each text field and this should match the number of language identifiers
specified in <cite>language_columns</cite>.</p>
<dl class="attribute">
<dt id="pytext.data.sources.tsv.MultilingualTSVDataSource.eval">
<code class="sig-name descname">eval</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.tsv.MultilingualTSVDataSource.eval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.tsv.MultilingualTSVDataSource.test">
<code class="sig-name descname">test</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.tsv.MultilingualTSVDataSource.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.tsv.MultilingualTSVDataSource.train">
<code class="sig-name descname">train</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.tsv.MultilingualTSVDataSource.train" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.tsv.SessionTSVDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.tsv.</code><code class="sig-name descname">SessionTSVDataSource</code><span class="sig-paren">(</span><em class="sig-param">train_file=None</em>, <em class="sig-param">test_file=None</em>, <em class="sig-param">eval_file=None</em>, <em class="sig-param">field_names=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#SessionTSVDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.SessionTSVDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.tsv.TSVDataSource" title="pytext.data.sources.tsv.TSVDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.tsv.TSVDataSource</span></code></a>, <a class="reference internal" href="#pytext.data.sources.session.SessionDataSource" title="pytext.data.sources.session.SessionDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.session.SessionDataSource</span></code></a></p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.tsv.TSV">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.tsv.</code><code class="sig-name descname">TSV</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">field_names=None</em>, <em class="sig-param">delimiter='t'</em>, <em class="sig-param">quoted=False</em>, <em class="sig-param">drop_incomplete_rows=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.TSV" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.tsv.TSVDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.tsv.</code><code class="sig-name descname">TSVDataSource</code><span class="sig-paren">(</span><em class="sig-param">train_file=None</em>, <em class="sig-param">test_file=None</em>, <em class="sig-param">eval_file=None</em>, <em class="sig-param">field_names=None</em>, <em class="sig-param">delimiter='t'</em>, <em class="sig-param">quoted=False</em>, <em class="sig-param">drop_incomplete_rows=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.TSVDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.RootDataSource" title="pytext.data.sources.data_source.RootDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.RootDataSource</span></code></a></p>
<p>DataSource which loads data from TSV sources. Uses python’s csv library.</p>
<dl class="method">
<dt id="pytext.data.sources.tsv.TSVDataSource.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.sources.tsv.TSVDataSource.Config, schema: Dict[str, Type], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.TSVDataSource.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.tsv.TSVDataSource.raw_eval_data_generator">
<code class="sig-name descname">raw_eval_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource.raw_eval_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.TSVDataSource.raw_eval_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the EVAL data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.tsv.TSVDataSource.raw_test_data_generator">
<code class="sig-name descname">raw_test_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource.raw_test_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.TSVDataSource.raw_test_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TEST data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.tsv.TSVDataSource.raw_train_data_generator">
<code class="sig-name descname">raw_train_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource.raw_train_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.tsv.TSVDataSource.raw_train_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TRAIN data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="module-pytext.data.sources">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pytext.data.sources" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pytext.data.sources.DataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.</code><code class="sig-name descname">DataSource</code><span class="sig-paren">(</span><em class="sig-param">schema: Dict[str, Type]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#DataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.DataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="pytext.config.html#pytext.config.component.Component" title="pytext.config.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.config.component.Component</span></code></a></p>
<p>Data sources are simple components that stream data from somewhere using Python’s
iteration interface. It should expose 3 iterators, “train”, “test”, and “eval”.
Each of these should be able to be iterated over any number of times, and iterating
over it should yield dictionaries whose values are deserialized python types.</p>
<p>Simply, these data sources exist as an interface to read through datasets
in a pythonic way, with pythonic types, and abstract away the form that they are
stored in.</p>
<dl class="attribute">
<dt id="pytext.data.sources.DataSource.eval">
<code class="sig-name descname">eval</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#DataSource.eval"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.DataSource.eval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.DataSource.test">
<code class="sig-name descname">test</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#DataSource.test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.DataSource.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.DataSource.train">
<code class="sig-name descname">train</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#DataSource.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.DataSource.train" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.RawExample">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.</code><code class="sig-name descname">RawExample</code><a class="reference internal" href="../_modules/pytext/data/sources/data_source.html#RawExample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.RawExample" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A wrapper class for a single example row with a dict interface.
This is here for any logic we want row objects to have that dicts don’t do.</p>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.SquadDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.</code><code class="sig-name descname">SquadDataSource</code><span class="sig-paren">(</span><em class="sig-param">train_filename=None, test_filename=None, eval_filename=None, ignore_impossible=True, max_character_length=1048576, min_overlap=0.1, delimiter='t', quoted=False, schema={'answer_ends': typing.List[int], 'answer_starts': typing.List[int], 'answers': typing.List[str], 'doc': &lt;class 'str'&gt;, 'has_answer': &lt;class 'str'&gt;, 'id': &lt;class 'int'&gt;, 'question': &lt;class 'str'&gt;}</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#SquadDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.SquadDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.DataSource" title="pytext.data.sources.data_source.DataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.DataSource</span></code></a></p>
<p>Download data from <a class="reference external" href="https://rajpurkar.github.io/SQuAD-explorer/">https://rajpurkar.github.io/SQuAD-explorer/</a>
Will return tuples of (doc, question, answer, answer_start, has_answer)</p>
<dl class="attribute">
<dt id="pytext.data.sources.SquadDataSource.DEFAULT_SCHEMA">
<code class="sig-name descname">DEFAULT_SCHEMA</code><em class="property"> = {'answer_ends': typing.List[int], 'answer_starts': typing.List[int], 'answers': typing.List[str], 'doc': &lt;class 'str'&gt;, 'has_answer': &lt;class 'str'&gt;, 'id': &lt;class 'int'&gt;, 'question': &lt;class 'str'&gt;}</em><a class="headerlink" href="#pytext.data.sources.SquadDataSource.DEFAULT_SCHEMA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.SquadDataSource.eval">
<code class="sig-name descname">eval</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.SquadDataSource.eval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.SquadDataSource.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.sources.squad.SquadDataSource.Config, schema={'answer_ends': typing.List[int], 'answer_starts': typing.List[int], 'answers': typing.List[str], 'doc': &lt;class 'str'&gt;, 'has_answer': &lt;class 'str'&gt;, 'id': &lt;class 'int'&gt;, 'question': &lt;class 'str'&gt;}</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#SquadDataSource.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.SquadDataSource.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.SquadDataSource.process_file">
<code class="sig-name descname">process_file</code><span class="sig-paren">(</span><em class="sig-param">fname</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/squad.html#SquadDataSource.process_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.SquadDataSource.process_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.SquadDataSource.test">
<code class="sig-name descname">test</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.SquadDataSource.test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="attribute">
<dt id="pytext.data.sources.SquadDataSource.train">
<code class="sig-name descname">train</code><em class="property"> = &lt;pytext.data.sources.data_source.GeneratorIterator object&gt;</em><a class="headerlink" href="#pytext.data.sources.SquadDataSource.train" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.TSVDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.</code><code class="sig-name descname">TSVDataSource</code><span class="sig-paren">(</span><em class="sig-param">train_file=None</em>, <em class="sig-param">test_file=None</em>, <em class="sig-param">eval_file=None</em>, <em class="sig-param">field_names=None</em>, <em class="sig-param">delimiter='t'</em>, <em class="sig-param">quoted=False</em>, <em class="sig-param">drop_incomplete_rows=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.TSVDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.RootDataSource" title="pytext.data.sources.data_source.RootDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.RootDataSource</span></code></a></p>
<p>DataSource which loads data from TSV sources. Uses python’s csv library.</p>
<dl class="method">
<dt id="pytext.data.sources.TSVDataSource.from_config">
<em class="property">classmethod </em><code class="sig-name descname">from_config</code><span class="sig-paren">(</span><em class="sig-param">config: pytext.data.sources.tsv.TSVDataSource.Config, schema: Dict[str, Type], **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.TSVDataSource.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.TSVDataSource.raw_eval_data_generator">
<code class="sig-name descname">raw_eval_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource.raw_eval_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.TSVDataSource.raw_eval_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the EVAL data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.TSVDataSource.raw_test_data_generator">
<code class="sig-name descname">raw_test_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource.raw_test_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.TSVDataSource.raw_test_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TEST data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.TSVDataSource.raw_train_data_generator">
<code class="sig-name descname">raw_train_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/tsv.html#TSVDataSource.raw_train_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.TSVDataSource.raw_train_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TRAIN data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.PandasDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.</code><code class="sig-name descname">PandasDataSource</code><span class="sig-paren">(</span><em class="sig-param">train_df: Optional[pandas.core.frame.DataFrame] = None</em>, <em class="sig-param">eval_df: Optional[pandas.core.frame.DataFrame] = None</em>, <em class="sig-param">test_df: Optional[pandas.core.frame.DataFrame] = None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.PandasDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.data_source.RootDataSource" title="pytext.data.sources.data_source.RootDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.data_source.RootDataSource</span></code></a></p>
<p>DataSource which loads data from a pandas DataFrame.</p>
<dl>
<dt>Inputs:</dt><dd><p>train_df: DataFrame for training</p>
<p>eval_df: DataFrame for evalu</p>
<p>test_df: DataFrame for test</p>
<p>schema: same as base DataSource, define the list of output values with their types</p>
<p>column_mapping: maps the column names in DataFrame to the name defined in schema</p>
</dd>
</dl>
<dl class="method">
<dt id="pytext.data.sources.PandasDataSource.raw_eval_data_generator">
<code class="sig-name descname">raw_eval_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource.raw_eval_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.PandasDataSource.raw_eval_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the EVAL data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.PandasDataSource.raw_generator">
<em class="property">static </em><code class="sig-name descname">raw_generator</code><span class="sig-paren">(</span><em class="sig-param">df: Optional[pandas.core.frame.DataFrame]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource.raw_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.PandasDataSource.raw_generator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="method">
<dt id="pytext.data.sources.PandasDataSource.raw_test_data_generator">
<code class="sig-name descname">raw_test_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource.raw_test_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.PandasDataSource.raw_test_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TEST data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
<dl class="method">
<dt id="pytext.data.sources.PandasDataSource.raw_train_data_generator">
<code class="sig-name descname">raw_train_data_generator</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/pandas.html#PandasDataSource.raw_train_data_generator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.PandasDataSource.raw_train_data_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator that yields the TRAIN data one item at a time
in a dictionary where each key is a field and the value is of the
raw type from the source.
DataSources need to implement this.</p>
</dd></dl>
</dd></dl>
<dl class="class">
<dt id="pytext.data.sources.CoNLLUNERDataSource">
<em class="property">class </em><code class="sig-prename descclassname">pytext.data.sources.</code><code class="sig-name descname">CoNLLUNERDataSource</code><span class="sig-paren">(</span><em class="sig-param">language=None</em>, <em class="sig-param">train_file=None</em>, <em class="sig-param">test_file=None</em>, <em class="sig-param">eval_file=None</em>, <em class="sig-param">field_names=None</em>, <em class="sig-param">delimiter='t'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pytext/data/sources/conllu.html#CoNLLUNERDataSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pytext.data.sources.CoNLLUNERDataSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pytext.data.sources.conllu.CoNLLUPOSDataSource" title="pytext.data.sources.conllu.CoNLLUPOSDataSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">pytext.data.sources.conllu.CoNLLUPOSDataSource</span></code></a></p>
<p>Reads an empty line separated data (word     label).
This data source supports datasets for NER tasks</p>
</dd></dl>
</div>
</div>
</div>
</div>
</div>
<div aria-label="main navigation" class="sphinxsidebar" role="navigation">
<div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">PyText</a></h1>
<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../train_your_first_model.html">Train your first model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../execute_your_first_model.html">Execute your first model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualize_your_model.html">Visualize Model Training with TensorBoard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pytext_models_in_your_app.html">Use PyText models in your app</a></li>
<li class="toctree-l1"><a class="reference internal" href="../serving_models_in_production.html">Serve Models in Production</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_files.html">Config Files Explained</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config_commands.html">Config Commands</a></li>
</ul>
<p class="caption"><span class="caption-text">Training More Advanced Models</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atis_tutorial.html">Train Intent-Slot model on ATIS Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hierarchical_intent_slot_tutorial.html">Hierarchical intent and slot filling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../disjoint_multitask_tutorial.html">Multitask training with disjoint datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../distributed_training_tutorial.html">Data Parallel Distributed Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xlm_r.html">XLM-RoBERTa</a></li>
</ul>
<p class="caption"><span class="caption-text">Extending PyText</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Architecture Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datasource_tutorial.html">Custom Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tensorizer.html">Custom Tensorizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dense.html">Using External Dense Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../create_new_model.html">Creating A New Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hacking_pytext.html">Hacking PyText</a></li>
</ul>
<p class="caption"><span class="caption-text">References</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../configs/pytext.html">pytext</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pytext.html">pytext package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pytext.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.builtin_task">pytext.builtin_task module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.main">pytext.main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext.workflow">pytext.workflow module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pytext.html#module-pytext">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
<li><a href="../index.html">Documentation overview</a><ul>
<li><a href="pytext.html">pytext package</a><ul>
<li><a href="pytext.data.html">pytext.data package</a><ul>
<li>Previous: <a href="pytext.data.featurizer.html" title="previous chapter">pytext.data.featurizer package</a></li>
<li>Next: <a href="pytext.data.test.html" title="next chapter">pytext.data.test package</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="searchbox" role="search" style="display: none">
<h3 id="searchlabel">Quick search</h3>
<div class="searchformwrapper">
<form action="../search.html" class="search" method="get">
<input aria-labelledby="searchlabel" name="q" type="text"/>
<input type="submit" value="Go"/>
</form>
</div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="clearer"></div>
</div></div>